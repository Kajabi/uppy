"use strict";(function(){var xZ=Object.create;var Zh=Object.defineProperty;var CZ=Object.getOwnPropertyDescriptor;var FZ=Object.getOwnPropertyNames;var LZ=Object.getPrototypeOf,jZ=Object.prototype.hasOwnProperty;var i=function(t,e){return Zh(t,"name",{value:e,configurable:!0})};var N=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Hl=function(t,e){for(var r in e)Zh(t,r,{get:e[r],enumerable:!0})},NZ=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var a=FZ(e),o=0,u=a.length,s;o<u;o++)s=a[o],!jZ.call(t,s)&&s!==r&&Zh(t,s,{get:function(c){return e[c]}.bind(null,s),enumerable:!(n=CZ(e,s))||n.enumerable});return t};var Te=function(t,e,r){return r=t!=null?xZ(LZ(t)):{},NZ(e||!t||!t.__esModule?Zh(r,"default",{value:t,enumerable:!0}):r,t)};var ve=N(function(Oit,E2){function Yu(t){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}i(Yu,"_typeof");var ed=i(function(e){return e&&e.Math==Math&&e},"check");E2.exports=ed((typeof globalThis=="undefined"?"undefined":Yu(globalThis))=="object"&&globalThis)||ed((typeof window=="undefined"?"undefined":Yu(window))=="object"&&window)||ed((typeof self=="undefined"?"undefined":Yu(self))=="object"&&self)||ed((typeof global=="undefined"?"undefined":Yu(global))=="object"&&global)||function(){return this}()||Function("return this")()});var se=N(function(Sit,R2){R2.exports=function(t){try{return!!t()}catch(e){return!0}}});var Oe=N(function(_it,T2){var DZ=se();T2.exports=!DZ(function(){return Object.defineProperty({},1,{get:i(function(){return 7},"get")})[1]!=7})});var Xu=N(function(Pit,A2){var UZ=se();A2.exports=!UZ(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var ce=N(function(Eit,I2){var MZ=Xu(),td=Function.prototype.call;I2.exports=MZ?td.bind(td):function(){return td.apply(td,arguments)}});var Vl=N(function(x2){"use strict";var k2={}.propertyIsEnumerable,q2=Object.getOwnPropertyDescriptor,BZ=q2&&!k2.call({1:2},1);x2.f=BZ?i(function(e){var r=q2(this,e);return!!r&&r.enumerable},"propertyIsEnumerable"):k2});var Cr=N(function(Tit,C2){C2.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var le=N(function(Ait,j2){var F2=Xu(),L2=Function.prototype,$Z=L2.bind,Ow=L2.call,zZ=F2&&$Z.bind(Ow,Ow);j2.exports=F2?function(t){return t&&zZ(t)}:function(t){return t&&function(){return Ow.apply(t,arguments)}}});var mr=N(function(Iit,D2){var N2=le(),GZ=N2({}.toString),HZ=N2("".slice);D2.exports=function(t){return HZ(GZ(t),8,-1)}});var wi=N(function(kit,U2){var VZ=le(),WZ=se(),KZ=mr(),Sw=Object,YZ=VZ("".split);U2.exports=WZ(function(){return!Sw("z").propertyIsEnumerable(0)})?function(t){return KZ(t)=="String"?YZ(t,""):Sw(t)}:Sw});var gt=N(function(qit,M2){var XZ=TypeError;M2.exports=function(t){if(t==null)throw XZ("Can't call method on "+t);return t}});var bt=N(function(xit,B2){var JZ=wi(),QZ=gt();B2.exports=function(t){return JZ(QZ(t))}});var Pe=N(function(Cit,$2){$2.exports=function(t){return typeof t=="function"}});var Re=N(function(Fit,z2){function _w(t){return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(t)}i(_w,"_typeof");var ZZ=Pe();z2.exports=function(t){return _w(t)=="object"?t!==null:ZZ(t)}});var me=N(function(Lit,G2){var Pw=ve(),eee=Pe(),tee=i(function(e){return eee(e)?e:void 0},"aFunction");G2.exports=function(t,e){return arguments.length<2?tee(Pw[t]):Pw[t]&&Pw[t][e]}});var rr=N(function(jit,H2){var ree=le();H2.exports=ree({}.isPrototypeOf)});var Oi=N(function(Nit,V2){var nee=me();V2.exports=nee("navigator","userAgent")||""});var go=N(function(Dit,Q2){var J2=ve(),Ew=Oi(),W2=J2.process,K2=J2.Deno,Y2=W2&&W2.versions||K2&&K2.version,X2=Y2&&Y2.v8,wn,rd;X2&&(wn=X2.split("."),rd=wn[0]>0&&wn[0]<4?1:+(wn[0]+wn[1]));!rd&&Ew&&(wn=Ew.match(/Edge\/(\d+)/),(!wn||wn[1]>=74)&&(wn=Ew.match(/Chrome\/(\d+)/),wn&&(rd=+wn[1])));Q2.exports=rd});var ya=N(function(Uit,ex){var Z2=go(),iee=se();ex.exports=!!Object.getOwnPropertySymbols&&!iee(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Z2&&Z2<41})});var Tw=N(function(Mit,tx){function Rw(t){return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(t)}i(Rw,"_typeof");var oee=ya();tx.exports=oee&&!Symbol.sham&&Rw(Symbol.iterator)=="symbol"});var bo=N(function(Bit,rx){function Aw(t){return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}i(Aw,"_typeof");var aee=me(),uee=Pe(),see=rr(),lee=Tw(),cee=Object;rx.exports=lee?function(t){return Aw(t)=="symbol"}:function(t){var e=aee("Symbol");return uee(e)&&see(e.prototype,cee(t))}});var wo=N(function($it,nx){var fee=String;nx.exports=function(t){try{return fee(t)}catch(e){return"Object"}}});var de=N(function(zit,ix){var pee=Pe(),hee=wo(),dee=TypeError;ix.exports=function(t){if(pee(t))return t;throw dee(hee(t)+" is not a function")}});var It=N(function(Git,ox){var vee=de();ox.exports=function(t,e){var r=t[e];return r==null?void 0:vee(r)}});var xw=N(function(Hit,ax){var Iw=ce(),kw=Pe(),qw=Re(),yee=TypeError;ax.exports=function(t,e){var r,n;if(e==="string"&&kw(r=t.toString)&&!qw(n=Iw(r,t))||kw(r=t.valueOf)&&!qw(n=Iw(r,t))||e!=="string"&&kw(r=t.toString)&&!qw(n=Iw(r,t)))return n;throw yee("Can't convert object to primitive value")}});var rt=N(function(Vit,ux){ux.exports=!1});var nd=N(function(Wit,lx){var sx=ve(),mee=Object.defineProperty;lx.exports=function(t,e){try{mee(sx,t,{value:e,configurable:!0,writable:!0})}catch(r){sx[t]=e}return e}});var Wl=N(function(Kit,fx){var gee=ve(),bee=nd(),cx="__core-js_shared__",wee=gee[cx]||bee(cx,{});fx.exports=wee});var Oo=N(function(Yit,hx){var Oee=rt(),px=Wl();(hx.exports=function(t,e){return px[t]||(px[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.24.1",mode:Oee?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var xe=N(function(Xit,dx){var See=gt(),_ee=Object;dx.exports=function(t){return _ee(See(t))}});var Ae=N(function(Jit,vx){var Pee=le(),Eee=xe(),Ree=Pee({}.hasOwnProperty);vx.exports=Object.hasOwn||i(function(e,r){return Ree(Eee(e),r)},"hasOwn")});var ma=N(function(Qit,yx){var Tee=le(),Aee=0,Iee=Math.random(),kee=Tee(1 .toString);yx.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+kee(++Aee+Iee,36)}});var be=N(function(Zit,Ox){var qee=ve(),xee=Oo(),mx=Ae(),Cee=ma(),gx=ya(),wx=Tw(),Ju=xee("wks"),ga=qee.Symbol,bx=ga&&ga.for,Fee=wx?ga:ga&&ga.withoutSetter||Cee;Ox.exports=function(t){if(!mx(Ju,t)||!(gx||typeof Ju[t]=="string")){var e="Symbol."+t;gx&&mx(ga,t)?Ju[t]=ga[t]:wx&&bx?Ju[t]=bx(e):Ju[t]=Fee(e)}return Ju[t]}});var id=N(function(eot,Px){var Lee=ce(),Sx=Re(),_x=bo(),jee=It(),Nee=xw(),Dee=be(),Uee=TypeError,Mee=Dee("toPrimitive");Px.exports=function(t,e){if(!Sx(t)||_x(t))return t;var r=jee(t,Mee),n;if(r){if(e===void 0&&(e="default"),n=Lee(r,t,e),!Sx(n)||_x(n))return n;throw Uee("Can't convert object to primitive value")}return e===void 0&&(e="number"),Nee(t,e)}});var Bn=N(function(tot,Ex){var Bee=id(),$ee=bo();Ex.exports=function(t){var e=Bee(t,"string");return $ee(e)?e:e+""}});var Kl=N(function(rot,Tx){var zee=ve(),Rx=Re(),Cw=zee.document,Gee=Rx(Cw)&&Rx(Cw.createElement);Tx.exports=function(t){return Gee?Cw.createElement(t):{}}});var Fw=N(function(not,Ax){var Hee=Oe(),Vee=se(),Wee=Kl();Ax.exports=!Hee&&!Vee(function(){return Object.defineProperty(Wee("div"),"a",{get:i(function(){return 7},"get")}).a!=7})});var Mt=N(function(kx){var Kee=Oe(),Yee=ce(),Xee=Vl(),Jee=Cr(),Qee=bt(),Zee=Bn(),ete=Ae(),tte=Fw(),Ix=Object.getOwnPropertyDescriptor;kx.f=Kee?Ix:i(function(e,r){if(e=Qee(e),r=Zee(r),tte)try{return Ix(e,r)}catch(n){}if(ete(e,r))return Jee(!Yee(Xee.f,e,r),e[r])},"getOwnPropertyDescriptor")});var Lw=N(function(oot,qx){var rte=Oe(),nte=se();qx.exports=rte&&nte(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var te=N(function(aot,xx){var ite=Re(),ote=String,ate=TypeError;xx.exports=function(t){if(ite(t))return t;throw ate(ote(t)+" is not an object")}});var We=N(function(Fx){var ute=Oe(),ste=Fw(),lte=Lw(),od=te(),Cx=Bn(),cte=TypeError,jw=Object.defineProperty,fte=Object.getOwnPropertyDescriptor,Nw="enumerable",Dw="configurable",Uw="writable";Fx.f=ute?lte?i(function(e,r,n){if(od(e),r=Cx(r),od(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Uw in n&&!n[Uw]){var a=fte(e,r);a&&a[Uw]&&(e[r]=n.value,n={configurable:Dw in n?n[Dw]:a[Dw],enumerable:Nw in n?n[Nw]:a[Nw],writable:!1})}return jw(e,r,n)},"defineProperty"):jw:i(function(e,r,n){if(od(e),r=Cx(r),od(n),ste)try{return jw(e,r,n)}catch(a){}if("get"in n||"set"in n)throw cte("Accessors not supported");return"value"in n&&(e[r]=n.value),e},"defineProperty")});var kt=N(function(sot,Lx){var pte=Oe(),hte=We(),dte=Cr();Lx.exports=pte?function(t,e,r){return hte.f(t,e,dte(1,r))}:function(t,e,r){return t[e]=r,t}});var ba=N(function(lot,Nx){var Mw=Oe(),vte=Ae(),jx=Function.prototype,yte=Mw&&Object.getOwnPropertyDescriptor,Bw=vte(jx,"name"),mte=Bw&&i(function(){},"something").name==="something",gte=Bw&&(!Mw||Mw&&yte(jx,"name").configurable);Nx.exports={EXISTS:Bw,PROPER:mte,CONFIGURABLE:gte}});var Qu=N(function(cot,Dx){var bte=le(),wte=Pe(),$w=Wl(),Ote=bte(Function.toString);wte($w.inspectSource)||($w.inspectSource=function(t){return Ote(t)});Dx.exports=$w.inspectSource});var zw=N(function(fot,Mx){var Ste=ve(),_te=Pe(),Pte=Qu(),Ux=Ste.WeakMap;Mx.exports=_te(Ux)&&/native code/.test(Pte(Ux))});var Yl=N(function(pot,$x){var Ete=Oo(),Rte=ma(),Bx=Ete("keys");$x.exports=function(t){return Bx[t]||(Bx[t]=Rte(t))}});var Zu=N(function(hot,zx){zx.exports={}});var Ye=N(function(dot,Kx){var Tte=zw(),Wx=ve(),Gw=le(),Ate=Re(),Ite=kt(),Hw=Ae(),Vw=Wl(),kte=Yl(),qte=Zu(),Gx="Object already initialized",Kw=Wx.TypeError,xte=Wx.WeakMap,ad,Xl,ud,Cte=i(function(e){return ud(e)?Xl(e):ad(e,{})},"enforce"),Fte=i(function(e){return function(r){var n;if(!Ate(r)||(n=Xl(r)).type!==e)throw Kw("Incompatible receiver, "+e+" required");return n}},"getterFor");Tte||Vw.state?(So=Vw.state||(Vw.state=new xte),Hx=Gw(So.get),Ww=Gw(So.has),Vx=Gw(So.set),ad=i(function(e,r){if(Ww(So,e))throw new Kw(Gx);return r.facade=e,Vx(So,e,r),r},"set"),Xl=i(function(e){return Hx(So,e)||{}},"get"),ud=i(function(e){return Ww(So,e)},"has")):(wa=kte("state"),qte[wa]=!0,ad=i(function(e,r){if(Hw(e,wa))throw new Kw(Gx);return r.facade=e,Ite(e,wa,r),r},"set"),Xl=i(function(e){return Hw(e,wa)?e[wa]:{}},"get"),ud=i(function(e){return Hw(e,wa)},"has"));var So,Hx,Ww,Vx,wa;Kx.exports={set:ad,get:Xl,has:ud,enforce:Cte,getterFor:Fte}});var cd=N(function(vot,Xx){var Lte=se(),jte=Pe(),sd=Ae(),Yw=Oe(),Nte=ba().CONFIGURABLE,Dte=Qu(),Yx=Ye(),Ute=Yx.enforce,Mte=Yx.get,ld=Object.defineProperty,Bte=Yw&&!Lte(function(){return ld(function(){},"length",{value:8}).length!==8}),$te=String(String).split("String"),zte=Xx.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!sd(t,"name")||Nte&&t.name!==e)&&(Yw?ld(t,"name",{value:e,configurable:!0}):t.name=e),Bte&&r&&sd(r,"arity")&&t.length!==r.arity&&ld(t,"length",{value:r.arity});try{r&&sd(r,"constructor")&&r.constructor?Yw&&ld(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(a){}var n=Ute(t);return sd(n,"source")||(n.source=$te.join(typeof e=="string"?e:"")),t};Function.prototype.toString=zte(i(function(){return jte(this)&&Mte(this).source||Dte(this)},"toString"),"toString")});var nt=N(function(yot,Jx){var Gte=Pe(),Hte=We(),Vte=cd(),Wte=nd();Jx.exports=function(t,e,r,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:e;if(Gte(r)&&Vte(r,o,n),n.global)a?t[e]=r:Wte(e,r);else{try{n.unsafe?t[e]&&(a=!0):delete t[e]}catch(u){}a?t[e]=r:Hte.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var Xw=N(function(mot,Qx){var Kte=Math.ceil,Yte=Math.floor;Qx.exports=Math.trunc||i(function(e){var r=+e;return(r>0?Yte:Kte)(r)},"trunc")});var ut=N(function(got,Zx){var Xte=Xw();Zx.exports=function(t){var e=+t;return e!==e||e===0?0:Xte(e)}});var On=N(function(bot,eC){var Jte=ut(),Qte=Math.max,Zte=Math.min;eC.exports=function(t,e){var r=Jte(t);return r<0?Qte(r+e,0):Zte(r,e)}});var Fr=N(function(wot,tC){var ere=ut(),tre=Math.min;tC.exports=function(t){return t>0?tre(ere(t),9007199254740991):0}});var Le=N(function(Oot,rC){var rre=Fr();rC.exports=function(t){return rre(t.length)}});var Jl=N(function(Sot,iC){var nre=bt(),ire=On(),ore=Le(),nC=i(function(e){return function(r,n,a){var o=nre(r),u=ore(o),s=ire(a,u),c;if(e&&n!=n){for(;u>s;)if(c=o[s++],c!=c)return!0}else for(;u>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},"createMethod");iC.exports={includes:nC(!0),indexOf:nC(!1)}});var Qw=N(function(_ot,aC){var are=le(),Jw=Ae(),ure=bt(),sre=Jl().indexOf,lre=Zu(),oC=are([].push);aC.exports=function(t,e){var r=ure(t),n=0,a=[],o;for(o in r)!Jw(lre,o)&&Jw(r,o)&&oC(a,o);for(;e.length>n;)Jw(r,o=e[n++])&&(~sre(a,o)||oC(a,o));return a}});var fd=N(function(Pot,uC){uC.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Si=N(function(sC){var cre=Qw(),fre=fd(),pre=fre.concat("length","prototype");sC.f=Object.getOwnPropertyNames||i(function(e){return cre(e,pre)},"getOwnPropertyNames")});var Ql=N(function(lC){lC.f=Object.getOwnPropertySymbols});var pd=N(function(Tot,cC){var hre=me(),dre=le(),vre=Si(),yre=Ql(),mre=te(),gre=dre([].concat);cC.exports=hre("Reflect","ownKeys")||i(function(e){var r=vre.f(mre(e)),n=yre.f;return n?gre(r,n(e)):r},"ownKeys")});var Zl=N(function(Aot,pC){var fC=Ae(),bre=pd(),wre=Mt(),Ore=We();pC.exports=function(t,e,r){for(var n=bre(e),a=Ore.f,o=wre.f,u=0;u<n.length;u++){var s=n[u];!fC(t,s)&&!(r&&fC(r,s))&&a(t,s,o(e,s))}}});var es=N(function(Iot,hC){var Sre=se(),_re=Pe(),Pre=/#|\.prototype\./,ec=i(function(e,r){var n=Rre[Ere(e)];return n==Are?!0:n==Tre?!1:_re(r)?Sre(r):!!r},"isForced"),Ere=ec.normalize=function(t){return String(t).replace(Pre,".").toLowerCase()},Rre=ec.data={},Tre=ec.NATIVE="N",Are=ec.POLYFILL="P";hC.exports=ec});var D=N(function(kot,dC){function hd(t){return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}i(hd,"_typeof");var Zw=ve(),Ire=Mt().f,kre=kt(),qre=nt(),xre=nd(),Cre=Zl(),Fre=es();dC.exports=function(t,e){var r=t.target,n=t.global,a=t.stat,o,u,s,c,p,h;if(n?u=Zw:a?u=Zw[r]||xre(r,{}):u=(Zw[r]||{}).prototype,u)for(s in e){if(p=e[s],t.dontCallGetSet?(h=Ire(u,s),c=h&&h.value):c=u[s],o=Fre(n?s:r+(a?".":"#")+s,t.forced),!o&&c!==void 0){if(hd(p)==hd(c))continue;Cre(p,c)}(t.sham||c&&c.sham)&&kre(p,"sham",!0),qre(u,s,p,t)}}});var dd=N(function(qot,yC){var Lre=be(),jre=Lre("toStringTag"),vC={};vC[jre]="z";yC.exports=String(vC)==="[object z]"});var Sn=N(function(xot,mC){var Nre=dd(),Dre=Pe(),vd=mr(),Ure=be(),Mre=Ure("toStringTag"),Bre=Object,$re=vd(function(){return arguments}())=="Arguments",zre=i(function(e,r){try{return e[r]}catch(n){}},"tryGet");mC.exports=Nre?vd:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=zre(e=Bre(t),Mre))=="string"?r:$re?vd(e):(n=vd(e))=="Object"&&Dre(e.callee)?"Arguments":n}});var je=N(function(Cot,gC){var Gre=Sn(),Hre=String;gC.exports=function(t){if(Gre(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Hre(t)}});var Oa=N(function(Fot,bC){var Vre=Qw(),Wre=fd();bC.exports=Object.keys||i(function(e){return Vre(e,Wre)},"keys")});var yd=N(function(wC){var Kre=Oe(),Yre=Lw(),Xre=We(),Jre=te(),Qre=bt(),Zre=Oa();wC.f=Kre&&!Yre?Object.defineProperties:i(function(e,r){Jre(e);for(var n=Qre(r),a=Zre(r),o=a.length,u=0,s;o>u;)Xre.f(e,s=a[u++],n[s]);return e},"defineProperties")});var e0=N(function(jot,OC){var ene=me();OC.exports=ene("document","documentElement")});var wt=N(function(Not,AC){var tne=te(),rne=yd(),SC=fd(),nne=Zu(),ine=e0(),one=Kl(),ane=Yl(),_C=">",PC="<",r0="prototype",n0="script",RC=ane("IE_PROTO"),t0=i(function(){},"EmptyConstructor"),TC=i(function(e){return PC+n0+_C+e+PC+"/"+n0+_C},"scriptTag"),EC=i(function(e){e.write(TC("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),une=i(function(){var e=one("iframe"),r="java"+n0+":",n;return e.style.display="none",ine.appendChild(e),e.src=String(r),n=e.contentWindow.document,n.open(),n.write(TC("document.F=Object")),n.close(),n.F},"NullProtoObjectViaIFrame"),md,gd=i(function(){try{md=new ActiveXObject("htmlfile")}catch(r){}gd=typeof document!="undefined"?document.domain&&md?EC(md):une():EC(md);for(var e=SC.length;e--;)delete gd[r0][SC[e]];return gd()},"NullProtoObject");nne[RC]=!0;AC.exports=Object.create||i(function(e,r){var n;return e!==null?(t0[r0]=tne(e),n=new t0,t0[r0]=null,n[RC]=e):n=gd(),r===void 0?n:rne.f(n,r)},"create")});var $n=N(function(Dot,IC){"use strict";var sne=Bn(),lne=We(),cne=Cr();IC.exports=function(t,e,r){var n=sne(e);n in t?lne.f(t,n,cne(0,r)):t[n]=r}});var ts=N(function(Uot,qC){var kC=On(),fne=Le(),pne=$n(),hne=Array,dne=Math.max;qC.exports=function(t,e,r){for(var n=fne(t),a=kC(e,n),o=kC(r===void 0?n:r,n),u=hne(dne(o-a,0)),s=0;a<o;a++,s++)pne(u,s,t[a]);return u.length=s,u}});var bd=N(function(Mot,FC){function i0(t){return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}i(i0,"_typeof");var vne=mr(),yne=bt(),xC=Si().f,mne=ts(),CC=(typeof window=="undefined"?"undefined":i0(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],gne=i(function(e){try{return xC(e)}catch(r){return mne(CC)}},"getWindowNames");FC.exports.f=i(function(e){return CC&&vne(e)=="Window"?gne(e):xC(yne(e))},"getOwnPropertyNames")});var o0=N(function(LC){var bne=be();LC.f=bne});var NC=N(function($ot,jC){var wne=ve();jC.exports=wne});var st=N(function(zot,UC){var DC=NC(),One=Ae(),Sne=o0(),_ne=We().f;UC.exports=function(t){var e=DC.Symbol||(DC.Symbol={});One(e,t)||_ne(e,t,{value:Sne.f(t)})}});var a0=N(function(Got,MC){var Pne=ce(),Ene=me(),Rne=be(),Tne=nt();MC.exports=function(){var t=Ene("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=Rne("toPrimitive");e&&!e[n]&&Tne(e,n,function(a){return Pne(r,this)},{arity:1})}});var gr=N(function(Hot,$C){var Ane=We().f,Ine=Ae(),kne=be(),BC=kne("toStringTag");$C.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Ine(t,BC)&&Ane(t,BC,{configurable:!0,value:e})}});var Xe=N(function(Vot,GC){var zC=le(),qne=de(),xne=Xu(),Cne=zC(zC.bind);GC.exports=function(t,e){return qne(t),e===void 0?t:xne?Cne(t,e):function(){return t.apply(e,arguments)}}});var Sa=N(function(Wot,HC){var Fne=mr();HC.exports=Array.isArray||i(function(e){return Fne(e)=="Array"},"isArray")});var _n=N(function(Kot,XC){var Lne=le(),jne=se(),VC=Pe(),Nne=Sn(),Dne=me(),Une=Qu(),WC=i(function(){},"noop"),Mne=[],KC=Dne("Reflect","construct"),u0=/^\s*(?:class|function)\b/,Bne=Lne(u0.exec),$ne=!u0.exec(WC),tc=i(function(e){if(!VC(e))return!1;try{return KC(WC,Mne,e),!0}catch(r){return!1}},"isConstructor"),YC=i(function(e){if(!VC(e))return!1;switch(Nne(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $ne||!!Bne(u0,Une(e))}catch(r){return!0}},"isConstructor");YC.sham=!0;XC.exports=!KC||jne(function(){var t;return tc(tc.call)||!tc(Object)||!tc(function(){t=!0})||t})?YC:tc});var eF=N(function(Yot,ZC){var JC=Sa(),zne=_n(),Gne=Re(),Hne=be(),Vne=Hne("species"),QC=Array;ZC.exports=function(t){var e;return JC(t)&&(e=t.constructor,zne(e)&&(e===QC||JC(e.prototype))?e=void 0:Gne(e)&&(e=e[Vne],e===null&&(e=void 0))),e===void 0?QC:e}});var _a=N(function(Xot,tF){var Wne=eF();tF.exports=function(t,e){return new(Wne(t))(e===0?0:e)}});var Ot=N(function(Jot,nF){var Kne=Xe(),Yne=le(),Xne=wi(),Jne=xe(),Qne=Le(),Zne=_a(),rF=Yne([].push),_o=i(function(e){var r=e==1,n=e==2,a=e==3,o=e==4,u=e==6,s=e==7,c=e==5||u;return function(p,h,y,m){for(var w=Jne(p),_=Xne(w),R=Kne(h,y),T=Qne(_),E=0,A=m||Zne,C=r?A(p,T):n||s?A(p,0):void 0,U,G;T>E;E++)if((c||E in _)&&(U=_[E],G=R(U,E,w),e))if(r)C[E]=G;else if(G)switch(e){case 3:return!0;case 5:return U;case 6:return E;case 2:rF(C,U)}else switch(e){case 4:return!1;case 7:rF(C,U)}return u?-1:a||o?o:C}},"createMethod");nF.exports={forEach:_o(0),map:_o(1),filter:_o(2),some:_o(3),every:_o(4),find:_o(5),findIndex:_o(6),filterReject:_o(7)}});var bF=N(function(){"use strict";var wd=D(),y0=ve(),m0=ce(),eie=le(),tie=rt(),rs=Oe(),ns=ya(),rie=se(),Nt=Ae(),nie=rr(),f0=te(),Od=bt(),g0=Bn(),iie=je(),p0=Cr(),nc=wt(),aF=Oa(),oie=Si(),uF=bd(),aie=Ql(),sF=Mt(),lF=We(),uie=yd(),cF=Vl(),s0=nt(),b0=Oo(),sie=Yl(),fF=Zu(),iF=ma(),lie=be(),cie=o0(),fie=st(),pie=a0(),hie=gr(),pF=Ye(),Sd=Ot().forEach,br=sie("hidden"),_d="Symbol",ic="prototype",die=pF.set,oF=pF.getterFor(_d),en=Object[ic],Pa=y0.Symbol,rc=Pa&&Pa[ic],vie=y0.TypeError,l0=y0.QObject,hF=sF.f,Po=lF.f,dF=uF.f,yie=cF.f,vF=eie([].push),_i=b0("symbols"),oc=b0("op-symbols"),mie=b0("wks"),h0=!l0||!l0[ic]||!l0[ic].findChild,d0=rs&&rie(function(){return nc(Po({},"a",{get:i(function(){return Po(this,"a",{value:7}).a},"get")})).a!=7})?function(t,e,r){var n=hF(en,e);n&&delete en[e],Po(t,e,r),n&&t!==en&&Po(en,e,n)}:Po,c0=i(function(e,r){var n=_i[e]=nc(rc);return die(n,{type:_d,tag:e,description:r}),rs||(n.description=r),n},"wrap"),Pd=i(function(e,r,n){e===en&&Pd(oc,r,n),f0(e);var a=g0(r);return f0(n),Nt(_i,a)?(n.enumerable?(Nt(e,br)&&e[br][a]&&(e[br][a]=!1),n=nc(n,{enumerable:p0(0,!1)})):(Nt(e,br)||Po(e,br,p0(1,{})),e[br][a]=!0),d0(e,a,n)):Po(e,a,n)},"defineProperty"),w0=i(function(e,r){f0(e);var n=Od(r),a=aF(n).concat(gF(n));return Sd(a,function(o){(!rs||m0(v0,n,o))&&Pd(e,o,n[o])}),e},"defineProperties"),gie=i(function(e,r){return r===void 0?nc(e):w0(nc(e),r)},"create"),v0=i(function(e){var r=g0(e),n=m0(yie,this,r);return this===en&&Nt(_i,r)&&!Nt(oc,r)?!1:n||!Nt(this,r)||!Nt(_i,r)||Nt(this,br)&&this[br][r]?n:!0},"propertyIsEnumerable"),yF=i(function(e,r){var n=Od(e),a=g0(r);if(!(n===en&&Nt(_i,a)&&!Nt(oc,a))){var o=hF(n,a);return o&&Nt(_i,a)&&!(Nt(n,br)&&n[br][a])&&(o.enumerable=!0),o}},"getOwnPropertyDescriptor"),mF=i(function(e){var r=dF(Od(e)),n=[];return Sd(r,function(a){!Nt(_i,a)&&!Nt(fF,a)&&vF(n,a)}),n},"getOwnPropertyNames"),gF=i(function(e){var r=e===en,n=dF(r?oc:Od(e)),a=[];return Sd(n,function(o){Nt(_i,o)&&(!r||Nt(en,o))&&vF(a,_i[o])}),a},"$getOwnPropertySymbols");ns||(Pa=i(function(){if(nie(rc,this))throw vie("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:iie(arguments[0]),r=iF(e),n=i(function a(o){this===en&&m0(a,oc,o),Nt(this,br)&&Nt(this[br],r)&&(this[br][r]=!1),d0(this,r,p0(1,o))},"setter");return rs&&h0&&d0(en,r,{configurable:!0,set:n}),c0(r,e)},"_Symbol"),rc=Pa[ic],s0(rc,"toString",i(function(){return oF(this).tag},"toString")),s0(Pa,"withoutSetter",function(t){return c0(iF(t),t)}),cF.f=v0,lF.f=Pd,uie.f=w0,sF.f=yF,oie.f=uF.f=mF,aie.f=gF,cie.f=function(t){return c0(lie(t),t)},rs&&(Po(rc,"description",{configurable:!0,get:i(function(){return oF(this).description},"description")}),tie||s0(en,"propertyIsEnumerable",v0,{unsafe:!0})));wd({global:!0,constructor:!0,wrap:!0,forced:!ns,sham:!ns},{Symbol:Pa});Sd(aF(mie),function(t){fie(t)});wd({target:_d,stat:!0,forced:!ns},{useSetter:i(function(){h0=!0},"useSetter"),useSimple:i(function(){h0=!1},"useSimple")});wd({target:"Object",stat:!0,forced:!ns,sham:!rs},{create:gie,defineProperty:Pd,defineProperties:w0,getOwnPropertyDescriptor:yF});wd({target:"Object",stat:!0,forced:!ns},{getOwnPropertyNames:mF});pie();hie(Pa,_d);fF[br]=!0});var O0=N(function(eat,wF){var bie=ya();wF.exports=bie&&!!Symbol.for&&!!Symbol.keyFor});var SF=N(function(){var wie=D(),Oie=me(),Sie=Ae(),_ie=je(),OF=Oo(),Pie=O0(),S0=OF("string-to-symbol-registry"),Eie=OF("symbol-to-string-registry");wie({target:"Symbol",stat:!0,forced:!Pie},{for:i(function(e){var r=_ie(e);if(Sie(S0,r))return S0[r];var n=Oie("Symbol")(r);return S0[r]=n,Eie[n]=r,n},"_for")})});var PF=N(function(){var Rie=D(),Tie=Ae(),Aie=bo(),Iie=wo(),kie=Oo(),qie=O0(),_F=kie("symbol-to-string-registry");Rie({target:"Symbol",stat:!0,forced:!qie},{keyFor:i(function(e){if(!Aie(e))throw TypeError(Iie(e)+" is not a symbol");if(Tie(_F,e))return _F[e]},"keyFor")})});var wr=N(function(oat,AF){function _0(t){return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}i(_0,"_typeof");var xie=Xu(),TF=Function.prototype,EF=TF.apply,RF=TF.call;AF.exports=(typeof Reflect=="undefined"?"undefined":_0(Reflect))=="object"&&Reflect.apply||(xie?RF.bind(EF):function(){return RF.apply(EF,arguments)})});var Eo=N(function(aat,IF){var Cie=le();IF.exports=Cie([].slice)});var P0=N(function(){var Fie=D(),jF=me(),NF=wr(),Lie=ce(),ac=le(),DF=se(),jie=Sa(),Nie=Pe(),Die=Re(),kF=bo(),UF=Eo(),Uie=ya(),Ro=jF("JSON","stringify"),Ed=ac(/./.exec),qF=ac("".charAt),Mie=ac("".charCodeAt),Bie=ac("".replace),$ie=ac(1 .toString),zie=/[\uD800-\uDFFF]/g,xF=/^[\uD800-\uDBFF]$/,CF=/^[\uDC00-\uDFFF]$/,FF=!Uie||DF(function(){var t=jF("Symbol")();return Ro([t])!="[null]"||Ro({a:t})!="{}"||Ro(Object(t))!="{}"}),LF=DF(function(){return Ro("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ro("\uDEAD")!=='"\\udead"'}),Gie=i(function(e,r){var n=UF(arguments),a=r;if(!(!Die(r)&&e===void 0||kF(e)))return jie(r)||(r=i(function(u,s){if(Nie(a)&&(s=Lie(a,this,u,s)),!kF(s))return s},"replacer")),n[1]=r,NF(Ro,null,n)},"stringifyWithSymbolsFix"),Hie=i(function(e,r,n){var a=qF(n,r-1),o=qF(n,r+1);return Ed(xF,e)&&!Ed(CF,o)||Ed(CF,e)&&!Ed(xF,a)?"\\u"+$ie(Mie(e,0),16):e},"fixIllFormed");Ro&&Fie({target:"JSON",stat:!0,arity:3,forced:FF||LF},{stringify:i(function(e,r,n){var a=UF(arguments),o=NF(FF?Gie:Ro,null,a);return LF&&typeof o=="string"?Bie(o,zie,Hie):o},"stringify")})});var BF=N(function(){var Vie=D(),Wie=ya(),Kie=se(),MF=Ql(),Yie=xe(),Xie=!Wie||Kie(function(){MF.f(1)});Vie({target:"Object",stat:!0,forced:Xie},{getOwnPropertySymbols:i(function(e){var r=MF.f;return r?r(Yie(e)):[]},"getOwnPropertySymbols")})});var T0=N(function(fat,KF){function R0(t){return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}i(R0,"_typeof");var Soe=Pe(),_oe=String,Poe=TypeError;KF.exports=function(t){if(R0(t)=="object"||Soe(t))return t;throw Poe("Can't set "+_oe(t)+" as a prototype")}});var zn=N(function(pat,YF){var Eoe=le(),Roe=te(),Toe=T0();YF.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=Eoe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch(n){}return i(function(a,o){return Roe(a),Toe(o),t?r(a,o):a.__proto__=o,a},"setPrototypeOf")}():void 0)});var A0=N(function(hat,XF){var Aoe=We().f;XF.exports=function(t,e,r){r in t||Aoe(t,r,{configurable:!0,get:i(function(){return e[r]},"get"),set:i(function(a){e[r]=a},"set")})}});var Ra=N(function(dat,QF){var Ioe=Pe(),koe=Re(),JF=zn();QF.exports=function(t,e,r){var n,a;return JF&&Ioe(n=e.constructor)&&n!==r&&koe(a=n.prototype)&&a!==r.prototype&&JF(t,a),t}});var is=N(function(vat,ZF){var qoe=je();ZF.exports=function(t,e){return t===void 0?arguments.length<2?"":e:qoe(t)}});var I0=N(function(yat,eL){var xoe=Re(),Coe=kt();eL.exports=function(t,e){xoe(e)&&"cause"in e&&Coe(t,"cause",e.cause)}});var sc=N(function(mat,nL){var Foe=le(),tL=Error,Loe=Foe("".replace),joe=function(t){return String(tL(t).stack)}("zxcasd"),rL=/\n\s*at [^:]*:[^\n]*/,Noe=rL.test(joe);nL.exports=function(t,e){if(Noe&&typeof t=="string"&&!tL.prepareStackTrace)for(;e--;)t=Loe(t,rL,"");return t}});var Td=N(function(gat,iL){var Doe=se(),Uoe=Cr();iL.exports=!Doe(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",Uoe(1,7)),t.stack!==7):!0})});var q0=N(function(bat,cL){"use strict";var oL=me(),Moe=Ae(),k0=kt(),Boe=rr(),aL=zn(),uL=Zl(),sL=A0(),$oe=Ra(),zoe=is(),Goe=I0(),Hoe=sc(),Voe=Td(),Woe=Oe(),lL=rt();cL.exports=function(t,e,r,n){var a="stackTraceLimit",o=n?2:1,u=t.split("."),s=u[u.length-1],c=oL.apply(null,u);if(!!c){var p=c.prototype;if(!lL&&Moe(p,"cause")&&delete p.cause,!r)return c;var h=oL("Error"),y=e(function(m,w){var _=zoe(n?w:m,void 0),R=n?new c(m):new c;return _!==void 0&&k0(R,"message",_),Voe&&k0(R,"stack",Hoe(R.stack,2)),this&&Boe(p,this)&&$oe(R,this,y),arguments.length>o&&Goe(R,arguments[o]),R});if(y.prototype=p,s!=="Error"?aL?aL(y,h):uL(y,h,{name:!0}):Woe&&a in c&&(sL(y,c,a),sL(y,c,"prepareStackTrace")),uL(y,c),!lL)try{p.name!==s&&k0(p,"name",s),p.constructor=y}catch(m){}return y}}});var Id=N(function(wat,dL){var Yoe=se();dL.exports=!Yoe(function(){function t(){}return i(t,"F"),t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Bt=N(function(Oat,yL){var Xoe=Ae(),Joe=Pe(),Qoe=xe(),Zoe=Yl(),eae=Id(),vL=Zoe("IE_PROTO"),F0=Object,tae=F0.prototype;yL.exports=eae?F0.getPrototypeOf:function(t){var e=Qoe(t);if(Xoe(e,vL))return e[vL];var r=e.constructor;return Joe(r)&&e instanceof r?r.prototype:e instanceof F0?tae:null}});var os=N(function(Sat,mL){mL.exports={}});var kd=N(function(_at,gL){var rae=be(),nae=os(),iae=rae("iterator"),oae=Array.prototype;gL.exports=function(t){return t!==void 0&&(nae.Array===t||oae[iae]===t)}});var Hn=N(function(Pat,wL){var aae=Sn(),bL=It(),uae=os(),sae=be(),lae=sae("iterator");wL.exports=function(t){if(t!=null)return bL(t,lae)||bL(t,"@@iterator")||uae[aae(t)]}});var tn=N(function(Eat,OL){var cae=ce(),fae=de(),pae=te(),hae=wo(),dae=Hn(),vae=TypeError;OL.exports=function(t,e){var r=arguments.length<2?dae(t):e;if(fae(r))return pae(cae(r,t));throw vae(hae(t)+" is not iterable")}});var Aa=N(function(Rat,_L){var yae=ce(),SL=te(),mae=It();_L.exports=function(t,e,r){var n,a;SL(t);try{if(n=mae(t,"return"),!n){if(e==="throw")throw r;return r}n=yae(n,t)}catch(o){a=!0,n=o}if(e==="throw")throw r;if(a)throw n;return SL(n),r}});var we=N(function(Tat,TL){function L0(t){return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}i(L0,"_typeof");var gae=Xe(),bae=ce(),wae=te(),Oae=wo(),Sae=kd(),_ae=Le(),PL=rr(),Pae=tn(),Eae=Hn(),EL=Aa(),Rae=TypeError,qd=i(function(e,r){this.stopped=e,this.result=r},"Result"),RL=qd.prototype;TL.exports=function(t,e,r){var n=r&&r.that,a=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),c=gae(e,n),p,h,y,m,w,_,R,T=i(function(C){return p&&EL(p,"normal",C),new qd(!0,C)},"stop"),E=i(function(C){return a?(wae(C),s?c(C[0],C[1],T):c(C[0],C[1])):s?c(C,T):c(C)},"callFn");if(o)p=t.iterator;else if(u)p=t;else{if(h=Eae(t),!h)throw Rae(Oae(t)+" is not iterable");if(Sae(h)){for(y=0,m=_ae(t);m>y;y++)if(w=E(t[y]),w&&PL(RL,w))return w;return new qd(!1)}p=Pae(t,h)}for(_=o?t.next:p.next;!(R=bae(_,p)).done;){try{w=E(R.value)}catch(A){EL(p,"throw",A)}if(L0(w)=="object"&&w&&PL(RL,w))return w}return new qd(!1)}});var IL=N(function(){"use strict";var Tae=D(),Aae=rr(),Iae=Bt(),Cd=zn(),kae=Zl(),AL=wt(),xd=kt(),j0=Cr(),qae=sc(),xae=I0(),Cae=we(),Fae=is(),Lae=be(),jae=Td(),Nae=Lae("toStringTag"),Fd=Error,Dae=[].push,lc=i(function(e,r){var n=arguments.length>2?arguments[2]:void 0,a=Aae(N0,this),o;Cd?o=Cd(new Fd,a?Iae(this):N0):(o=a?this:AL(N0),xd(o,Nae,"Error")),r!==void 0&&xd(o,"message",Fae(r)),jae&&xd(o,"stack",qae(o.stack,1)),xae(o,n);var u=[];return Cae(e,Dae,{that:u}),xd(o,"errors",u),o},"AggregateError");Cd?Cd(lc,Fd):kae(lc,Fd,{name:!0});var N0=lc.prototype=AL(Fd.prototype,{constructor:j0(1,lc),message:j0(1,""),name:j0(1,"AggregateError")});Tae({global:!0,constructor:!0,arity:2},{AggregateError:lc})});var it=N(function(kat,CL){var zae=be(),Gae=wt(),Hae=We().f,U0=zae("unscopables"),M0=Array.prototype;M0[U0]==null&&Hae(M0,U0,{configurable:!0,value:Gae(null)});CL.exports=function(t){M0[U0][t]=!0}});var Ia=N(function(qat,FL){var Jae=TypeError,Qae=9007199254740991;FL.exports=function(t){if(t>Qae)throw Jae("Maximum allowed index exceeded");return t}});var as=N(function(xat,LL){var Zae=se(),eue=be(),tue=go(),rue=eue("species");LL.exports=function(t){return tue>=51||!Zae(function(){var e=[],r=e.constructor={};return r[rue]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var Ld=N(function(Cat,ML){"use strict";var UL=wo(),mue=TypeError;ML.exports=function(t,e){if(!delete t[e])throw mue("Cannot delete property "+UL(e)+" of "+UL(t))}});var $0=N(function(Fat,BL){"use strict";var gue=xe(),B0=On(),bue=Le(),wue=Ld(),Oue=Math.min;BL.exports=[].copyWithin||i(function(e,r){var n=gue(this),a=bue(n),o=B0(e,a),u=B0(r,a),s=arguments.length>2?arguments[2]:void 0,c=Oue((s===void 0?a:B0(s,a))-u,a-o),p=1;for(u<o&&o<u+c&&(p=-1,u+=c-1,o+=c-1);c-- >0;)u in n?n[o]=n[u]:wue(n,o),o+=p,u+=p;return n},"copyWithin")});var jd=N(function(Lat,zL){"use strict";var Eue=xe(),$L=On(),Rue=Le();zL.exports=i(function(e){for(var r=Eue(this),n=Rue(r),a=arguments.length,o=$L(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=u===void 0?n:$L(u,n);s>o;)r[o++]=e;return r},"fill")});var cc=N(function(jat,WL){var Mue=Xe(),Bue=wi(),$ue=xe(),zue=Le(),VL=i(function(e){var r=e==1;return function(n,a,o){for(var u=$ue(n),s=Bue(u),c=Mue(a,o),p=zue(s),h,y;p-- >0;)if(h=s[p],y=c(h,p,u),y)switch(e){case 0:return h;case 1:return p}return r?-1:void 0}},"createMethod");WL.exports={findLast:VL(0),findLastIndex:VL(1)}});var H0=N(function(Nat,KL){"use strict";var Xue=Sa(),Jue=Le(),Que=Ia(),Zue=Xe(),ese=i(function t(e,r,n,a,o,u,s,c){for(var p=o,h=0,y=s?Zue(s,c):!1,m,w;h<a;)h in n&&(m=y?y(n[h],h,r):n[h],u>0&&Xue(m)?(w=Jue(m),p=t(e,r,m,w,p,u-1)-1):(Que(p+1),e[p]=m),p++),h++;return p},"flattenIntoArray");KL.exports=ese});var Nd=N(function(Dat,YL){var hse=te(),dse=Aa();YL.exports=function(t,e,r,n){try{return n?e(hse(r)[0],r[1]):e(r)}catch(a){dse(t,"throw",a)}}});var V0=N(function(Uat,QL){"use strict";var vse=Xe(),yse=ce(),mse=xe(),gse=Nd(),bse=kd(),wse=_n(),Ose=Le(),XL=$n(),Sse=tn(),_se=Hn(),JL=Array;QL.exports=i(function(e){var r=mse(e),n=wse(this),a=arguments.length,o=a>1?arguments[1]:void 0,u=o!==void 0;u&&(o=vse(o,a>2?arguments[2]:void 0));var s=_se(r),c=0,p,h,y,m,w,_;if(s&&!(this===JL&&bse(s)))for(m=Sse(r,s),w=m.next,h=n?new this:[];!(y=yse(w,m)).done;c++)_=u?gse(m,o,[y.value,c],!0):y.value,XL(h,c,_);else for(p=Ose(r),h=n?new this(p):JL(p);p>c;c++)_=u?o(r[c],c):r[c],XL(h,c,_);return h.length=c,h},"from")});var fc=N(function(Mat,rj){var Pse=be(),ej=Pse("iterator"),tj=!1;try{ZL=0,W0={next:i(function(){return{done:!!ZL++}},"next"),return:i(function(){tj=!0},"_return")},W0[ej]=function(){return this},Array.from(W0,function(){throw 2})}catch(t){}var ZL,W0;rj.exports=function(t,e){if(!e&&!tj)return!1;var r=!1;try{var n={};n[ej]=function(){return{next:i(function(){return{done:r=!0}},"next")}},t(n)}catch(a){}return r}});var us=N(function(Bat,oj){"use strict";var Fse=se(),Lse=Pe(),jse=wt(),nj=Bt(),Nse=nt(),Dse=be(),Use=rt(),X0=Dse("iterator"),ij=!1,Ei,K0,Y0;[].keys&&(Y0=[].keys(),"next"in Y0?(K0=nj(nj(Y0)),K0!==Object.prototype&&(Ei=K0)):ij=!0);var Mse=Ei==null||Fse(function(){var t={};return Ei[X0].call(t)!==t});Mse?Ei={}:Use&&(Ei=jse(Ei));Lse(Ei[X0])||Nse(Ei,X0,function(){return this});oj.exports={IteratorPrototype:Ei,BUGGY_SAFARI_ITERATORS:ij}});var To=N(function($at,aj){"use strict";var Bse=us().IteratorPrototype,$se=wt(),zse=Cr(),Gse=gr(),Hse=os(),Vse=i(function(){return this},"returnThis");aj.exports=function(t,e,r,n){var a=e+" Iterator";return t.prototype=$se(Bse,{next:zse(+!n,r)}),Gse(t,a,!1,!0),Hse[a]=Vse,t}});var Md=N(function(zat,yj){"use strict";var Wse=D(),Kse=ce(),Dd=rt(),dj=ba(),Yse=Pe(),Xse=To(),uj=Bt(),sj=zn(),Jse=gr(),Qse=kt(),J0=nt(),Zse=be(),lj=os(),vj=us(),ele=dj.PROPER,tle=dj.CONFIGURABLE,cj=vj.IteratorPrototype,Ud=vj.BUGGY_SAFARI_ITERATORS,pc=Zse("iterator"),fj="keys",hc="values",pj="entries",hj=i(function(){return this},"returnThis");yj.exports=function(t,e,r,n,a,o,u){Xse(r,e,n);var s=i(function(A){if(A===a&&m)return m;if(!Ud&&A in h)return h[A];switch(A){case fj:return i(function(){return new r(this,A)},"keys");case hc:return i(function(){return new r(this,A)},"values");case pj:return i(function(){return new r(this,A)},"entries")}return function(){return new r(this)}},"getIterationMethod"),c=e+" Iterator",p=!1,h=t.prototype,y=h[pc]||h["@@iterator"]||a&&h[a],m=!Ud&&y||s(a),w=e=="Array"&&h.entries||y,_,R,T;if(w&&(_=uj(w.call(new t)),_!==Object.prototype&&_.next&&(!Dd&&uj(_)!==cj&&(sj?sj(_,cj):Yse(_[pc])||J0(_,pc,hj)),Jse(_,c,!0,!0),Dd&&(lj[c]=hj))),ele&&a==hc&&y&&y.name!==hc&&(!Dd&&tle?Qse(h,"name",hc):(p=!0,m=i(function(){return Kse(y,this)},"values"))),a)if(R={values:s(hc),keys:o?m:s(fj),entries:s(pj)},u)for(T in R)(Ud||p||!(T in h))&&J0(h,T,R[T]);else Wse({target:e,proto:!0,forced:Ud||p},R);return(!Dd||u)&&h[pc]!==m&&J0(h,pc,m,{name:a}),lj[e]=m,R}});var dc=N(function(Gat,Oj){"use strict";var rle=bt(),Q0=it(),mj=os(),bj=Ye(),nle=We().f,ile=Md(),ole=rt(),ale=Oe(),wj="Array Iterator",ule=bj.set,sle=bj.getterFor(wj);Oj.exports=ile(Array,"Array",function(t,e){ule(this,{type:wj,target:rle(t),index:0,kind:e})},function(){var t=sle(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");var gj=mj.Arguments=mj.Array;Q0("keys");Q0("values");Q0("entries");if(!ole&&ale&&gj.name!=="values")try{nle(gj,"name",{value:"values"})}catch(t){}});var ka=N(function(Hat,Sj){"use strict";var lle=se();Sj.exports=function(t,e){var r=[][t];return!!r&&lle(function(){r.call(null,e||function(){return 1},1)})}});var Bd=N(function(Vat,Tj){var Rj=ts(),Vle=Math.floor,Wle=i(function t(e,r){var n=e.length,a=Vle(n/2);return n<8?Kle(e,r):Yle(e,t(Rj(e,0,a),r),t(Rj(e,a),r),r)},"mergeSort"),Kle=i(function(e,r){for(var n=e.length,a=1,o,u;a<n;){for(u=a,o=e[a];u&&r(e[u-1],o)>0;)e[u]=e[--u];u!==a++&&(e[u]=o)}return e},"insertionSort"),Yle=i(function(e,r,n,a){for(var o=r.length,u=n.length,s=0,c=0;s<o||c<u;)e[s+c]=s<o&&c<u?a(r[s],n[c])<=0?r[s++]:n[c++]:s<o?r[s++]:n[c++];return e},"merge");Tj.exports=Wle});var eO=N(function(Wat,Ij){var Xle=Oi(),Aj=Xle.match(/firefox\/(\d+)/i);Ij.exports=!!Aj&&+Aj[1]});var tO=N(function(Kat,kj){var Jle=Oi();kj.exports=/MSIE|Trident/.test(Jle)});var $d=N(function(Yat,xj){var Qle=Oi(),qj=Qle.match(/AppleWebKit\/(\d+)\./);xj.exports=!!qj&&+qj[1]});var Io=N(function(Xat,Bj){"use strict";var hce=me(),dce=We(),vce=be(),yce=Oe(),Mj=vce("species");Bj.exports=function(t){var e=hce(t),r=dce.f;yce&&e&&!e[Mj]&&r(e,Mj,{configurable:!0,get:i(function(){return this},"get")})}});var iO=N(function(Jat,$j){$j.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Vn=N(function(Qat,zj){var xce=nt();zj.exports=function(t,e,r){for(var n in e)xce(t,n,e[n],r);return t}});var Or=N(function(Zat,Gj){var Cce=rr(),Fce=TypeError;Gj.exports=function(t,e){if(Cce(e,t))return t;throw Fce("Incorrect invocation")}});var oO=N(function(eut,Hj){var Lce=ut(),jce=Fr(),Nce=RangeError;Hj.exports=function(t){if(t===void 0)return 0;var e=Lce(t),r=jce(e);if(e!==r)throw Nce("Wrong length or index");return r}});var Wj=N(function(tut,Vj){var Dce=Array,Uce=Math.abs,Ri=Math.pow,Mce=Math.floor,Bce=Math.log,$ce=Math.LN2,zce=i(function(e,r,n){var a=Dce(n),o=n*8-r-1,u=(1<<o)-1,s=u>>1,c=r===23?Ri(2,-24)-Ri(2,-77):0,p=e<0||e===0&&1/e<0?1:0,h=0,y,m,w;for(e=Uce(e),e!=e||e===1/0?(m=e!=e?1:0,y=u):(y=Mce(Bce(e)/$ce),w=Ri(2,-y),e*w<1&&(y--,w*=2),y+s>=1?e+=c/w:e+=c*Ri(2,1-s),e*w>=2&&(y++,w/=2),y+s>=u?(m=0,y=u):y+s>=1?(m=(e*w-1)*Ri(2,r),y=y+s):(m=e*Ri(2,s-1)*Ri(2,r),y=0));r>=8;)a[h++]=m&255,m/=256,r-=8;for(y=y<<r|m,o+=r;o>0;)a[h++]=y&255,y/=256,o-=8;return a[--h]|=p*128,a},"pack"),Gce=i(function(e,r){var n=e.length,a=n*8-r-1,o=(1<<a)-1,u=o>>1,s=a-7,c=n-1,p=e[c--],h=p&127,y;for(p>>=7;s>0;)h=h*256+e[c--],s-=8;for(y=h&(1<<-s)-1,h>>=-s,s+=r;s>0;)y=y*256+e[c--],s-=8;if(h===0)h=1-u;else{if(h===o)return y?NaN:p?-1/0:1/0;y=y+Ri(2,r),h=h-u}return(p?-1:1)*y*Ri(2,h-r)},"unpack");Vj.exports={pack:zce,unpack:Gce}});var hO=N(function(rut,pN){"use strict";var Yd=ve(),pO=le(),aO=Oe(),Hce=iO(),oN=ba(),Kj=kt(),Yj=Vn(),uO=se(),zd=Or(),Vce=ut(),Wce=Fr(),Vd=oO(),aN=Wj(),Kce=Bt(),Xj=zn(),Yce=Si().f,Xce=We().f,Jce=jd(),Qce=ts(),uN=gr(),sN=Ye(),Zce=oN.PROPER,Jj=oN.CONFIGURABLE,cs=sN.get,Qj=sN.set,Wd="ArrayBuffer",lN="DataView",ls="prototype",efe="Wrong length",cN="Wrong index",Pn=Yd[Wd],Lr=Pn,ss=Lr&&Lr[ls],Wn=Yd[lN],qa=Wn&&Wn[ls],Zj=Object.prototype,tfe=Yd.Array,Kd=Yd.RangeError,rfe=pO(Jce),nfe=pO([].reverse),fN=aN.pack,eN=aN.unpack,tN=i(function(e){return[e&255]},"packInt8"),rN=i(function(e){return[e&255,e>>8&255]},"packInt16"),nN=i(function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},"packInt32"),iN=i(function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},"unpackInt32"),ife=i(function(e){return fN(e,23,4)},"packFloat32"),ofe=i(function(e){return fN(e,52,8)},"packFloat64"),Gd=i(function(e,r){Xce(e[ls],r,{get:i(function(){return cs(this)[r]},"get")})},"addGetter"),ko=i(function(e,r,n,a){var o=Vd(n),u=cs(e);if(o+r>u.byteLength)throw Kd(cN);var s=cs(u.buffer).bytes,c=o+u.byteOffset,p=Qce(s,c,c+r);return a?p:nfe(p)},"get"),qo=i(function(e,r,n,a,o,u){var s=Vd(n),c=cs(e);if(s+r>c.byteLength)throw Kd(cN);for(var p=cs(c.buffer).bytes,h=s+c.byteOffset,y=a(+o),m=0;m<r;m++)p[h+m]=y[u?m:r-m-1]},"set");if(!Hce)Lr=i(function(e){zd(this,ss);var r=Vd(e);Qj(this,{bytes:rfe(tfe(r),0),byteLength:r}),aO||(this.byteLength=r)},"ArrayBuffer"),ss=Lr[ls],Wn=i(function(e,r,n){zd(this,qa),zd(e,ss);var a=cs(e).byteLength,o=Vce(r);if(o<0||o>a)throw Kd("Wrong offset");if(n=n===void 0?a-o:Wce(n),o+n>a)throw Kd(efe);Qj(this,{buffer:e,byteLength:n,byteOffset:o}),aO||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},"DataView"),qa=Wn[ls],aO&&(Gd(Lr,"byteLength"),Gd(Wn,"buffer"),Gd(Wn,"byteLength"),Gd(Wn,"byteOffset")),Yj(qa,{getInt8:i(function(e){return ko(this,1,e)[0]<<24>>24},"getInt8"),getUint8:i(function(e){return ko(this,1,e)[0]},"getUint8"),getInt16:i(function(e){var r=ko(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},"getInt16"),getUint16:i(function(e){var r=ko(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},"getUint16"),getInt32:i(function(e){return iN(ko(this,4,e,arguments.length>1?arguments[1]:void 0))},"getInt32"),getUint32:i(function(e){return iN(ko(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},"getUint32"),getFloat32:i(function(e){return eN(ko(this,4,e,arguments.length>1?arguments[1]:void 0),23)},"getFloat32"),getFloat64:i(function(e){return eN(ko(this,8,e,arguments.length>1?arguments[1]:void 0),52)},"getFloat64"),setInt8:i(function(e,r){qo(this,1,e,tN,r)},"setInt8"),setUint8:i(function(e,r){qo(this,1,e,tN,r)},"setUint8"),setInt16:i(function(e,r){qo(this,2,e,rN,r,arguments.length>2?arguments[2]:void 0)},"setInt16"),setUint16:i(function(e,r){qo(this,2,e,rN,r,arguments.length>2?arguments[2]:void 0)},"setUint16"),setInt32:i(function(e,r){qo(this,4,e,nN,r,arguments.length>2?arguments[2]:void 0)},"setInt32"),setUint32:i(function(e,r){qo(this,4,e,nN,r,arguments.length>2?arguments[2]:void 0)},"setUint32"),setFloat32:i(function(e,r){qo(this,4,e,ife,r,arguments.length>2?arguments[2]:void 0)},"setFloat32"),setFloat64:i(function(e,r){qo(this,8,e,ofe,r,arguments.length>2?arguments[2]:void 0)},"setFloat64")});else{if(sO=Zce&&Pn.name!==Wd,!uO(function(){Pn(1)})||!uO(function(){new Pn(-1)})||uO(function(){return new Pn,new Pn(1.5),new Pn(NaN),sO&&!Jj})){for(Lr=i(function(e){return zd(this,ss),new Pn(Vd(e))},"ArrayBuffer"),Lr[ls]=ss,lO=Yce(Pn),cO=0;lO.length>cO;)(Hd=lO[cO++])in Lr||Kj(Lr,Hd,Pn[Hd]);ss.constructor=Lr}else sO&&Jj&&Kj(Pn,"name",Wd);Xj&&Kce(qa)!==Zj&&Xj(qa,Zj),vc=new Wn(new Lr(2)),fO=pO(qa.setInt8),vc.setInt8(0,2147483648),vc.setInt8(1,2147483649),(vc.getInt8(0)||!vc.getInt8(1))&&Yj(qa,{setInt8:i(function(e,r){fO(this,e,r<<24>>24)},"setInt8"),setUint8:i(function(e,r){fO(this,e,r<<24>>24)},"setUint8")},{unsafe:!0})}var sO,lO,cO,Hd,vc,fO;uN(Lr,Wd);uN(Wn,lN);pN.exports={ArrayBuffer:Lr,DataView:Wn}});var vN=N(function(nut,dN){"use strict";var ffe=te(),pfe=xw(),hfe=TypeError;dN.exports=function(t){if(ffe(this),t==="string"||t==="default")t="string";else if(t!=="number")throw hfe("Incorrect hint");return pfe(this,t)}});var Xd=N(function(iut,_N){var Cfe=se();_N.exports=Cfe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var yc=N(function(out,EN){var Ffe=se(),Lfe=Re(),jfe=mr(),PN=Xd(),Jd=Object.isExtensible,Nfe=Ffe(function(){Jd(1)});EN.exports=Nfe||PN?i(function(e){return!Lfe(e)||PN&&jfe(e)=="ArrayBuffer"?!1:Jd?Jd(e):!0},"isExtensible"):Jd});var fs=N(function(aut,RN){var Dfe=se();RN.exports=!Dfe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var xo=N(function(uut,IN){function yO(t){return yO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yO(t)}i(yO,"_typeof");var Ufe=D(),Mfe=le(),Bfe=Zu(),$fe=Re(),mO=Ae(),zfe=We().f,TN=Si(),Gfe=bd(),gO=yc(),Hfe=ma(),Vfe=fs(),AN=!1,Ti=Hfe("meta"),Wfe=0,bO=i(function(e){zfe(e,Ti,{value:{objectID:"O"+Wfe++,weakData:{}}})},"setMetadata"),Kfe=i(function(e,r){if(!$fe(e))return yO(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!mO(e,Ti)){if(!gO(e))return"F";if(!r)return"E";bO(e)}return e[Ti].objectID},"fastKey"),Yfe=i(function(e,r){if(!mO(e,Ti)){if(!gO(e))return!0;if(!r)return!1;bO(e)}return e[Ti].weakData},"getWeakData"),Xfe=i(function(e){return Vfe&&AN&&gO(e)&&!mO(e,Ti)&&bO(e),e},"onFreeze"),Jfe=i(function(){Qfe.enable=function(){},AN=!0;var e=TN.f,r=Mfe([].splice),n={};n[Ti]=1,e(n).length&&(TN.f=function(a){for(var o=e(a),u=0,s=o.length;u<s;u++)if(o[u]===Ti){r(o,u,1);break}return o},Ufe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Gfe.f}))},"enable"),Qfe=IN.exports={enable:Jfe,fastKey:Kfe,getWeakData:Yfe,onFreeze:Xfe};Bfe[Ti]=!0});var mc=N(function(sut,qN){"use strict";var Zfe=D(),epe=ve(),tpe=le(),kN=es(),rpe=nt(),npe=xo(),ipe=we(),ope=Or(),ape=Pe(),wO=Re(),OO=se(),upe=fc(),spe=gr(),lpe=Ra();qN.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,a=t.indexOf("Weak")!==-1,o=n?"set":"add",u=epe[t],s=u&&u.prototype,c=u,p={},h=i(function(A){var C=tpe(s[A]);rpe(s,A,A=="add"?i(function(G){return C(this,G===0?0:G),this},"add"):A=="delete"?function(U){return a&&!wO(U)?!1:C(this,U===0?0:U)}:A=="get"?i(function(G){return a&&!wO(G)?void 0:C(this,G===0?0:G)},"get"):A=="has"?i(function(G){return a&&!wO(G)?!1:C(this,G===0?0:G)},"has"):i(function(G,M){return C(this,G===0?0:G,M),this},"set"))},"fixMethod"),y=kN(t,!ape(u)||!(a||s.forEach&&!OO(function(){new u().entries().next()})));if(y)c=r.getConstructor(e,t,n,o),npe.enable();else if(kN(t,!0)){var m=new c,w=m[o](a?{}:-0,1)!=m,_=OO(function(){m.has(1)}),R=upe(function(E){new u(E)}),T=!a&&OO(function(){for(var E=new u,A=5;A--;)E[o](A,A);return!E.has(-0)});R||(c=e(function(E,A){ope(E,s);var C=lpe(new u,E,c);return A!=null&&ipe(A,C[o],{that:C,AS_ENTRIES:n}),C}),c.prototype=s,s.constructor=c),(_||T)&&(h("delete"),h("has"),n&&h("get")),(T||w)&&h(o),a&&s.clear&&delete s.clear}return p[t]=c,Zfe({global:!0,constructor:!0,forced:c!=u},p),spe(c,t),a||r.setStrong(c,t,n),c}});var _O=N(function(lut,jN){"use strict";var cpe=We().f,fpe=wt(),xN=Vn(),ppe=Xe(),hpe=Or(),dpe=we(),vpe=Md(),ype=Io(),gc=Oe(),CN=xo().fastKey,LN=Ye(),FN=LN.set,SO=LN.getterFor;jN.exports={getConstructor:i(function(e,r,n,a){var o=e(function(h,y){hpe(h,u),FN(h,{type:r,index:fpe(null),first:void 0,last:void 0,size:0}),gc||(h.size=0),y!=null&&dpe(y,h[a],{that:h,AS_ENTRIES:n})}),u=o.prototype,s=SO(r),c=i(function(y,m,w){var _=s(y),R=p(y,m),T,E;return R?R.value=w:(_.last=R={index:E=CN(m,!0),key:m,value:w,previous:T=_.last,next:void 0,removed:!1},_.first||(_.first=R),T&&(T.next=R),gc?_.size++:y.size++,E!=="F"&&(_.index[E]=R)),y},"define"),p=i(function(y,m){var w=s(y),_=CN(m),R;if(_!=="F")return w.index[_];for(R=w.first;R;R=R.next)if(R.key==m)return R},"getEntry");return xN(u,{clear:i(function(){for(var y=this,m=s(y),w=m.index,_=m.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete w[_.index],_=_.next;m.first=m.last=void 0,gc?m.size=0:y.size=0},"clear"),delete:i(function(y){var m=this,w=s(m),_=p(m,y);if(_){var R=_.next,T=_.previous;delete w.index[_.index],_.removed=!0,T&&(T.next=R),R&&(R.previous=T),w.first==_&&(w.first=R),w.last==_&&(w.last=T),gc?w.size--:m.size--}return!!_},"_delete"),forEach:i(function(y){for(var m=s(this),w=ppe(y,arguments.length>1?arguments[1]:void 0),_;_=_?_.next:m.first;)for(w(_.value,_.key,this);_&&_.removed;)_=_.previous},"forEach"),has:i(function(y){return!!p(this,y)},"has")}),xN(u,n?{get:i(function(y){var m=p(this,y);return m&&m.value},"get"),set:i(function(y,m){return c(this,y===0?0:y,m)},"set")}:{add:i(function(y){return c(this,y=y===0?0:y,y)},"add")}),gc&&cpe(u,"size",{get:i(function(){return s(this).size},"get")}),o},"getConstructor"),setStrong:i(function(e,r,n){var a=r+" Iterator",o=SO(r),u=SO(a);vpe(e,r,function(s,c){FN(this,{type:a,target:s,state:o(s),kind:c,last:void 0})},function(){for(var s=u(this),c=s.kind,p=s.last;p&&p.removed;)p=p.previous;return!s.target||!(s.last=p=p?p.next:s.state.first)?(s.target=void 0,{value:void 0,done:!0}):c=="keys"?{value:p.key,done:!1}:c=="values"?{value:p.value,done:!1}:{value:[p.key,p.value],done:!1}},n?"entries":"values",!n,!0),ype(r)},"setStrong")}});var NN=N(function(){"use strict";var mpe=mc(),gpe=_O();mpe("Map",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"Map")},gpe)});var Qd=N(function(){NN()});var PO=N(function(dut,DN){var bpe=Math.log;DN.exports=Math.log1p||i(function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:bpe(1+r)},"log1p")});var Zd=N(function(vut,zN){zN.exports=Math.sign||i(function(e){var r=+e;return r==0||r!=r?r:r<0?-1:1},"sign")});var wc=N(function(yut,GN){var bc=Math.expm1,Dpe=Math.exp;GN.exports=!bc||bc(10)>22025.465794806718||bc(10)<22025.465794806718||bc(-2e-17)!=-2e-17?i(function(e){var r=+e;return r==0?r:r>-1e-6&&r<1e-6?r+r*r/2:Dpe(r)-1},"expm1"):bc});var IO=N(function(mut,WN){var zpe=Zd(),Gpe=Math.abs,tv=Math.pow,AO=tv(2,-52),ev=tv(2,-23),Hpe=tv(2,127)*(2-ev),TO=tv(2,-126),Vpe=i(function(e){return e+1/AO-1/AO},"roundTiesToEven");WN.exports=Math.fround||i(function(e){var r=+e,n=Gpe(r),a=zpe(r),o,u;return n<TO?a*Vpe(n/TO/ev)*TO*ev:(o=(1+ev/AO)*n,u=o-(o-n),u>Hpe||u!=u?a*(1/0):a*u)},"fround")});var kO=N(function(gut,XN){var rhe=Math.log,nhe=Math.LOG10E;XN.exports=Math.log10||i(function(e){return rhe(e)*nhe},"log10")});var rv=N(function(but,tD){var She=le();tD.exports=She(1 .valueOf)});var Oc=N(function(wut,rD){rD.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var xa=N(function(Out,iD){var _he=le(),Phe=gt(),Ehe=je(),Rhe=Oc(),nD=_he("".replace),nv="["+Rhe+"]",The=RegExp("^"+nv+nv+"*"),Ahe=RegExp(nv+nv+"*$"),qO=i(function(e){return function(r){var n=Ehe(Phe(r));return e&1&&(n=nD(n,The,"")),e&2&&(n=nD(n,Ahe,"")),n}},"createMethod");iD.exports={start:qO(1),end:qO(2),trim:qO(3)}});var jO=N(function(Sut,sD){var Vhe=ve(),Whe=Vhe.isFinite;sD.exports=Number.isFinite||i(function(e){return typeof e=="number"&&Whe(e)},"isFinite")});var av=N(function(_ut,lD){var Xhe=Re(),Jhe=Math.floor;lD.exports=Number.isInteger||i(function(e){return!Xhe(e)&&isFinite(e)&&Jhe(e)===e},"isInteger")});var dD=N(function(Put,hD){var pD=ve(),ade=se(),ude=le(),sde=je(),lde=xa().trim,cde=Oc(),fde=ude("".charAt),uv=pD.parseFloat,cD=pD.Symbol,fD=cD&&cD.iterator,pde=1/uv(cde+"-0")!==-1/0||fD&&!ade(function(){uv(Object(fD))});hD.exports=pde?i(function(e){var r=lde(sde(e)),n=uv(r);return n===0&&fde(r,0)=="-"?-0:n},"parseFloat"):uv});var NO=N(function(Eut,OD){var bD=ve(),dde=se(),vde=le(),yde=je(),mde=xa().trim,yD=Oc(),_c=bD.parseInt,mD=bD.Symbol,gD=mD&&mD.iterator,wD=/^[+-]?0x/i,gde=vde(wD.exec),bde=_c(yD+"08")!==8||_c(yD+"0x16")!==22||gD&&!dde(function(){_c(Object(gD))});OD.exports=bde?i(function(e,r){var n=mde(yde(e));return _c(n,r>>>0||(gde(wD,n)?16:10))},"parseInt"):_c});var Pc=N(function(Rut,_D){"use strict";var Ode=ut(),Sde=je(),_de=gt(),Pde=RangeError;_D.exports=i(function(e){var r=Sde(_de(this)),n="",a=Ode(e);if(a<0||a==1/0)throw Pde("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(r+=r))a&1&&(n+=r);return n},"repeat")});var zO=N(function(Tut,LD){"use strict";var CD=Oe(),Vde=le(),Wde=ce(),Kde=se(),$O=Oa(),Yde=Ql(),Xde=Vl(),Jde=xe(),Qde=wi(),hs=Object.assign,FD=Object.defineProperty,Zde=Vde([].concat);LD.exports=!hs||Kde(function(){if(CD&&hs({b:1},hs(FD({},"a",{enumerable:!0,get:i(function(){FD(this,"b",{value:3,enumerable:!1})},"get")}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(a){e[a]=a}),hs({},t)[r]!=7||$O(hs({},e)).join("")!=n})?i(function(e,r){for(var n=Jde(e),a=arguments.length,o=1,u=Yde.f,s=Xde.f;a>o;)for(var c=Qde(arguments[o++]),p=u?Zde($O(c),u(c)):$O(c),h=p.length,y=0,m;h>y;)m=p[y++],(!CD||Wde(s,c,m))&&(n[m]=c[m]);return n},"assign"):hs});var Rc=N(function(Aut,DD){"use strict";var tve=rt(),rve=ve(),nve=se(),ND=$d();DD.exports=tve||!nve(function(){if(!(ND&&ND<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete rve[t]}})});var GO=N(function(Iut,BD){var yve=Oe(),MD=le(),mve=Oa(),gve=bt(),bve=Vl().f,wve=MD(bve),Ove=MD([].push),UD=i(function(e){return function(r){for(var n=gve(r),a=mve(n),o=a.length,u=0,s=[],c;o>u;)c=a[u++],(!yve||wve(n,c))&&Ove(s,e?[c,n[c]]:n[c]);return s}},"createMethod");BD.exports={entries:UD(!0),values:UD(!1)}});var VO=N(function(kut,HD){HD.exports=Object.is||i(function(e,r){return e===r?e!==0||1/e===1/r:e!=e&&r!=r},"is")});var JD=N(function(qut,XD){"use strict";var Gye=dd(),Hye=Sn();XD.exports=Gye?{}.toString:i(function(){return"[object "+Hye(this)+"]"},"toString")});var Fo=N(function(xut,QD){var Jye=mr(),Qye=ve();QD.exports=Jye(Qye.process)=="process"});var ds=N(function(Cut,ZD){var Zye=_n(),eme=wo(),tme=TypeError;ZD.exports=function(t){if(Zye(t))return t;throw tme(eme(t)+" is not a constructor")}});var nr=N(function(Fut,t3){var e3=te(),rme=ds(),nme=be(),ime=nme("species");t3.exports=function(t,e){var r=e3(t).constructor,n;return r===void 0||(n=e3(r)[ime])==null?e:rme(n)}});var Lo=N(function(Lut,r3){var ome=TypeError;r3.exports=function(t,e){if(t<e)throw ome("Not enough arguments");return t}});var JO=N(function(jut,n3){var ame=Oi();n3.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(ame)});var aS=N(function(Nut,f3){var jr=ve(),ume=wr(),sme=Xe(),i3=Pe(),lme=Ae(),cme=se(),o3=e0(),fme=Eo(),a3=Kl(),pme=Lo(),hme=JO(),dme=Fo(),nS=jr.setImmediate,iS=jr.clearImmediate,vme=jr.process,QO=jr.Dispatch,yme=jr.Function,u3=jr.MessageChannel,mme=jr.String,ZO=0,Tc={},s3="onreadystatechange",Ac,Fa,eS,tS;try{Ac=jr.location}catch(t){}var oS=i(function(e){if(lme(Tc,e)){var r=Tc[e];delete Tc[e],r()}},"run"),rS=i(function(e){return function(){oS(e)}},"runner"),l3=i(function(e){oS(e.data)},"listener"),c3=i(function(e){jr.postMessage(mme(e),Ac.protocol+"//"+Ac.host)},"post");(!nS||!iS)&&(nS=i(function(e){pme(arguments.length,1);var r=i3(e)?e:yme(e),n=fme(arguments,1);return Tc[++ZO]=function(){ume(r,void 0,n)},Fa(ZO),ZO},"setImmediate"),iS=i(function(e){delete Tc[e]},"clearImmediate"),dme?Fa=i(function(e){vme.nextTick(rS(e))},"defer"):QO&&QO.now?Fa=i(function(e){QO.now(rS(e))},"defer"):u3&&!hme?(eS=new u3,tS=eS.port2,eS.port1.onmessage=l3,Fa=sme(tS.postMessage,tS)):jr.addEventListener&&i3(jr.postMessage)&&!jr.importScripts&&Ac&&Ac.protocol!=="file:"&&!cme(c3)?(Fa=c3,jr.addEventListener("message",l3,!1)):s3 in a3("script")?Fa=i(function(e){o3.appendChild(a3("script"))[s3]=function(){o3.removeChild(this),oS(e)}},"defer"):Fa=i(function(e){setTimeout(rS(e),0)},"defer"));f3.exports={set:nS,clear:iS}});var h3=N(function(Dut,p3){var gme=Oi(),bme=ve();p3.exports=/ipad|iphone|ipod/i.test(gme)&&bme.Pebble!==void 0});var v3=N(function(Uut,d3){var wme=Oi();d3.exports=/web0s(?!.*chrome)/i.test(wme)});var fS=N(function(Mut,_3){var ja=ve(),y3=Xe(),Ome=Mt().f,uS=aS().set,Sme=JO(),_me=h3(),Pme=v3(),sS=Fo(),m3=ja.MutationObserver||ja.WebKitMutationObserver,g3=ja.document,b3=ja.process,cv=ja.Promise,w3=Ome(ja,"queueMicrotask"),S3=w3&&w3.value,Ic,La,kc,vs,lS,cS,fv,O3;S3||(Ic=i(function(){var e,r;for(sS&&(e=b3.domain)&&e.exit();La;){r=La.fn,La=La.next;try{r()}catch(n){throw La?vs():kc=void 0,n}}kc=void 0,e&&e.enter()},"flush"),!Sme&&!sS&&!Pme&&m3&&g3?(lS=!0,cS=g3.createTextNode(""),new m3(Ic).observe(cS,{characterData:!0}),vs=i(function(){cS.data=lS=!lS},"notify")):!_me&&cv&&cv.resolve?(fv=cv.resolve(void 0),fv.constructor=cv,O3=y3(fv.then,fv),vs=i(function(){O3(Ic)},"notify")):sS?vs=i(function(){b3.nextTick(Ic)},"notify"):(uS=y3(uS,ja),vs=i(function(){uS(Ic)},"notify")));_3.exports=S3||function(t){var e={fn:t,next:void 0};kc&&(kc.next=e),La||(La=e,vs()),kc=e}});var pS=N(function(But,P3){var Eme=ve();P3.exports=function(t,e){var r=Eme.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var jo=N(function($ut,E3){E3.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var A3=N(function(zut,T3){var R3=i(function(){this.head=null,this.tail=null},"Queue");R3.prototype={add:i(function(e){var r={item:e,next:null};this.head?this.tail.next=r:this.head=r,this.tail=r},"add"),get:i(function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item},"get")};T3.exports=R3});var Na=N(function(Gut,I3){var Rme=ve();I3.exports=Rme.Promise});var hv=N(function(Hut,k3){function pv(t){return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}i(pv,"_typeof");k3.exports=(typeof Deno=="undefined"?"undefined":pv(Deno))=="object"&&Deno&&pv(Deno.version)=="object"});var hS=N(function(Vut,q3){function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}i(dv,"_typeof");var Tme=hv(),Ame=Fo();q3.exports=!Tme&&!Ame&&(typeof window=="undefined"?"undefined":dv(window))=="object"&&(typeof document=="undefined"?"undefined":dv(document))=="object"});var ys=N(function(Wut,F3){var Ime=ve(),qc=Na(),kme=Pe(),qme=es(),xme=Qu(),Cme=be(),Fme=hS(),Lme=hv(),jme=rt(),dS=go(),x3=qc&&qc.prototype,Nme=Cme("species"),vS=!1,C3=kme(Ime.PromiseRejectionEvent),Dme=qme("Promise",function(){var t=xme(qc),e=t!==String(qc);if(!e&&dS===66||jme&&!(x3.catch&&x3.finally))return!0;if(!dS||dS<51||!/native code/.test(t)){var r=new qc(function(o){o(1)}),n=i(function(u){u(function(){},function(){})},"FakePromise"),a=r.constructor={};if(a[Nme]=n,vS=r.then(function(){})instanceof n,!vS)return!0}return!e&&(Fme||Lme)&&!C3});F3.exports={CONSTRUCTOR:Dme,REJECTION_EVENT:C3,SUBCLASSING:vS}});var Ai=N(function(Kut,j3){"use strict";var L3=de(),Ume=i(function(e){var r,n;this.promise=new e(function(a,o){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=a,n=o}),this.resolve=L3(r),this.reject=L3(n)},"PromiseCapability");j3.exports.f=function(t){return new Ume(t)}});var rU=N(function(){"use strict";var Mme=D(),Bme=rt(),gv=Fo(),No=ve(),ws=ce(),N3=nt(),D3=zn(),$me=gr(),zme=Io(),Gme=de(),mv=Pe(),Hme=Re(),Vme=Or(),Wme=nr(),G3=aS().set,bS=fS(),Kme=pS(),Yme=jo(),Xme=A3(),H3=Ye(),bv=Na(),wS=ys(),V3=Ai(),wv="Promise",W3=wS.CONSTRUCTOR,Jme=wS.REJECTION_EVENT,Qme=wS.SUBCLASSING,yS=H3.getterFor(wv),Zme=H3.set,ms=bv&&bv.prototype,Da=bv,vv=ms,K3=No.TypeError,mS=No.document,OS=No.process,gS=V3.f,ege=gS,tge=!!(mS&&mS.createEvent&&No.dispatchEvent),Y3="unhandledrejection",rge="rejectionhandled",U3=0,X3=1,nge=2,SS=1,J3=2,yv,M3,ige,B3,Q3=i(function(e){var r;return Hme(e)&&mv(r=e.then)?r:!1},"isThenable"),Z3=i(function(e,r){var n=r.value,a=r.state==X3,o=a?e.ok:e.fail,u=e.resolve,s=e.reject,c=e.domain,p,h,y;try{o?(a||(r.rejection===J3&&age(r),r.rejection=SS),o===!0?p=n:(c&&c.enter(),p=o(n),c&&(c.exit(),y=!0)),p===e.promise?s(K3("Promise-chain cycle")):(h=Q3(p))?ws(h,p,u,s):u(p)):s(n)}catch(m){c&&!y&&c.exit(),s(m)}},"callReaction"),eU=i(function(e,r){e.notified||(e.notified=!0,bS(function(){for(var n=e.reactions,a;a=n.get();)Z3(a,e);e.notified=!1,r&&!e.rejection&&oge(e)}))},"notify"),tU=i(function(e,r,n){var a,o;tge?(a=mS.createEvent("Event"),a.promise=r,a.reason=n,a.initEvent(e,!1,!0),No.dispatchEvent(a)):a={promise:r,reason:n},!Jme&&(o=No["on"+e])?o(a):e===Y3&&Kme("Unhandled promise rejection",n)},"dispatchEvent"),oge=i(function(e){ws(G3,No,function(){var r=e.facade,n=e.value,a=$3(e),o;if(a&&(o=Yme(function(){gv?OS.emit("unhandledRejection",n,r):tU(Y3,r,n)}),e.rejection=gv||$3(e)?J3:SS,o.error))throw o.value})},"onUnhandled"),$3=i(function(e){return e.rejection!==SS&&!e.parent},"isUnhandled"),age=i(function(e){ws(G3,No,function(){var r=e.facade;gv?OS.emit("rejectionHandled",r):tU(rge,r,e.value)})},"onHandleUnhandled"),gs=i(function(e,r,n){return function(a){e(r,a,n)}},"bind"),bs=i(function(e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=nge,eU(e,!0))},"internalReject"),z3=i(function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw K3("Promise can't be resolved itself");var a=Q3(r);a?bS(function(){var o={done:!1};try{ws(a,r,gs(t,o,e),gs(bs,o,e))}catch(u){bs(o,u,e)}}):(e.value=r,e.state=X3,eU(e,!1))}catch(o){bs({done:!1},o,e)}}},"internalResolve");if(W3&&(Da=i(function(e){Vme(this,vv),Gme(e),ws(yv,this);var r=yS(this);try{e(gs(z3,r),gs(bs,r))}catch(n){bs(r,n)}},"Promise"),vv=Da.prototype,yv=i(function(e){Zme(this,{type:wv,done:!1,notified:!1,parent:!1,reactions:new Xme,rejection:!1,state:U3,value:void 0})},"Promise"),yv.prototype=N3(vv,"then",i(function(e,r){var n=yS(this),a=gS(Wme(this,Da));return n.parent=!0,a.ok=mv(e)?e:!0,a.fail=mv(r)&&r,a.domain=gv?OS.domain:void 0,n.state==U3?n.reactions.add(a):bS(function(){Z3(a,n)}),a.promise},"then")),M3=i(function(){var e=new yv,r=yS(e);this.promise=e,this.resolve=gs(z3,r),this.reject=gs(bs,r)},"OwnPromiseCapability"),V3.f=gS=i(function(e){return e===Da||e===ige?new M3(e):ege(e)},"newPromiseCapability"),!Bme&&mv(bv)&&ms!==Object.prototype)){B3=ms.then,Qme||N3(ms,"then",i(function(e,r){var n=this;return new Da(function(a,o){ws(B3,n,a,o)}).then(e,r)},"then"),{unsafe:!0});try{delete ms.constructor}catch(t){}D3&&D3(ms,vv)}Mme({global:!0,constructor:!0,wrap:!0,forced:W3},{Promise:Da});$me(Da,wv,!1,!0);zme(wv)});var _S=N(function(Jut,nU){var uge=Na(),sge=fc(),lge=ys().CONSTRUCTOR;nU.exports=lge||!sge(function(t){uge.all(t).then(void 0,function(){})})});var iU=N(function(){"use strict";var cge=D(),fge=ce(),pge=de(),hge=Ai(),dge=jo(),vge=we(),yge=_S();cge({target:"Promise",stat:!0,forced:yge},{all:i(function(e){var r=this,n=hge.f(r),a=n.resolve,o=n.reject,u=dge(function(){var s=pge(r.resolve),c=[],p=0,h=1;vge(e,function(y){var m=p++,w=!1;h++,fge(s,r,y).then(function(_){w||(w=!0,c[m]=_,--h||a(c))},o)}),--h||a(c)});return u.error&&o(u.value),n.promise},"all")})});var aU=N(function(){"use strict";var mge=D(),gge=rt(),bge=ys().CONSTRUCTOR,ES=Na(),wge=me(),Oge=Pe(),Sge=nt(),oU=ES&&ES.prototype;mge({target:"Promise",proto:!0,forced:bge,real:!0},{catch:i(function(e){return this.then(void 0,e)},"_catch")});!gge&&Oge(ES)&&(PS=wge("Promise").prototype.catch,oU.catch!==PS&&Sge(oU,"catch",PS,{unsafe:!0}));var PS});var uU=N(function(){"use strict";var _ge=D(),Pge=ce(),Ege=de(),Rge=Ai(),Tge=jo(),Age=we(),Ige=_S();_ge({target:"Promise",stat:!0,forced:Ige},{race:i(function(e){var r=this,n=Rge.f(r),a=n.reject,o=Tge(function(){var u=Ege(r.resolve);Age(e,function(s){Pge(u,r,s).then(n.resolve,a)})});return o.error&&a(o.value),n.promise},"race")})});var sU=N(function(){"use strict";var kge=D(),qge=ce(),xge=Ai(),Cge=ys().CONSTRUCTOR;kge({target:"Promise",stat:!0,forced:Cge},{reject:i(function(e){var r=xge.f(this);return qge(r.reject,void 0,e),r.promise},"reject")})});var RS=N(function(ast,lU){var Fge=te(),Lge=Re(),jge=Ai();lU.exports=function(t,e){if(Fge(t),Lge(e)&&e.constructor===t)return e;var r=jge.f(t),n=r.resolve;return n(e),r.promise}});var pU=N(function(){"use strict";var Nge=D(),Dge=me(),cU=rt(),Uge=Na(),fU=ys().CONSTRUCTOR,Mge=RS(),Bge=Dge("Promise"),$ge=cU&&!fU;Nge({target:"Promise",stat:!0,forced:cU||fU},{resolve:i(function(e){return Mge($ge&&this===Bge?Uge:this,e)},"resolve")})});var OU=N(function(lst,wU){"use strict";var gU=le(),dbe=de(),vbe=Re(),ybe=Ae(),mU=Eo(),mbe=Xu(),bU=Function,gbe=gU([].concat),bbe=gU([].join),IS={},wbe=i(function(e,r,n){if(!ybe(IS,r)){for(var a=[],o=0;o<r;o++)a[o]="a["+o+"]";IS[r]=bU("C,a","return new C("+bbe(a,",")+")")}return IS[r](e,n)},"construct");wU.exports=mbe?bU.bind:i(function(e){var r=dbe(this),n=r.prototype,a=mU(arguments,1),o=i(function(){var s=gbe(a,mU(arguments));return this instanceof o?wbe(r,s.length,s):r.apply(e,s)},"bound");return vbe(n)&&(o.prototype=n),o},"bind")});var xS=N(function(cst,qU){var kU=Ae();qU.exports=function(t){return t!==void 0&&(kU(t,"value")||kU(t,"writable"))}});var Os=N(function(fst,DU){var wwe=Re(),Owe=mr(),Swe=be(),_we=Swe("match");DU.exports=function(t){var e;return wwe(t)&&((e=t[_we])!==void 0?!!e:Owe(t)=="RegExp")}});var Sv=N(function(pst,UU){"use strict";var Pwe=te();UU.exports=function(){var t=Pwe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var Ss=N(function(hst,BU){var Ewe=ce(),Rwe=Ae(),Twe=rr(),Awe=Sv(),MU=RegExp.prototype;BU.exports=function(t){var e=t.flags;return e===void 0&&!("flags"in MU)&&!Rwe(t,"flags")&&Twe(MU,t)?Ewe(Awe,t):e}});var xc=N(function(dst,$U){var FS=se(),Iwe=ve(),LS=Iwe.RegExp,jS=FS(function(){var t=LS("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),kwe=jS||FS(function(){return!LS("a","y").sticky}),qwe=jS||FS(function(){var t=LS("^r","gy");return t.lastIndex=2,t.exec("str")!=null});$U.exports={BROKEN_CARET:qwe,MISSED_STICKY:kwe,UNSUPPORTED_Y:jS}});var _v=N(function(vst,zU){var xwe=se(),Cwe=ve(),Fwe=Cwe.RegExp;zU.exports=xwe(function(){var t=Fwe(".","s");return!(t.dotAll&&t.exec("\n")&&t.flags==="s")})});var NS=N(function(yst,GU){var Lwe=se(),jwe=ve(),Nwe=jwe.RegExp;GU.exports=Lwe(function(){var t=Nwe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var Ii=N(function(mst,eM){var ZU=cd(),s0e=We();eM.exports=function(t,e,r){return r.get&&ZU(r.get,e,{getter:!0}),r.set&&ZU(r.set,e,{setter:!0}),s0e.f(t,e,r)}});var Fc=N(function(gst,nM){"use strict";var Ps=ce(),Rv=le(),v0e=je(),y0e=Sv(),m0e=xc(),g0e=Oo(),b0e=wt(),w0e=Ye().get,O0e=_v(),S0e=NS(),_0e=g0e("native-string-replace",String.prototype.replace),Ev=RegExp.prototype.exec,zS=Ev,P0e=Rv("".charAt),E0e=Rv("".indexOf),R0e=Rv("".replace),$S=Rv("".slice),GS=function(){var t=/a/,e=/b*/g;return Ps(Ev,t,"a"),Ps(Ev,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),rM=m0e.BROKEN_CARET,HS=/()??/.exec("")[1]!==void 0,T0e=GS||HS||rM||O0e||S0e;T0e&&(zS=i(function(e){var r=this,n=w0e(r),a=v0e(e),o=n.raw,u,s,c,p,h,y,m;if(o)return o.lastIndex=r.lastIndex,u=Ps(zS,o,a),r.lastIndex=o.lastIndex,u;var w=n.groups,_=rM&&r.sticky,R=Ps(y0e,r),T=r.source,E=0,A=a;if(_&&(R=R0e(R,"y",""),E0e(R,"g")===-1&&(R+="g"),A=$S(a,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&P0e(a,r.lastIndex-1)!=="\n")&&(T="(?: "+T+")",A=" "+A,E++),s=new RegExp("^(?:"+T+")",R)),HS&&(s=new RegExp("^"+T+"$(?!\\s)",R)),GS&&(c=r.lastIndex),p=Ps(Ev,_?s:r,A),_?p?(p.input=$S(p.input,E),p[0]=$S(p[0],E),p.index=r.lastIndex,r.lastIndex+=p[0].length):r.lastIndex=0:GS&&p&&(r.lastIndex=r.global?p.index+p[0].length:c),HS&&p&&p.length>1&&Ps(_0e,p[0],s,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(p[h]=void 0)}),p&&w)for(p.groups=y=b0e(null),h=0;h<w.length;h++)m=w[h],y[m[0]]=p[m[1]];return p},"exec"));nM.exports=zS});var Tv=N(function(){"use strict";var A0e=D(),iM=Fc();A0e({target:"RegExp",proto:!0,forced:/./.exec!==iM},{exec:iM})});var cM=N(function(){"use strict";var nOe=mc(),iOe=_O();nOe("Set",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"Set")},iOe)});var Ma=N(function(_st,hM){var WS=le(),hOe=ut(),dOe=je(),vOe=gt(),yOe=WS("".charAt),fM=WS("".charCodeAt),mOe=WS("".slice),pM=i(function(e){return function(r,n){var a=dOe(vOe(r)),o=hOe(n),u=a.length,s,c;return o<0||o>=u?e?"":void 0:(s=fM(a,o),s<55296||s>56319||o+1===u||(c=fM(a,o+1))<56320||c>57343?e?yOe(a,o):s:e?mOe(a,o,o+2):(s-55296<<10)+(c-56320)+65536)}},"createMethod");hM.exports={codeAt:pM(!1),charAt:pM(!0)}});var Av=N(function(Pst,dM){var wOe=Os(),OOe=TypeError;dM.exports=function(t){if(wOe(t))throw OOe("The method doesn't accept regular expressions");return t}});var Iv=N(function(Est,vM){var SOe=be(),_Oe=SOe("match");vM.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[_Oe]=!1,"/./"[t](e)}catch(n){}}return!1}});var KS=N(function(){"use strict";var VOe=Ma().charAt,WOe=je(),_M=Ye(),KOe=Md(),PM="String Iterator",YOe=_M.set,XOe=_M.getterFor(PM);KOe(String,"String",function(t){YOe(this,{type:PM,string:WOe(t),index:0})},i(function(){var e=XOe(this),r=e.string,n=e.index,a;return n>=r.length?{value:void 0,done:!0}:(a=VOe(r,n),e.index+=a.length,{value:a,done:!1})},"next"))});var Lc=N(function(Ast,IM){"use strict";Tv();var EM=le(),RM=nt(),JOe=Fc(),TM=se(),AM=be(),QOe=kt(),ZOe=AM("species"),YS=RegExp.prototype;IM.exports=function(t,e,r,n){var a=AM(t),o=!TM(function(){var p={};return p[a]=function(){return 7},""[t](p)!=7}),u=o&&!TM(function(){var p=!1,h=/a/;return t==="split"&&(h={},h.constructor={},h.constructor[ZOe]=function(){return h},h.flags="",h[a]=/./[a]),h.exec=function(){return p=!0,null},h[a](""),!p});if(!o||!u||r){var s=EM(/./[a]),c=e(a,""[t],function(p,h,y,m,w){var _=EM(p),R=h.exec;return R===JOe||R===YS.exec?o&&!w?{done:!0,value:s(h,y,m)}:{done:!0,value:_(y,h,m)}:{done:!1}});RM(String.prototype,t,c[0]),RM(YS,a,c[1])}n&&QOe(YS[a],"sham",!0)}});var jc=N(function(Ist,kM){"use strict";var eSe=Ma().charAt;kM.exports=function(t,e,r){return e+(r?eSe(t,e).length:1)}});var Es=N(function(kst,xM){var qM=ce(),tSe=te(),rSe=Pe(),nSe=mr(),iSe=Fc(),oSe=TypeError;xM.exports=function(t,e){var r=t.exec;if(rSe(r)){var n=qM(r,t,e);return n!==null&&tSe(n),n}if(nSe(t)==="RegExp")return qM(iSe,t,e);throw oSe("RegExp#exec called on incompatible receiver")}});var t_=N(function(qst,VM){var HM=le(),ISe=Fr(),zM=je(),kSe=Pc(),qSe=gt(),xSe=HM(kSe),CSe=HM("".slice),FSe=Math.ceil,GM=i(function(e){return function(r,n,a){var o=zM(qSe(r)),u=ISe(n),s=o.length,c=a===void 0?" ":zM(a),p,h;return u<=s||c==""?o:(p=u-s,h=xSe(c,FSe(p/c.length)),h.length>p&&(h=CSe(h,0,p)),e?o+h:h+o)}},"createMethod");VM.exports={start:GM(!1),end:GM(!0)}});var r_=N(function(xst,WM){var LSe=Oi();WM.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(LSe)});var a_=N(function(Cst,JM){var o_=le(),YSe=xe(),XSe=Math.floor,n_=o_("".charAt),JSe=o_("".replace),i_=o_("".slice),QSe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ZSe=/\$([$&'`]|\d{1,2})/g;JM.exports=function(t,e,r,n,a,o){var u=r+t.length,s=n.length,c=ZSe;return a!==void 0&&(a=YSe(a),c=QSe),JSe(o,c,function(p,h){var y;switch(n_(h,0)){case"$":return"$";case"&":return t;case"`":return i_(e,0,r);case"'":return i_(e,u);case"<":y=a[i_(h,1,-1)];break;default:var m=+h;if(m===0)return p;if(m>s){var w=XSe(m/10);return w===0?p:w<=s?n[w-1]===void 0?n_(h,1):n[w-1]+n_(h,1):p}y=n[m-1]}return y===void 0?"":y})}});var Cv=N(function(Fst,b5){var s1e=ba().PROPER,l1e=se(),m5=Oc(),g5="\u200B\x85\u180E";b5.exports=function(t){return l1e(function(){return!!m5[t]()||g5[t]()!==g5||s1e&&m5[t].name!==t})}});var p_=N(function(Lst,w5){"use strict";var h1e=xa().end,d1e=Cv();w5.exports=d1e("trimEnd")?i(function(){return h1e(this)},"trimEnd"):"".trimEnd});var S5=N(function(){var v1e=D(),O5=p_();v1e({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==O5},{trimRight:O5})});var h_=N(function(Dst,P5){"use strict";var m1e=xa().start,g1e=Cv();P5.exports=g1e("trimStart")?i(function(){return m1e(this)},"trimStart"):"".trimStart});var R5=N(function(){var b1e=D(),E5=h_();b1e({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==E5},{trimLeft:E5})});var Sr=N(function(Bst,I5){var O1e=le(),S1e=gt(),A5=je(),_1e=/"/g,P1e=O1e("".replace);I5.exports=function(t,e,r,n){var a=A5(S1e(t)),o="<"+e;return r!==""&&(o+=" "+r+'="'+P1e(A5(n),_1e,"&quot;")+'"'),o+">"+a+"</"+e+">"}});var _r=N(function($st,k5){var E1e=se();k5.exports=function(t){return E1e(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var _e=N(function(zst,U5){"use strict";var fPe=iO(),m_=Oe(),ir=ve(),F5=Pe(),jv=Re(),Bo=Ae(),g_=Sn(),pPe=wo(),hPe=kt(),d_=nt(),dPe=We().f,vPe=rr(),Nv=Bt(),qs=zn(),yPe=be(),mPe=ma(),L5=Ye(),j5=L5.enforce,gPe=L5.get,Fv=ir.Int8Array,v_=Fv&&Fv.prototype,q5=ir.Uint8ClampedArray,x5=q5&&q5.prototype,Yn=Fv&&Nv(Fv),En=v_&&Nv(v_),bPe=Object.prototype,b_=ir.TypeError,C5=yPe("toStringTag"),y_=mPe("TYPED_ARRAY_TAG"),Lv="TypedArrayConstructor",ki=fPe&&!!qs&&g_(ir.opera)!=="Opera",N5=!1,Pr,Mo,ks,qi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},w_={BigInt64Array:8,BigUint64Array:8},wPe=i(function(e){if(!jv(e))return!1;var r=g_(e);return r==="DataView"||Bo(qi,r)||Bo(w_,r)},"isView"),OPe=i(function t(e){var r=Nv(e);if(!!jv(r)){var n=gPe(r);return n&&Bo(n,Lv)?n[Lv]:t(r)}},"getTypedArrayConstructor"),D5=i(function(e){if(!jv(e))return!1;var r=g_(e);return Bo(qi,r)||Bo(w_,r)},"isTypedArray"),SPe=i(function(e){if(D5(e))return e;throw b_("Target is not a typed array")},"aTypedArray"),_Pe=i(function(e){if(F5(e)&&(!qs||vPe(Yn,e)))return e;throw b_(pPe(e)+" is not a typed array constructor")},"aTypedArrayConstructor"),PPe=i(function(e,r,n,a){if(!!m_){if(n)for(var o in qi){var u=ir[o];if(u&&Bo(u.prototype,e))try{delete u.prototype[e]}catch(s){try{u.prototype[e]=r}catch(c){}}}(!En[e]||n)&&d_(En,e,n?r:ki&&v_[e]||r,a)}},"exportTypedArrayMethod"),EPe=i(function(e,r,n){var a,o;if(!!m_){if(qs){if(n){for(a in qi)if(o=ir[a],o&&Bo(o,e))try{delete o[e]}catch(u){}}if(!Yn[e]||n)try{return d_(Yn,e,n?r:ki&&Yn[e]||r)}catch(u){}else return}for(a in qi)o=ir[a],o&&(!o[e]||n)&&d_(o,e,r)}},"exportTypedArrayStaticMethod");for(Pr in qi)Mo=ir[Pr],ks=Mo&&Mo.prototype,ks?j5(ks)[Lv]=Mo:ki=!1;for(Pr in w_)Mo=ir[Pr],ks=Mo&&Mo.prototype,ks&&(j5(ks)[Lv]=Mo);if((!ki||!F5(Yn)||Yn===Function.prototype)&&(Yn=i(function(){throw b_("Incorrect invocation")},"TypedArray"),ki))for(Pr in qi)ir[Pr]&&qs(ir[Pr],Yn);if((!ki||!En||En===bPe)&&(En=Yn.prototype,ki))for(Pr in qi)ir[Pr]&&qs(ir[Pr].prototype,En);ki&&Nv(x5)!==En&&qs(x5,En);if(m_&&!Bo(En,C5)){N5=!0,dPe(En,C5,{get:i(function(){return jv(this)?this[y_]:void 0},"get")});for(Pr in qi)ir[Pr]&&hPe(ir[Pr],y_,Pr)}U5.exports={NATIVE_ARRAY_BUFFER_VIEWS:ki,TYPED_ARRAY_TAG:N5&&y_,aTypedArray:SPe,aTypedArrayConstructor:_Pe,exportTypedArrayMethod:PPe,exportTypedArrayStaticMethod:EPe,getTypedArrayConstructor:OPe,isView:wPe,isTypedArray:D5,TypedArray:Yn,TypedArrayPrototype:En}});var Dv=N(function(Gst,B5){var M5=ve(),O_=se(),RPe=fc(),TPe=_e().NATIVE_ARRAY_BUFFER_VIEWS,APe=M5.ArrayBuffer,Ba=M5.Int8Array;B5.exports=!TPe||!O_(function(){Ba(1)})||!O_(function(){new Ba(-1)})||!RPe(function(t){new Ba,new Ba(null),new Ba(1.5),new Ba(t)},!0)||O_(function(){return new Ba(new APe(2),1,void 0).length!==1})});var xs=N(function(Hst,$5){var IPe=ut(),kPe=RangeError;$5.exports=function(t){var e=IPe(t);if(e<0)throw kPe("The argument can't be less than 0");return e}});var S_=N(function(Vst,z5){var qPe=xs(),xPe=RangeError;z5.exports=function(t,e){var r=qPe(t);if(r%e)throw xPe("Wrong offset");return r}});var __=N(function(Wst,G5){var CPe=Xe(),FPe=ce(),LPe=ds(),jPe=xe(),NPe=Le(),DPe=tn(),UPe=Hn(),MPe=kd(),BPe=_e().aTypedArrayConstructor;G5.exports=i(function(e){var r=LPe(this),n=jPe(e),a=arguments.length,o=a>1?arguments[1]:void 0,u=o!==void 0,s=UPe(n),c,p,h,y,m,w;if(s&&!MPe(s))for(m=DPe(n,s),w=m.next,n=[];!(y=FPe(w,m)).done;)n.push(y.value);for(u&&a>2&&(o=CPe(o,arguments[2])),p=NPe(n),h=new(BPe(r))(p),c=0;p>c;c++)h[c]=u?o(n[c],c):n[c];return h},"from")});var Xn=N(function(Kst,k_){"use strict";var H5=D(),rB=ve(),V5=ce(),$Pe=Oe(),zPe=Dv(),Cs=_e(),nB=hO(),W5=Or(),GPe=Cr(),Mc=kt(),HPe=av(),VPe=Fr(),K5=oO(),P_=S_(),iB=Bn(),Bc=Ae(),WPe=Sn(),T_=Re(),KPe=bo(),YPe=wt(),XPe=rr(),Uv=zn(),JPe=Si().f,Y5=__(),QPe=Ot().forEach,ZPe=Io(),oB=We(),aB=Mt(),q_=Ye(),eEe=Ra(),A_=q_.get,tEe=q_.set,rEe=q_.enforce,x_=oB.f,nEe=aB.f,iEe=Math.round,E_=rB.RangeError,uB=nB.ArrayBuffer,oEe=uB.prototype,aEe=nB.DataView,Mv=Cs.NATIVE_ARRAY_BUFFER_VIEWS,X5=Cs.TYPED_ARRAY_TAG,J5=Cs.TypedArray,$c=Cs.TypedArrayPrototype,uEe=Cs.aTypedArrayConstructor,I_=Cs.isTypedArray,Bv="BYTES_PER_ELEMENT",R_="Wrong length",Q5=i(function(e,r){uEe(e);for(var n=0,a=r.length,o=new e(a);a>n;)o[n]=r[n++];return o},"fromList"),$v=i(function(e,r){x_(e,r,{get:i(function(){return A_(this)[r]},"get")})},"addGetter"),Z5=i(function(e){var r;return XPe(oEe,e)||(r=WPe(e))=="ArrayBuffer"||r=="SharedArrayBuffer"},"isArrayBuffer"),sB=i(function(e,r){return I_(e)&&!KPe(r)&&r in e&&HPe(+r)&&r>=0},"isTypedArrayIndex"),eB=i(function(e,r){return r=iB(r),sB(e,r)?GPe(2,e[r]):nEe(e,r)},"getOwnPropertyDescriptor"),tB=i(function(e,r,n){return r=iB(r),sB(e,r)&&T_(n)&&Bc(n,"value")&&!Bc(n,"get")&&!Bc(n,"set")&&!n.configurable&&(!Bc(n,"writable")||n.writable)&&(!Bc(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):x_(e,r,n)},"defineProperty");$Pe?(Mv||(aB.f=eB,oB.f=tB,$v($c,"buffer"),$v($c,"byteOffset"),$v($c,"byteLength"),$v($c,"length")),H5({target:"Object",stat:!0,forced:!Mv},{getOwnPropertyDescriptor:eB,defineProperty:tB}),k_.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,a=t+(r?"Clamped":"")+"Array",o="get"+t,u="set"+t,s=rB[a],c=s,p=c&&c.prototype,h={},y=i(function(T,E){var A=A_(T);return A.view[o](E*n+A.byteOffset,!0)},"getter"),m=i(function(T,E,A){var C=A_(T);r&&(A=(A=iEe(A))<0?0:A>255?255:A&255),C.view[u](E*n+C.byteOffset,A,!0)},"setter"),w=i(function(T,E){x_(T,E,{get:i(function(){return y(this,E)},"get"),set:i(function(C){return m(this,E,C)},"set"),enumerable:!0})},"addElement");Mv?zPe&&(c=e(function(R,T,E,A){return W5(R,p),eEe(function(){return T_(T)?Z5(T)?A!==void 0?new s(T,P_(E,n),A):E!==void 0?new s(T,P_(E,n)):new s(T):I_(T)?Q5(c,T):V5(Y5,c,T):new s(K5(T))}(),R,c)}),Uv&&Uv(c,J5),QPe(JPe(s),function(R){R in c||Mc(c,R,s[R])}),c.prototype=p):(c=e(function(R,T,E,A){W5(R,p);var C=0,U=0,G,M,z;if(!T_(T))z=K5(T),M=z*n,G=new uB(M);else if(Z5(T)){G=T,U=P_(E,n);var W=T.byteLength;if(A===void 0){if(W%n||(M=W-U,M<0))throw E_(R_)}else if(M=VPe(A)*n,M+U>W)throw E_(R_);z=M/n}else return I_(T)?Q5(c,T):V5(Y5,c,T);for(tEe(R,{buffer:G,byteOffset:U,byteLength:M,length:z,view:new aEe(G)});C<z;)w(R,C++)}),Uv&&Uv(c,J5),p=c.prototype=YPe($c)),p.constructor!==c&&Mc(p,"constructor",c),rEe(p).TypedArrayConstructor=c,X5&&Mc(p,X5,a);var _=c!=s;h[a]=c,H5({global:!0,constructor:!0,forced:_,sham:!Mv},h),Bv in c||Mc(c,Bv,n),Bv in p||Mc(p,Bv,n),ZPe(a)}):k_.exports=function(){}});var C_=N(function(Yst,pB){var IEe=id(),kEe=TypeError;pB.exports=function(t){var e=IEe(t,"number");if(typeof e=="number")throw kEe("Can't convert number to bigint");return BigInt(e)}});var Fs=N(function(Xst,dB){var BEe=Le();dB.exports=function(t,e){for(var r=0,n=BEe(e),a=new t(n);n>r;)a[r]=e[r++];return a}});var Ls=N(function(Jst,yB){var vB=_e(),$Ee=nr(),zEe=vB.aTypedArrayConstructor,GEe=vB.getTypedArrayConstructor;yB.exports=function(t){return zEe($Ee(t,GEe(t)))}});var zc=N(function(Qst,mB){var HEe=Fs(),VEe=Ls();mB.exports=function(t,e){return HEe(VEe(t),e)}});var CB=N(function(Zst,xB){"use strict";var qRe=wr(),xRe=bt(),CRe=ut(),FRe=Le(),LRe=ka(),jRe=Math.min,D_=[].lastIndexOf,qB=!!D_&&1/[1].lastIndexOf(1,-0)<0,NRe=LRe("lastIndexOf"),DRe=qB||!NRe;xB.exports=DRe?i(function(e){if(qB)return qRe(D_,this,arguments)||0;var r=xRe(this),n=FRe(r),a=n-1;for(arguments.length>1&&(a=jRe(a,CRe(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in r&&r[a]===e)return a||0;return-1},"lastIndexOf"):D_});var U_=N(function(elt,DB){var XRe=de(),JRe=xe(),QRe=wi(),ZRe=Le(),eTe=TypeError,NB=i(function(e){return function(r,n,a,o){XRe(n);var u=JRe(r),s=QRe(u),c=ZRe(u),p=e?c-1:0,h=e?-1:1;if(a<2)for(;;){if(p in s){o=s[p],p+=h;break}if(p+=h,e?p<0:c<=p)throw eTe("Reduce of empty array with no initial value")}for(;e?p>=0:c>p;p+=h)p in s&&(o=n(o,s[p],p,u));return o}},"createMethod");DB.exports={left:NB(!1),right:NB(!0)}});var W_=N(function(tlt,p8){"use strict";var JTe=le(),u8=Vn(),Wv=xo().getWeakData,QTe=te(),H_=Re(),ZTe=Or(),eAe=we(),l8=Ot(),s8=Ae(),c8=Ye(),tAe=c8.set,rAe=c8.getterFor,nAe=l8.find,iAe=l8.findIndex,oAe=JTe([].splice),aAe=0,Kv=i(function(e){return e.frozen||(e.frozen=new f8)},"uncaughtFrozenStore"),f8=i(function(){this.entries=[]},"UncaughtFrozenStore"),V_=i(function(e,r){return nAe(e.entries,function(n){return n[0]===r})},"findUncaughtFrozen");f8.prototype={get:i(function(e){var r=V_(this,e);if(r)return r[1]},"get"),has:i(function(e){return!!V_(this,e)},"has"),set:i(function(e,r){var n=V_(this,e);n?n[1]=r:this.entries.push([e,r])},"set"),delete:i(function(e){var r=iAe(this.entries,function(n){return n[0]===e});return~r&&oAe(this.entries,r,1),!!~r},"_delete")};p8.exports={getConstructor:i(function(e,r,n,a){var o=e(function(p,h){ZTe(p,u),tAe(p,{type:r,id:aAe++,frozen:void 0}),h!=null&&eAe(h,p[a],{that:p,AS_ENTRIES:n})}),u=o.prototype,s=rAe(r),c=i(function(h,y,m){var w=s(h),_=Wv(QTe(y),!0);return _===!0?Kv(w).set(y,m):_[w.id]=m,h},"define");return u8(u,{delete:i(function(h){var y=s(this);if(!H_(h))return!1;var m=Wv(h);return m===!0?Kv(y).delete(h):m&&s8(m,y.id)&&delete m[y.id]},"_delete"),has:i(function(h){var y=s(this);if(!H_(h))return!1;var m=Wv(h);return m===!0?Kv(y).has(h):m&&s8(m,y.id)},"has")}),u8(u,n?{get:i(function(h){var y=s(this);if(H_(h)){var m=Wv(h);return m===!0?Kv(y).get(h):m?m[y.id]:void 0}},"get"),set:i(function(h,y){return c(this,h,y)},"set")}:{add:i(function(h){return c(this,h,!0)},"add")}),o},"getConstructor")}});var y8=N(function(){"use strict";var h8=ve(),Yv=le(),uAe=Vn(),sAe=xo(),lAe=mc(),d8=W_(),Xv=Re(),Jv=yc(),Qv=Ye().enforce,cAe=zw(),fAe=!h8.ActiveXObject&&"ActiveXObject"in h8,Hc,v8=i(function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"WeakMap")},"wrapper"),pAe=lAe("WeakMap",v8,d8);cAe&&fAe&&(Hc=d8.getConstructor(v8,"WeakMap",!0),sAe.enable(),Ds=pAe.prototype,K_=Yv(Ds.delete),Vc=Yv(Ds.has),Y_=Yv(Ds.get),X_=Yv(Ds.set),uAe(Ds,{delete:i(function(e){if(Xv(e)&&!Jv(e)){var r=Qv(this);return r.frozen||(r.frozen=new Hc),K_(this,e)||r.frozen.delete(e)}return K_(this,e)},"_delete"),has:i(function(e){if(Xv(e)&&!Jv(e)){var r=Qv(this);return r.frozen||(r.frozen=new Hc),Vc(this,e)||r.frozen.has(e)}return Vc(this,e)},"has"),get:i(function(e){if(Xv(e)&&!Jv(e)){var r=Qv(this);return r.frozen||(r.frozen=new Hc),Vc(this,e)?Y_(this,e):r.frozen.get(e)}return Y_(this,e)},"get"),set:i(function(e,r){if(Xv(e)&&!Jv(e)){var n=Qv(this);n.frozen||(n.frozen=new Hc),Vc(this,e)?X_(this,e,r):n.frozen.set(e,r)}else X_(this,e,r);return this},"set")}));var Ds,K_,Vc,Y_,X_});var Zv=N(function(){y8()});var m8=N(function(){"use strict";var hAe=mc(),dAe=W_();hAe("WeakSet",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakSet")},dAe)});var Wc=N(function(slt,E8){var S8=ve(),_8=Wl(),P8=Pe(),vAe=wt(),ey=Bt(),yAe=nt(),mAe=be(),gAe=rt(),g8="USE_FUNCTION_CONSTRUCTOR",b8=mAe("asyncIterator"),w8=S8.AsyncIterator,O8=_8.AsyncIteratorPrototype,Jn,J_;if(O8)Jn=O8;else if(P8(w8))Jn=w8.prototype;else if(_8[g8]||S8[g8])try{J_=ey(ey(ey(Function("return async function*(){}()")()))),ey(J_)===Object.prototype&&(Jn=J_)}catch(t){}Jn?gAe&&(Jn=vAe(Jn)):Jn={};P8(Jn[b8])||yAe(Jn,b8,function(){return this});E8.exports=Jn});var Kc=N(function(llt,x8){"use strict";var R8=ce(),Q_=te(),bAe=wt(),wAe=It(),OAe=Vn(),I8=Ye(),SAe=me(),_Ae=Wc(),Z_=SAe("Promise"),k8="AsyncFromSyncIterator",PAe=I8.set,T8=I8.getterFor(k8),A8=i(function(e,r,n){var a=e.done;Z_.resolve(e.value).then(function(o){r({done:a,value:o})},n)},"asyncFromSyncIteratorContinuation"),q8=i(function(e){PAe(this,{type:k8,iterator:Q_(e),next:e.next})},"AsyncIterator");q8.prototype=OAe(bAe(_Ae),{next:i(function(){var e=T8(this);return new Z_(function(r,n){var a=Q_(R8(e.next,e.iterator));A8(a,r,n)})},"next"),return:i(function(){var e=T8(this).iterator;return new Z_(function(r,n){var a=wAe(e,"return");if(a===void 0)return r({done:!0,value:void 0});var o=Q_(R8(a,e));A8(o,r,n)})},"_return")});x8.exports=q8});var ty=N(function(clt,C8){var EAe=ce(),RAe=Kc(),TAe=te(),AAe=tn(),IAe=It(),kAe=be(),qAe=kAe("asyncIterator");C8.exports=function(t,e){var r=arguments.length<2?IAe(t,qAe):e;return r?TAe(EAe(r,t)):new RAe(AAe(t))}});var e1=N(function(flt,F8){var xAe=ve();F8.exports=function(t){return xAe[t].prototype}});var ot=N(function(plt,L8){var CAe=de(),FAe=te();L8.exports=function(t){return{iterator:t,next:CAe(FAe(t).next)}}});var Us=N(function(hlt,j8){var LAe=ce(),jAe=me(),NAe=It();j8.exports=function(t,e,r,n){try{var a=NAe(t,"return");if(a)return jAe("Promise").resolve(LAe(a,t)).then(function(){e(r)},function(o){n(o)})}catch(o){return n(o)}e(r)}});var $a=N(function(dlt,D8){"use strict";var DAe=ce(),UAe=de(),N8=te(),MAe=Ia(),BAe=me(),$Ae=ot(),t1=Us(),Yc=i(function(e){var r=e==0,n=e==1,a=e==2,o=e==3;return function(u,s,c){var p=$Ae(u),h=BAe("Promise"),y=p.iterator,m=p.next,w=0,_=s!==void 0;return(_||!r)&&UAe(s),new h(function(R,T){var E=i(function(U){t1(y,T,U,T)},"ifAbruptCloseAsyncIterator"),A=i(function C(){try{if(r&&_)try{MAe(w)}catch(U){E(U)}h.resolve(N8(DAe(m,y))).then(function(U){try{if(N8(U).done)r?(c.length=w,R(c)):R(o?!1:a||void 0);else{var G=U.value;try{_?h.resolve(r?s(G,w):s(G)).then(function(M){if(n)C();else if(a)M?C():t1(y,R,!1,T);else if(r)try{c[w++]=M,C()}catch(z){E(z)}else M?t1(y,R,o||G,T):C()},E):(c[w++]=G,C())}catch(M){E(M)}}}catch(M){T(M)}},T)}catch(U){T(U)}},"loop");A()})}},"createMethod");D8.exports={toArray:Yc(0),forEach:Yc(1),every:Yc(2),some:Yc(3),find:Yc(4)}});var r1=N(function(vlt,U8){"use strict";var zAe=Xe(),GAe=xe(),HAe=_n(),VAe=ty(),WAe=tn(),KAe=Hn(),YAe=It(),XAe=e1(),JAe=me(),QAe=be(),ZAe=Kc(),eIe=$a().toArray,tIe=QAe("asyncIterator"),rIe=XAe("Array").values;U8.exports=i(function(e){var r=this,n=arguments.length,a=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(JAe("Promise"))(function(u){var s=GAe(e);a!==void 0&&(a=zAe(a,o));var c=YAe(s,tIe),p=c?void 0:KAe(s)||rIe,h=HAe(r)?new r:[],y=c?VAe(s,c):new ZAe(WAe(s,p));u(eIe(y,a,h))})},"fromAsync")});var ry=N(function(ylt,M8){var fIe=Xe(),pIe=le(),hIe=wi(),dIe=xe(),vIe=Bn(),yIe=Le(),mIe=wt(),gIe=Fs(),bIe=Array,wIe=pIe([].push);M8.exports=function(t,e,r,n){for(var a=dIe(t),o=hIe(a),u=fIe(e,r),s=mIe(null),c=yIe(o),p=0,h,y,m;c>p;p++)m=o[p],y=vIe(u(m,p,a)),y in s?wIe(s[y],m):s[y]=[m];if(n&&(h=n(a),h!==bIe))for(y in s)s[y]=gIe(h,s[y]);return s}});var i1=N(function(mlt,$8){"use strict";var AIe=me(),IIe=Xe(),ny=le(),kIe=wi(),qIe=xe(),xIe=Le(),B8=AIe("Map"),n1=B8.prototype,CIe=ny(n1.get),FIe=ny(n1.has),LIe=ny(n1.set),jIe=ny([].push);$8.exports=i(function(e){for(var r=qIe(this),n=kIe(r),a=IIe(e,arguments.length>1?arguments[1]:void 0),o=new B8,u=xIe(n),s=0,c,p;u>s;s++)p=n[s],c=a(p,s,r),FIe(o,c)?jIe(CIe(o,c),p):LIe(o,c,[p]);return o},"groupToMap")});var o1=N(function(glt,W8){var eke=Le();W8.exports=function(t,e){for(var r=eke(t),n=new e(r),a=0;a<r;a++)n[a]=t[r-a-1];return n}});var oy=N(function(blt,Y8){"use strict";var Eke=me(),iy=le(),Rke=de(),Tke=Le(),Ake=xe(),Ike=_a(),K8=Eke("Map"),a1=K8.prototype,kke=iy(a1.forEach),qke=iy(a1.has),xke=iy(a1.set),Cke=iy([].push);Y8.exports=i(function(e){var r=Ake(this),n=Tke(r),a=Ike(r,0),o=new K8,u=e!=null?Rke(e):function(h){return h},s,c,p;for(s=0;s<n;s++)c=r[s],p=u(c),qke(o,p)||xke(o,p,c);return kke(o,function(h){Cke(a,h)}),a},"uniqueBy")});var u1=N(function(wlt,X8){var Nke=Le(),Dke=ut(),Uke=RangeError;X8.exports=function(t,e,r,n){var a=Nke(t),o=Dke(r),u=o<0?a+o:o;if(u>=a||u<0)throw Uke("Incorrect index");for(var s=new e(a),c=0;c<a;c++)s[c]=c===u?n:t[c];return s}});var $o=N(function(Olt,s4){"use strict";var Wke=ce(),t4=jo(),r4=te(),Kke=wt(),Yke=kt(),Xke=Vn(),Jke=be(),i4=Ye(),Qke=me(),Zke=It(),eqe=Wc(),n4=Aa(),Ga=Qke("Promise"),o4="AsyncIteratorHelper",a4="WrapForValidAsyncIterator",tqe=i4.set,rqe=Jke("toStringTag"),u4=i(function(e){var r=!e,n=e?a4:o4,a=i4.getterFor(n),o=i(function(p){var h=t4(function(){return a(p)}),y=h.error,m=h.value;return y||r&&m.done?{exit:!0,value:y?Ga.reject(m):Ga.resolve({done:!0,value:void 0})}:{exit:!1,value:m}},"getStateOrEarlyExit"),u=i(function(p,h){var y=i(function(){var w=h();if(r){p.awaiting=w;var _=i(function(){p.awaiting===w&&(p.awaiting=null)},"clean");w.then(_,_)}return w},"task");return p.awaiting?p.awaiting=p.awaiting.then(y,y):y()},"enqueue"),s=Xke(Kke(eqe),{next:i(function(){var p=o(this),h=p.exit,y=p.value;return h?y:u(y,function(){var m=t4(function(){return r4(y.nextHandler(Ga))}),w=m.error,_=m.value;return w&&(y.done=!0),w?Ga.reject(_):Ga.resolve(_)})},"next"),return:i(function(){var p=o(this),h=p.exit,y=p.value;return h?y:u(y,function(){return new Ga(function(m,w){var _=y.iterator,R=y.innerIterator;if(y.done=!0,R)try{n4(R,"return")}catch(E){return n4(_,"throw",E)}var T=Zke(_,"return");if(T===void 0)return m({done:!0,value:void 0});Ga.resolve(Wke(T,_)).then(function(E){r4(E),m({done:!0,value:void 0})},w)})})},"_return")});return r&&Yke(s,rqe,"Async Iterator Helper"),s},"createAsyncIteratorProxyPrototype"),nqe=u4(!1),iqe=u4(!0);s4.exports=function(t,e){var r=e?a4:o4,n=i(function(o,u){u?(u.iterator=o.iterator,u.next=o.next):u=o,u.type=r,u.nextHandler=t,u.done=!1,u.awaiting=null,tqe(this,u)},"AsyncIterator");return n.prototype=e?iqe:nqe,n}});var l1=N(function(Slt,c4){"use strict";var oqe=ce(),l4=te(),aqe=ot(),uqe=$o(),sqe=uqe(function(t){var e=this,r=e.iterator;return t.resolve(l4(oqe(e.next,r))).then(function(n){return l4(n).done?(e.done=!0,{done:!0,value:void 0}):{done:!1,value:[e.index++,n.value]}}).then(null,function(n){throw e.done=!0,n})});c4.exports=i(function(){return new sqe(aqe(this),{index:0})},"indexed")});var Xc=N(function(_lt,f4){var fqe=RangeError;f4.exports=function(t){if(t===t)return t;throw fqe("NaN is not allowed")}});var c1=N(function(Plt,y4){var Dqe=ce(),Uqe=$o();y4.exports=Uqe(function(){return Dqe(this.next,this.iterator)},!0)});var d1=N(function(Elt,P4){"use strict";function Ms(t){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}i(Ms,"_typeof");var O4=Ye(),R2e=To(),T2e=Re(),A2e=yd().f,S4=Oe(),Jc="Incorrect Number.range arguments",h1="NumericRangeIterator",I2e=O4.set,Qc=O4.getterFor(h1),w4=RangeError,p1=TypeError,_4=R2e(i(function(e,r,n,a,o,u){if(Ms(e)!=a||r!==1/0&&r!==-1/0&&Ms(r)!=a)throw new p1(Jc);if(e===1/0||e===-1/0)throw new w4(Jc);var s=r>e,c=!1,p;if(n===void 0)p=void 0;else if(T2e(n))p=n.step,c=!!n.inclusive;else if(Ms(n)==a)p=n;else throw new p1(Jc);if(p==null&&(p=s?u:-u),Ms(p)!=a)throw new p1(Jc);if(p===1/0||p===-1/0||p===o&&e!==r)throw new w4(Jc);var h=e!=e||r!=r||p!=p||r>e!=p>o;I2e(this,{type:h1,start:e,end:r,step:p,inclusiveEnd:c,hitsEnd:h,currentCount:o,zero:o}),S4||(this.start=e,this.end=r,this.step=p,this.inclusive=c)},"NumericRangeIterator"),h1,i(function(){var e=Qc(this);if(e.hitsEnd)return{value:void 0,done:!0};var r=e.start,n=e.end,a=e.step,o=r+a*e.currentCount++;o===n&&(e.hitsEnd=!0);var u=e.inclusiveEnd,s;return n>r?s=u?o>n:o>=n:s=u?n>o:n>=o,s?{value:void 0,done:e.hitsEnd=!0}:{value:o,done:!1}},"next")),uy=i(function(e){return{get:e,set:i(function(){},"set"),configurable:!0,enumerable:!1}},"getter");S4&&A2e(_4.prototype,{start:uy(function(){return Qc(this).start}),end:uy(function(){return Qc(this).end}),inclusive:uy(function(){return Qc(this).inclusiveEnd}),step:uy(function(){return Qc(this).step})});P4.exports=_4});var v1=N(function(Rlt,A4){Qd();Zv();var T4=me(),x2e=wt(),E4=Re(),C2e=Object,F2e=TypeError,L2e=T4("Map"),j2e=T4("WeakMap"),sy=i(function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=x2e(null)},"Node");sy.prototype.get=function(t,e){return this[t]||(this[t]=e())};sy.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new j2e):this.primitives||(this.primitives=new L2e),a=n.get(e);return a||n.set(e,a=new sy),a};var R4=new sy;A4.exports=function(){var t=R4,e=arguments.length,r,n;for(r=0;r<e;r++)E4(n=arguments[r])&&(t=t.next(r,n,!0));if(this===C2e&&t===R4)throw F2e("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)E4(n=arguments[r])||(t=t.next(r,n,!1));return t}});var Go=N(function(Tlt,B4){"use strict";var hxe=ce(),dxe=te(),vxe=wt(),yxe=kt(),mxe=Vn(),gxe=be(),N4=Ye(),bxe=It(),wxe=us().IteratorPrototype,j4=Aa(),D4="IteratorHelper",U4="WrapForValidIterator",Oxe=N4.set,Sxe=gxe("toStringTag"),M4=i(function(e){var r=e?U4:D4,n=N4.getterFor(r),a=mxe(vxe(wxe),{next:i(function(){var u=n(this);if(e)return u.nextHandler();try{var s=u.done?void 0:u.nextHandler();return{done:u.done,value:s}}catch(c){throw u.done=!0,c}},"next"),return:i(function(){var u=n(this),s=u.iterator,c=u.innerIterator;if(u.done=!0,c)try{j4(c,"return")}catch(h){return j4(s,"throw",h)}var p=bxe(s,"return");return{done:!0,value:p?dxe(hxe(p,s)).value:void 0}},"_return")});return e||yxe(a,Sxe,"Iterator Helper"),a},"createIteratorProxyPrototype"),_xe=M4(!1),Pxe=M4(!0);B4.exports=function(t,e){var r=e?U4:D4,n=i(function(o,u){u?(u.iterator=o.iterator,u.next=o.next):u=o,u.type=r,u.nextHandler=t,u.done=!1,Oxe(this,u)},"Iterator");return n.prototype=e?Pxe:_xe,n}});var g1=N(function(Alt,$4){"use strict";var Exe=ce(),Rxe=te(),Txe=ot(),Axe=Go(),Ixe=Axe(function(){var t=Rxe(Exe(this.next,this.iterator)),e=this.done=!!t.done;if(!e)return[this.index++,t.value]});$4.exports=i(function(){return new Ixe(Txe(this),{index:0})},"indexed")});var Zc=N(function(Ilt,W4){"use strict";var tFe=ce(),rFe=de(),nFe=te();W4.exports=i(function(){for(var e=nFe(this),r=rFe(e.delete),n=!0,a,o=0,u=arguments.length;o<u;o++)a=tFe(r,e,arguments[o]),n=n&&a;return!!n},"deleteAll")});var S1=N(function(klt,K4){"use strict";var ly=ce(),O1=de(),aFe=te();K4.exports=i(function(e,r){var n=aFe(this),a=O1(n.get),o=O1(n.has),u=O1(n.set),s,c;return ly(o,n,e)?(s=ly(a,n,e),"update"in r&&(s=r.update(s,e,n),ly(u,n,e,s)),s):(c=r.insert(e,n),ly(u,n,e,c),c)},"emplace")});var Rn=N(function(qlt,Y4){var lFe=ce();Y4.exports=function(t){return lFe(Map.prototype.entries,t)}});var ef=N(function(xlt,Q4){"use strict";var FFe=Xe(),LFe=ce(),jFe=de(),NFe=ds(),X4=we(),J4=[].push;Q4.exports=i(function(e){var r=arguments.length,n=r>1?arguments[1]:void 0,a,o,u,s;return NFe(this),a=n!==void 0,a&&jFe(n),e==null?new this:(o=[],a?(u=0,s=FFe(n,r>2?arguments[2]:void 0),X4(e,function(c){LFe(J4,o,s(c,u++))})):X4(e,J4,{that:o}),new this(o))},"from")});var e6=N(function(Clt,Z4){Z4.exports=function(t,e){return t===e||t!=t&&e!=e}});var tf=N(function(Flt,r6){"use strict";var ELe=Eo();r6.exports=i(function(){return new this(ELe(arguments))},"of")});var hy=N(function(Llt,n6){"use strict";var fy=ce(),E1=de(),py=Pe(),$Le=te(),zLe=TypeError;n6.exports=i(function(e,r){var n=$Le(this),a=E1(n.get),o=E1(n.has),u=E1(n.set),s=arguments.length>2?arguments[2]:void 0,c;if(!py(r)&&!py(s))throw zLe("At least one callback required");return fy(o,n,e)?(c=fy(a,n,e),py(r)&&(c=r(c),fy(u,n,e,c))):py(s)&&(c=s(),fy(u,n,e,c)),c},"upsert")});var R1=N(function(jlt,i6){i6.exports=Math.scale||i(function(e,r,n,a,o){var u=+e,s=+r,c=+n,p=+a,h=+o;return u!=u||s!=s||c!=c||p!=p||h!=h?NaN:u===1/0||u===-1/0?u:(u-s)*(h-p)/(c-s)+p},"scale")});var yy=N(function(Nlt,f6){"use strict";var l6=Ye(),Fje=To(),Lje=Ae(),jje=Oa(),Nje=xe(),c6="Object Iterator",Dje=l6.set,Uje=l6.getterFor(c6);f6.exports=Fje(i(function(e,r){var n=Nje(e);Dje(this,{type:c6,mode:r,object:n,keys:jje(n),index:0})},"ObjectIterator"),"Object",i(function(){for(var e=Uje(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,{value:void 0,done:!0};var n=r[e.index++],a=e.object;if(!!Lje(a,n)){switch(e.mode){case"keys":return{value:n,done:!1};case"values":return{value:a[n],done:!1}}return{value:[n,a[n]],done:!1}}}},"next"))});var my=N(function(Dlt,h6){var Vje=ve(),nf=Pe(),Wje=be(),Kje=Wje("observable"),of=Vje.Observable,p6=of&&of.prototype;h6.exports=!nf(of)||!nf(of.from)||!nf(of.of)||!nf(p6.subscribe)||!nf(p6[Kje])});var _6=N(function(){"use strict";var Yje=D(),gy=ce(),af=Oe(),Xje=Io(),d6=de(),v6=Pe(),Jje=te(),Qje=Re(),Zje=Or(),by=It(),eNe=nt(),A1=Vn(),y6=Ii(),Bs=pS(),tNe=be(),m6=Ye(),rNe=my(),nNe=tNe("observable"),I1="Observable",g6="Subscription",b6="SubscriptionObserver",k1=m6.getterFor,q1=m6.set,iNe=k1(I1),w6=k1(g6),wy=k1(b6),O6=i(function(e){this.observer=Jje(e),this.cleanup=void 0,this.subscriptionObserver=void 0},"SubscriptionState");O6.prototype={type:g6,clean:i(function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(r){Bs(r)}}},"clean"),close:i(function(){if(!af){var e=this.facade,r=this.subscriptionObserver;e.closed=!0,r&&(r.closed=!0)}this.observer=void 0},"close"),isClosed:i(function(){return this.observer===void 0},"isClosed")};var x1=i(function(e,r){var n=q1(this,new O6(e)),a;af||(this.closed=!1);try{(a=by(e,"start"))&&gy(a,e,this)}catch(c){Bs(c)}if(!n.isClosed()){var o=n.subscriptionObserver=new C1(n);try{var u=r(o),s=u;u!=null&&(n.cleanup=v6(u.unsubscribe)?function(){s.unsubscribe()}:d6(u))}catch(c){o.error(c);return}n.isClosed()&&n.clean()}},"Subscription");x1.prototype=A1({},{unsubscribe:i(function(){var e=w6(this);e.isClosed()||(e.close(),e.clean())},"unsubscribe")});af&&y6(x1.prototype,"closed",{configurable:!0,get:i(function(){return w6(this).isClosed()},"closed")});var C1=i(function(e){q1(this,{type:b6,subscriptionState:e}),af||(this.closed=!1)},"SubscriptionObserver");C1.prototype=A1({},{next:i(function(e){var r=wy(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var a=by(n,"next");a&&gy(a,n,e)}catch(o){Bs(o)}}},"next"),error:i(function(e){var r=wy(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var a=by(n,"error");a?gy(a,n,e):Bs(e)}catch(o){Bs(o)}r.clean()}},"error"),complete:i(function(){var e=wy(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=by(r,"complete");n&&gy(n,r)}catch(a){Bs(a)}e.clean()}},"complete")});af&&y6(C1.prototype,"closed",{configurable:!0,get:i(function(){return wy(this).subscriptionState.isClosed()},"closed")});var S6=i(function(e){Zje(this,F1),q1(this,{type:I1,subscriber:d6(e)})},"Observable"),F1=S6.prototype;A1(F1,{subscribe:i(function(e){var r=arguments.length;return new x1(v6(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:Qje(e)?e:{},iNe(this).subscriber)},"subscribe")});eNe(F1,nNe,function(){return this});Yje({global:!0,constructor:!0,forced:rNe},{Observable:S6});Xje(I1)});var E6=N(function(){"use strict";var oNe=D(),aNe=me(),uNe=ce(),P6=te(),sNe=_n(),lNe=tn(),cNe=It(),fNe=we(),pNe=be(),hNe=my(),dNe=pNe("observable");oNe({target:"Observable",stat:!0,forced:hNe},{from:i(function(e){var r=sNe(this)?this:aNe("Observable"),n=cNe(P6(e),dNe);if(n){var a=P6(uNe(n,e));return a.constructor===r?a:new r(function(u){return a.subscribe(u)})}var o=lNe(e);return new r(function(u){fNe(o,function(s,c){if(u.next(s),u.closed)return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})},"from")})});var T6=N(function(){"use strict";var vNe=D(),R6=me(),yNe=_n(),mNe=my(),gNe=R6("Array");vNe({target:"Observable",stat:!0,forced:mNe},{of:i(function(){for(var e=yNe(this)?this:R6("Observable"),r=arguments.length,n=gNe(r),a=0;a<r;)n[a]=arguments[a++];return new e(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})},"of")})});var Qn=N(function(Hlt,q6){function L1(t){return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L1(t)}i(L1,"_typeof");Qd();Zv();var k6=me(),SNe=le(),_Ne=Oo(),A6=k6("Map"),PNe=k6("WeakMap"),ENe=SNe([].push),I6=_Ne("metadata"),j1=I6.store||(I6.store=new PNe),uf=i(function(e,r,n){var a=j1.get(e);if(!a){if(!n)return;j1.set(e,a=new A6)}var o=a.get(r);if(!o){if(!n)return;a.set(r,o=new A6)}return o},"getOrCreateMetadataMap"),RNe=i(function(e,r,n){var a=uf(r,n,!1);return a===void 0?!1:a.has(e)},"ordinaryHasOwnMetadata"),TNe=i(function(e,r,n){var a=uf(r,n,!1);return a===void 0?void 0:a.get(e)},"ordinaryGetOwnMetadata"),ANe=i(function(e,r,n,a){uf(n,a,!0).set(e,r)},"ordinaryDefineOwnMetadata"),INe=i(function(e,r){var n=uf(e,r,!1),a=[];return n&&n.forEach(function(o,u){ENe(a,u)}),a},"ordinaryOwnMetadataKeys"),kNe=i(function(e){return e===void 0||L1(e)=="symbol"?e:String(e)},"toMetadataKey");q6.exports={store:j1,getMap:uf,has:RNe,get:TNe,set:ANe,keys:INe,toKey:kNe}});var U1=N(function(Vlt,B6){"use strict";var _De=ce(),PDe=de(),EDe=te();B6.exports=i(function(){for(var e=EDe(this),r=PDe(e.add),n=0,a=arguments.length;n<a;n++)_De(r,e,arguments[n]);return e},"addAll")});var Ho=N(function(Wlt,$6){var NDe=ce();$6.exports=function(t){return NDe(Set.prototype.values,t)}});var a7=N(function(Klt,o7){var CMe=Sn(),FMe=le(),LMe=FMe("".slice);o7.exports=function(t){return LMe(CMe(t),0,3)==="Big"}});var z1=N(function(Ylt,l7){var u7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s7={};for(sf=0;sf<66;sf++)s7[u7.charAt(sf)]=sf;var sf;l7.exports={itoc:u7,ctoi:s7}});var Y1=N(function(Xlt,_7){_7.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var J1=N(function(Jlt,E7){var O5e=Kl(),X1=O5e("span").classList,P7=X1&&X1.constructor&&X1.constructor.prototype;E7.exports=P7===Object.prototype?void 0:P7});var T7=N(function(Qlt,R7){"use strict";var S5e=Ot().forEach,_5e=ka(),P5e=_5e("forEach");R7.exports=P5e?[].forEach:i(function(e){return S5e(this,e,arguments.length>1?arguments[1]:void 0)},"forEach")});var N7=N(function(Zlt,j7){var A5e=Fo();j7.exports=function(t){try{if(A5e)return Function('return require("'+t+'")')()}catch(e){}}});var M7=N(function(ect,U7){"use strict";var I5e=Oe(),k5e=se(),q5e=te(),x5e=wt(),D7=is(),Py=Error.prototype.toString,C5e=k5e(function(){if(I5e){var t=x5e(Object.defineProperty({},"name",{get:i(function(){return this===t},"get")}));if(Py.call(t)!=="true")return!0}return Py.call({message:1,name:2})!=="2: 1"||Py.call({})!=="Error"});U7.exports=C5e?i(function(){var e=q5e(this),r=D7(e.name,"Error"),n=D7(e.message);return r?n?r+": "+n:r:n},"toString"):Py});var rP=N(function(tct,B7){B7.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var qP=N(function(rct,v9){var VBe=se(),WBe=be(),KBe=rt(),YBe=WBe("iterator");v9.exports=!VBe(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,a){e.delete("b"),r+=a+n}),KBe&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[YBe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var P9=N(function(nct,_9){"use strict";var Wa=le(),xP=2147483647,Of=36,w9=1,LP=26,XBe=38,JBe=700,QBe=72,ZBe=128,e8e="-",t8e=/[^\0-\u007E]/,O9=/[.\u3002\uFF0E\uFF61]/g,y9="Overflow: input needs wider integers to process",CP=Of-w9,m9=RangeError,r8e=Wa(O9.exec),Hs=Math.floor,FP=String.fromCharCode,g9=Wa("".charCodeAt),S9=Wa([].join),Ko=Wa([].push),n8e=Wa("".replace),i8e=Wa("".split),o8e=Wa("".toLowerCase),a8e=i(function(e){for(var r=[],n=0,a=e.length;n<a;){var o=g9(e,n++);if(o>=55296&&o<=56319&&n<a){var u=g9(e,n++);(u&64512)==56320?Ko(r,((o&1023)<<10)+(u&1023)+65536):(Ko(r,o),n--)}else Ko(r,o)}return r},"ucs2decode"),b9=i(function(e){return e+22+75*(e<26)},"digitToBasic"),u8e=i(function(e,r,n){var a=0;for(e=n?Hs(e/JBe):e>>1,e+=Hs(e/r);e>CP*LP>>1;)e=Hs(e/CP),a+=Of;return Hs(a+(CP+1)*e/(e+XBe))},"adapt"),s8e=i(function(e){var r=[];e=a8e(e);var n=e.length,a=ZBe,o=0,u=QBe,s,c;for(s=0;s<e.length;s++)c=e[s],c<128&&Ko(r,FP(c));var p=r.length,h=p;for(p&&Ko(r,e8e);h<n;){var y=xP;for(s=0;s<e.length;s++)c=e[s],c>=a&&c<y&&(y=c);var m=h+1;if(y-a>Hs((xP-o)/m))throw m9(y9);for(o+=(y-a)*m,a=y,s=0;s<e.length;s++){if(c=e[s],c<a&&++o>xP)throw m9(y9);if(c==a){for(var w=o,_=Of;;){var R=_<=u?w9:_>=u+LP?LP:_-u;if(w<R)break;var T=w-R,E=Of-R;Ko(r,FP(b9(R+T%E))),w=Hs(T/E),_+=Of}Ko(r,FP(b9(w))),u=u8e(o,m,h==p),o=0,h++}}o++,a++}return S9(r,"")},"encode");_9.exports=function(t){var e=[],r=i8e(n8e(o8e(t),O9,"."),"."),n,a;for(n=0;n<r.length;n++)a=r[n],Ko(e,r8e(t8e,a)?"xn--"+s8e(a):a);return S9(e,".")}});var HP=N(function(ict,G9){"use strict";dc();var MP=D(),Ws=ve(),Ly=ce(),Zn=le(),l8e=Oe(),j9=qP(),N9=nt(),c8e=Vn(),f8e=gr(),p8e=To(),zP=Ye(),D9=Or(),jP=Pe(),h8e=Ae(),d8e=Xe(),v8e=Sn(),y8e=te(),U9=Re(),Nr=je(),m8e=wt(),E9=Cr(),BP=tn(),g8e=Hn(),Vs=Lo(),b8e=be(),w8e=Bd(),O8e=b8e("iterator"),Pf="URLSearchParams",M9=Pf+"Iterator",B9=zP.set,Tn=zP.getterFor(Pf),S8e=zP.getterFor(M9),_8e=Object.getOwnPropertyDescriptor,GP=i(function(e){if(!l8e)return Ws[e];var r=_8e(Ws,e);return r&&r.value},"safeGetBuiltIn"),R9=GP("fetch"),Ny=GP("Request"),Sf=GP("Headers"),NP=Ny&&Ny.prototype,T9=Sf&&Sf.prototype,P8e=Ws.RegExp,E8e=Ws.TypeError,$9=Ws.decodeURIComponent,R8e=Ws.encodeURIComponent,T8e=Zn("".charAt),A9=Zn([].join),Ka=Zn([].push),$P=Zn("".replace),A8e=Zn([].shift),I9=Zn([].splice),k9=Zn("".split),I8e=Zn("".slice),k8e=/\+/g,q9=Array(4),q8e=i(function(e){return q9[e-1]||(q9[e-1]=P8e("((?:%[\\da-f]{2}){"+e+"})","gi"))},"percentSequence"),x8e=i(function(e){try{return $9(e)}catch(r){return e}},"percentDecode"),x9=i(function(e){var r=$P(e,k8e," "),n=4;try{return $9(r)}catch(a){for(;n;)r=$P(r,q8e(n--),x8e);return r}},"deserialize"),C8e=/[!'()~]|%20/g,F8e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L8e=i(function(e){return F8e[e]},"replacer"),C9=i(function(e){return $P(R8e(e),C8e,L8e)},"serialize"),DP=p8e(i(function(e,r){B9(this,{type:M9,iterator:BP(Tn(e).entries),kind:r})},"Iterator"),"Iterator",i(function(){var e=S8e(this),r=e.kind,n=e.iterator.next(),a=n.value;return n.done||(n.value=r==="keys"?a.key:r==="values"?a.value:[a.key,a.value]),n},"next"),!0),z9=i(function(e){this.entries=[],this.url=null,e!==void 0&&(U9(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?T8e(e,0)==="?"?I8e(e,1):e:Nr(e)))},"URLSearchParamsState");z9.prototype={type:Pf,bindURL:i(function(e){this.url=e,this.update()},"bindURL"),parseObject:i(function(e){var r=g8e(e),n,a,o,u,s,c,p;if(r)for(n=BP(e,r),a=n.next;!(o=Ly(a,n)).done;){if(u=BP(y8e(o.value)),s=u.next,(c=Ly(s,u)).done||(p=Ly(s,u)).done||!Ly(s,u).done)throw E8e("Expected sequence with length 2");Ka(this.entries,{key:Nr(c.value),value:Nr(p.value)})}else for(var h in e)h8e(e,h)&&Ka(this.entries,{key:h,value:Nr(e[h])})},"parseObject"),parseQuery:i(function(e){if(e)for(var r=k9(e,"&"),n=0,a,o;n<r.length;)a=r[n++],a.length&&(o=k9(a,"="),Ka(this.entries,{key:x9(A8e(o)),value:x9(A9(o,"="))}))},"parseQuery"),serialize:i(function(){for(var e=this.entries,r=[],n=0,a;n<e.length;)a=e[n++],Ka(r,C9(a.key)+"="+C9(a.value));return A9(r,"&")},"serialize"),update:i(function(){this.entries.length=0,this.parseQuery(this.url.query)},"update"),updateURL:i(function(){this.url&&this.url.update()},"updateURL")};var Dy=i(function(){D9(this,_f);var e=arguments.length>0?arguments[0]:void 0;B9(this,new z9(e))},"URLSearchParams"),_f=Dy.prototype;c8e(_f,{append:i(function(e,r){Vs(arguments.length,2);var n=Tn(this);Ka(n.entries,{key:Nr(e),value:Nr(r)}),n.updateURL()},"append"),delete:i(function(e){Vs(arguments.length,1);for(var r=Tn(this),n=r.entries,a=Nr(e),o=0;o<n.length;)n[o].key===a?I9(n,o,1):o++;r.updateURL()},"_delete"),get:i(function(e){Vs(arguments.length,1);for(var r=Tn(this).entries,n=Nr(e),a=0;a<r.length;a++)if(r[a].key===n)return r[a].value;return null},"get"),getAll:i(function(e){Vs(arguments.length,1);for(var r=Tn(this).entries,n=Nr(e),a=[],o=0;o<r.length;o++)r[o].key===n&&Ka(a,r[o].value);return a},"getAll"),has:i(function(e){Vs(arguments.length,1);for(var r=Tn(this).entries,n=Nr(e),a=0;a<r.length;)if(r[a++].key===n)return!0;return!1},"has"),set:i(function(e,r){Vs(arguments.length,1);for(var n=Tn(this),a=n.entries,o=!1,u=Nr(e),s=Nr(r),c=0,p;c<a.length;c++)p=a[c],p.key===u&&(o?I9(a,c--,1):(o=!0,p.value=s));o||Ka(a,{key:u,value:s}),n.updateURL()},"set"),sort:i(function(){var e=Tn(this);w8e(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},"sort"),forEach:i(function(e){for(var r=Tn(this).entries,n=d8e(e,arguments.length>1?arguments[1]:void 0),a=0,o;a<r.length;)o=r[a++],n(o.value,o.key,this)},"forEach"),keys:i(function(){return new DP(this,"keys")},"keys"),values:i(function(){return new DP(this,"values")},"values"),entries:i(function(){return new DP(this,"entries")},"entries")},{enumerable:!0});N9(_f,O8e,_f.entries,{name:"entries"});N9(_f,"toString",i(function(){return Tn(this).serialize()},"toString"),{enumerable:!0});f8e(Dy,Pf);MP({global:!0,constructor:!0,forced:!j9},{URLSearchParams:Dy});!j9&&jP(Sf)&&(F9=Zn(T9.has),L9=Zn(T9.set),UP=i(function(e){if(U9(e)){var r=e.body,n;if(v8e(r)===Pf)return n=e.headers?new Sf(e.headers):new Sf,F9(n,"content-type")||L9(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),m8e(e,{body:E9(0,Nr(r)),headers:E9(0,n)})}return e},"wrapRequestOptions"),jP(R9)&&MP({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:i(function(e){return R9(e,arguments.length>1?UP(arguments[1]):{})},"fetch")}),jP(Ny)&&(jy=i(function(e){return D9(this,NP),new Ny(e,arguments.length>1?UP(arguments[1]):{})},"Request"),NP.constructor=jy,jy.prototype=NP,MP({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:jy})));var F9,L9,UP,jy;G9.exports={URLSearchParams:Dy,getState:Tn}});var c$=N(function(){"use strict";function iE(t){return iE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iE(t)}i(iE,"_typeof");KS();var j8e=D(),sE=Oe(),N8e=qP(),lE=ve(),H9=Xe(),un=le(),zy=nt(),rn=Ii(),D8e=Or(),oE=Ae(),cE=zO(),Ks=V0(),An=ts(),U8e=Ma().codeAt,M8e=P9(),Li=je(),B8e=gr(),$8e=Lo(),n$=HP(),i$=Ye(),z8e=i$.set,Gy=i$.getterFor("URL"),G8e=n$.URLSearchParams,H8e=n$.getState,Ef=lE.URL,aE=lE.TypeError,Hy=lE.parseInt,V8e=Math.floor,V9=Math.pow,an=un("".charAt),In=un(/./.exec),Tf=un([].join),W8e=un(1 .toString),K8e=un([].pop),Xs=un([].push),W9=un("".replace),Y8e=un([].shift),X8e=un("".split),If=un("".slice),Vy=un("".toLowerCase),J8e=un([].unshift),Q8e="Invalid authority",VP="Invalid scheme",Ya="Invalid host",K9="Invalid port",o$=/[a-z]/i,Z8e=/[\d+-.a-z]/i,uE=/\d/,e4e=/^0x/i,t4e=/^[0-7]+$/,r4e=/^\d+$/,a$=/^[\da-f]+$/i,n4e=/[\0\t\n\r #%/:<>?@[\\\]^|]/,i4e=/[\0\t\n\r #/:<>?@[\\\]^|]/,o4e=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,a4e=/[\t\n\r]/g,nn,u4e=i(function(e){var r=X8e(e,"."),n,a,o,u,s,c,p;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return e;for(a=[],o=0;o<n;o++){if(u=r[o],u=="")return e;if(s=10,u.length>1&&an(u,0)=="0"&&(s=In(e4e,u)?16:8,u=If(u,s==8?1:2)),u==="")c=0;else{if(!In(s==10?r4e:s==8?t4e:a$,u))return e;c=Hy(u,s)}Xs(a,c)}for(o=0;o<n;o++)if(c=a[o],o==n-1){if(c>=V9(256,5-n))return null}else if(c>255)return null;for(p=K8e(a),o=0;o<a.length;o++)p+=a[o]*V9(256,3-o);return p},"parseIPv4"),s4e=i(function(e){var r=[0,0,0,0,0,0,0,0],n=0,a=null,o=0,u,s,c,p,h,y,m,w=i(function(){return an(e,o)},"chr");if(w()==":"){if(an(e,1)!=":")return;o+=2,n++,a=n}for(;w();){if(n==8)return;if(w()==":"){if(a!==null)return;o++,n++,a=n;continue}for(u=s=0;s<4&&In(a$,w());)u=u*16+Hy(w(),16),o++,s++;if(w()=="."){if(s==0||(o-=s,n>6))return;for(c=0;w();){if(p=null,c>0)if(w()=="."&&c<4)o++;else return;if(!In(uE,w()))return;for(;In(uE,w());){if(h=Hy(w(),10),p===null)p=h;else{if(p==0)return;p=p*10+h}if(p>255)return;o++}r[n]=r[n]*256+p,c++,(c==2||c==4)&&n++}if(c!=4)return;break}else if(w()==":"){if(o++,!w())return}else if(w())return;r[n++]=u}if(a!==null)for(y=n-a,n=7;n!=0&&y>0;)m=r[n],r[n--]=r[a+y-1],r[a+--y]=m;else if(n!=8)return;return r},"parseIPv6"),l4e=i(function(e){for(var r=null,n=1,a=null,o=0,u=0;u<8;u++)e[u]!==0?(o>n&&(r=a,n=o),a=null,o=0):(a===null&&(a=u),++o);return o>n&&(r=a,n=o),r},"findLongestZeroSequence"),Rf=i(function(e){var r,n,a,o;if(typeof e=="number"){for(r=[],n=0;n<4;n++)J8e(r,e%256),e=V8e(e/256);return Tf(r,".")}else if(iE(e)=="object"){for(r="",a=l4e(e),n=0;n<8;n++)o&&e[n]===0||(o&&(o=!1),a===n?(r+=n?":":"::",o=!0):(r+=W8e(e[n],16),n<7&&(r+=":")));return"["+r+"]"}return e},"serializeHost"),$y={},u$=cE({},$y,{" ":1,'"':1,"<":1,">":1,"`":1}),s$=cE({},u$,{"#":1,"?":1,"{":1,"}":1}),WP=cE({},s$,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Yo=i(function(e,r){var n=U8e(e,0);return n>32&&n<127&&!oE(r,e)?e:encodeURIComponent(e)},"percentEncode"),Uy={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Af=i(function(e,r){var n;return e.length==2&&In(o$,an(e,0))&&((n=an(e,1))==":"||!r&&n=="|")},"isWindowsDriveLetter"),Y9=i(function(e){var r;return e.length>1&&Af(If(e,0,2))&&(e.length==2||(r=an(e,2))==="/"||r==="\\"||r==="?"||r==="#")},"startsWithWindowsDriveLetter"),c4e=i(function(e){return e==="."||Vy(e)==="%2e"},"isSingleDot"),f4e=i(function(e){return e=Vy(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},"isDoubleDot"),KP={},X9={},YP={},J9={},Q9={},XP={},Z9={},e$={},My={},By={},JP={},QP={},ZP={},eE={},t$={},tE={},Ys={},ei={},r$={},Xa={},Fi={},l$=i(function t(e,r,n){var a=Li(e),o,u,s;if(r){if(u=this.parse(a),u)throw aE(u);this.searchParams=null}else{if(n!==void 0&&(o=new t(n,!0)),u=this.parse(a,null,o),u)throw aE(u);s=H8e(new G8e),s.bindURL(this),this.searchParams=s}},"URLState");l$.prototype={type:"URL",parse:i(function(e,r,n){var a=this,o=r||KP,u=0,s="",c=!1,p=!1,h=!1,y,m,w,_;for(e=Li(e),r||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=!1,e=W9(e,o4e,"")),e=W9(e,a4e,""),y=Ks(e);u<=y.length;){switch(m=y[u],o){case KP:if(m&&In(o$,m))s+=Vy(m),o=X9;else{if(r)return VP;o=YP;continue}break;case X9:if(m&&(In(Z8e,m)||m=="+"||m=="-"||m=="."))s+=Vy(m);else if(m==":"){if(r&&(a.isSpecial()!=oE(Uy,s)||s=="file"&&(a.includesCredentials()||a.port!==null)||a.scheme=="file"&&!a.host))return;if(a.scheme=s,r){a.isSpecial()&&Uy[a.scheme]==a.port&&(a.port=null);return}s="",a.scheme=="file"?o=eE:a.isSpecial()&&n&&n.scheme==a.scheme?o=J9:a.isSpecial()?o=e$:y[u+1]=="/"?(o=Q9,u++):(a.cannotBeABaseURL=!0,Xs(a.path,""),o=r$)}else{if(r)return VP;s="",o=YP,u=0;continue}break;case YP:if(!n||n.cannotBeABaseURL&&m!="#")return VP;if(n.cannotBeABaseURL&&m=="#"){a.scheme=n.scheme,a.path=An(n.path),a.query=n.query,a.fragment="",a.cannotBeABaseURL=!0,o=Fi;break}o=n.scheme=="file"?eE:XP;continue;case J9:if(m=="/"&&y[u+1]=="/")o=My,u++;else{o=XP;continue}break;case Q9:if(m=="/"){o=By;break}else{o=ei;continue}case XP:if(a.scheme=n.scheme,m==nn)a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.query=n.query;else if(m=="/"||m=="\\"&&a.isSpecial())o=Z9;else if(m=="?")a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.query="",o=Xa;else if(m=="#")a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.query=n.query,a.fragment="",o=Fi;else{a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.path.length--,o=ei;continue}break;case Z9:if(a.isSpecial()&&(m=="/"||m=="\\"))o=My;else if(m=="/")o=By;else{a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,o=ei;continue}break;case e$:if(o=My,m!="/"||an(s,u+1)!="/")continue;u++;break;case My:if(m!="/"&&m!="\\"){o=By;continue}break;case By:if(m=="@"){c&&(s="%40"+s),c=!0,w=Ks(s);for(var R=0;R<w.length;R++){var T=w[R];if(T==":"&&!h){h=!0;continue}var E=Yo(T,WP);h?a.password+=E:a.username+=E}s=""}else if(m==nn||m=="/"||m=="?"||m=="#"||m=="\\"&&a.isSpecial()){if(c&&s=="")return Q8e;u-=Ks(s).length+1,s="",o=JP}else s+=m;break;case JP:case QP:if(r&&a.scheme=="file"){o=tE;continue}else if(m==":"&&!p){if(s=="")return Ya;if(_=a.parseHost(s),_)return _;if(s="",o=ZP,r==QP)return}else if(m==nn||m=="/"||m=="?"||m=="#"||m=="\\"&&a.isSpecial()){if(a.isSpecial()&&s=="")return Ya;if(r&&s==""&&(a.includesCredentials()||a.port!==null))return;if(_=a.parseHost(s),_)return _;if(s="",o=Ys,r)return;continue}else m=="["?p=!0:m=="]"&&(p=!1),s+=m;break;case ZP:if(In(uE,m))s+=m;else if(m==nn||m=="/"||m=="?"||m=="#"||m=="\\"&&a.isSpecial()||r){if(s!=""){var A=Hy(s,10);if(A>65535)return K9;a.port=a.isSpecial()&&A===Uy[a.scheme]?null:A,s=""}if(r)return;o=Ys;continue}else return K9;break;case eE:if(a.scheme="file",m=="/"||m=="\\")o=t$;else if(n&&n.scheme=="file")if(m==nn)a.host=n.host,a.path=An(n.path),a.query=n.query;else if(m=="?")a.host=n.host,a.path=An(n.path),a.query="",o=Xa;else if(m=="#")a.host=n.host,a.path=An(n.path),a.query=n.query,a.fragment="",o=Fi;else{Y9(Tf(An(y,u),""))||(a.host=n.host,a.path=An(n.path),a.shortenPath()),o=ei;continue}else{o=ei;continue}break;case t$:if(m=="/"||m=="\\"){o=tE;break}n&&n.scheme=="file"&&!Y9(Tf(An(y,u),""))&&(Af(n.path[0],!0)?Xs(a.path,n.path[0]):a.host=n.host),o=ei;continue;case tE:if(m==nn||m=="/"||m=="\\"||m=="?"||m=="#"){if(!r&&Af(s))o=ei;else if(s==""){if(a.host="",r)return;o=Ys}else{if(_=a.parseHost(s),_)return _;if(a.host=="localhost"&&(a.host=""),r)return;s="",o=Ys}continue}else s+=m;break;case Ys:if(a.isSpecial()){if(o=ei,m!="/"&&m!="\\")continue}else if(!r&&m=="?")a.query="",o=Xa;else if(!r&&m=="#")a.fragment="",o=Fi;else if(m!=nn&&(o=ei,m!="/"))continue;break;case ei:if(m==nn||m=="/"||m=="\\"&&a.isSpecial()||!r&&(m=="?"||m=="#")){if(f4e(s)?(a.shortenPath(),m!="/"&&!(m=="\\"&&a.isSpecial())&&Xs(a.path,"")):c4e(s)?m!="/"&&!(m=="\\"&&a.isSpecial())&&Xs(a.path,""):(a.scheme=="file"&&!a.path.length&&Af(s)&&(a.host&&(a.host=""),s=an(s,0)+":"),Xs(a.path,s)),s="",a.scheme=="file"&&(m==nn||m=="?"||m=="#"))for(;a.path.length>1&&a.path[0]==="";)Y8e(a.path);m=="?"?(a.query="",o=Xa):m=="#"&&(a.fragment="",o=Fi)}else s+=Yo(m,s$);break;case r$:m=="?"?(a.query="",o=Xa):m=="#"?(a.fragment="",o=Fi):m!=nn&&(a.path[0]+=Yo(m,$y));break;case Xa:!r&&m=="#"?(a.fragment="",o=Fi):m!=nn&&(m=="'"&&a.isSpecial()?a.query+="%27":m=="#"?a.query+="%23":a.query+=Yo(m,$y));break;case Fi:m!=nn&&(a.fragment+=Yo(m,u$));break}u++}},"parse"),parseHost:i(function(e){var r,n,a;if(an(e,0)=="["){if(an(e,e.length-1)!="]"||(r=s4e(If(e,1,-1)),!r))return Ya;this.host=r}else if(this.isSpecial()){if(e=M8e(e),In(n4e,e)||(r=u4e(e),r===null))return Ya;this.host=r}else{if(In(i4e,e))return Ya;for(r="",n=Ks(e),a=0;a<n.length;a++)r+=Yo(n[a],$y);this.host=r}},"parseHost"),cannotHaveUsernamePasswordPort:i(function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},"cannotHaveUsernamePasswordPort"),includesCredentials:i(function(){return this.username!=""||this.password!=""},"includesCredentials"),isSpecial:i(function(){return oE(Uy,this.scheme)},"isSpecial"),shortenPath:i(function(){var e=this.path,r=e.length;r&&(this.scheme!="file"||r!=1||!Af(e[0],!0))&&e.length--},"shortenPath"),serialize:i(function(){var e=this,r=e.scheme,n=e.username,a=e.password,o=e.host,u=e.port,s=e.path,c=e.query,p=e.fragment,h=r+":";return o!==null?(h+="//",e.includesCredentials()&&(h+=n+(a?":"+a:"")+"@"),h+=Rf(o),u!==null&&(h+=":"+u)):r=="file"&&(h+="//"),h+=e.cannotBeABaseURL?s[0]:s.length?"/"+Tf(s,"/"):"",c!==null&&(h+="?"+c),p!==null&&(h+="#"+p),h},"serialize"),setHref:i(function(e){var r=this.parse(e);if(r)throw aE(r);this.searchParams.update()},"setHref"),getOrigin:i(function(){var e=this.scheme,r=this.port;if(e=="blob")try{return new Js(e.path[0]).origin}catch(n){return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+Rf(this.host)+(r!==null?":"+r:"")},"getOrigin"),getProtocol:i(function(){return this.scheme+":"},"getProtocol"),setProtocol:i(function(e){this.parse(Li(e)+":",KP)},"setProtocol"),getUsername:i(function(){return this.username},"getUsername"),setUsername:i(function(e){var r=Ks(Li(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=Yo(r[n],WP)}},"setUsername"),getPassword:i(function(){return this.password},"getPassword"),setPassword:i(function(e){var r=Ks(Li(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=Yo(r[n],WP)}},"setPassword"),getHost:i(function(){var e=this.host,r=this.port;return e===null?"":r===null?Rf(e):Rf(e)+":"+r},"getHost"),setHost:i(function(e){this.cannotBeABaseURL||this.parse(e,JP)},"setHost"),getHostname:i(function(){var e=this.host;return e===null?"":Rf(e)},"getHostname"),setHostname:i(function(e){this.cannotBeABaseURL||this.parse(e,QP)},"setHostname"),getPort:i(function(){var e=this.port;return e===null?"":Li(e)},"getPort"),setPort:i(function(e){this.cannotHaveUsernamePasswordPort()||(e=Li(e),e==""?this.port=null:this.parse(e,ZP))},"setPort"),getPathname:i(function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Tf(e,"/"):""},"getPathname"),setPathname:i(function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ys))},"setPathname"),getSearch:i(function(){var e=this.query;return e?"?"+e:""},"getSearch"),setSearch:i(function(e){e=Li(e),e==""?this.query=null:(an(e,0)=="?"&&(e=If(e,1)),this.query="",this.parse(e,Xa)),this.searchParams.update()},"setSearch"),getSearchParams:i(function(){return this.searchParams.facade},"getSearchParams"),getHash:i(function(){var e=this.fragment;return e?"#"+e:""},"getHash"),setHash:i(function(e){if(e=Li(e),e==""){this.fragment=null;return}an(e,0)=="#"&&(e=If(e,1)),this.fragment="",this.parse(e,Fi)},"setHash"),update:i(function(){this.query=this.searchParams.serialize()||null},"update")};var Js=i(function(e){var r=D8e(this,ar),n=$8e(arguments.length,1)>1?arguments[1]:void 0,a=z8e(r,new l$(e,!1,n));sE||(r.href=a.serialize(),r.origin=a.getOrigin(),r.protocol=a.getProtocol(),r.username=a.getUsername(),r.password=a.getPassword(),r.host=a.getHost(),r.hostname=a.getHostname(),r.port=a.getPort(),r.pathname=a.getPathname(),r.search=a.getSearch(),r.searchParams=a.getSearchParams(),r.hash=a.getHash())},"URL"),ar=Js.prototype,on=i(function(e,r){return{get:i(function(){return Gy(this)[e]()},"get"),set:r&&function(n){return Gy(this)[r](n)},configurable:!0,enumerable:!0}},"accessorDescriptor");sE&&(rn(ar,"href",on("serialize","setHref")),rn(ar,"origin",on("getOrigin")),rn(ar,"protocol",on("getProtocol","setProtocol")),rn(ar,"username",on("getUsername","setUsername")),rn(ar,"password",on("getPassword","setPassword")),rn(ar,"host",on("getHost","setHost")),rn(ar,"hostname",on("getHostname","setHostname")),rn(ar,"port",on("getPort","setPort")),rn(ar,"pathname",on("getPathname","setPathname")),rn(ar,"search",on("getSearch","setSearch")),rn(ar,"searchParams",on("getSearchParams")),rn(ar,"hash",on("getHash","setHash")));zy(ar,"toJSON",i(function(){return Gy(this).serialize()},"toJSON"),{enumerable:!0});zy(ar,"toString",i(function(){return Gy(this).serialize()},"toString"),{enumerable:!0});Ef&&(rE=Ef.createObjectURL,nE=Ef.revokeObjectURL,rE&&zy(Js,"createObjectURL",H9(rE,Ef)),nE&&zy(Js,"revokeObjectURL",H9(nE,Ef)));var rE,nE;B8e(Js,"URL");j8e({global:!0,constructor:!0,forced:!N8e,sham:!sE},{URL:Js})});var P$=N(function(lct,Xy){function qf(t){return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}i(qf,"_typeof");var mE=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n,a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(P,q,L){return Object.defineProperty(P,q,{value:L,enumerable:!0,configurable:!0,writable:!0}),P[q]}i(c,"define");try{c({},"")}catch(P){c=i(function(L,O,I){return L[O]=I},"define")}function p(P,q,L,O){var I=q&&q.prototype instanceof T?q:T,j=Object.create(I.prototype),re=new v(O||[]);return j._invoke=Y(P,L,re),j}i(p,"wrap"),t.wrap=p;function h(P,q,L){try{return{type:"normal",arg:P.call(q,L)}}catch(O){return{type:"throw",arg:O}}}i(h,"tryCatch");var y="suspendedStart",m="suspendedYield",w="executing",_="completed",R={};function T(){}i(T,"Generator");function E(){}i(E,"GeneratorFunction");function A(){}i(A,"GeneratorFunctionPrototype");var C={};c(C,o,function(){return this});var U=Object.getPrototypeOf,G=U&&U(U(g([])));G&&G!==e&&r.call(G,o)&&(C=G);var M=A.prototype=T.prototype=Object.create(C);E.prototype=A,c(M,"constructor",A),c(A,"constructor",E),E.displayName=c(A,s,"GeneratorFunction");function z(P){["next","throw","return"].forEach(function(q){c(P,q,function(L){return this._invoke(q,L)})})}i(z,"defineIteratorMethods"),t.isGeneratorFunction=function(P){var q=typeof P=="function"&&P.constructor;return q?q===E||(q.displayName||q.name)==="GeneratorFunction":!1},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,A):(P.__proto__=A,c(P,s,"GeneratorFunction")),P.prototype=Object.create(M),P},t.awrap=function(P){return{__await:P}};function W(P,q){function L(j,re,ne,Q){var K=h(P[j],P,re);if(K.type==="throw")Q(K.arg);else{var Xt=K.arg,Ft=Xt.value;return Ft&&qf(Ft)==="object"&&r.call(Ft,"__await")?q.resolve(Ft.__await).then(function(Jt){L("next",Jt,ne,Q)},function(Jt){L("throw",Jt,ne,Q)}):q.resolve(Ft).then(function(Jt){Xt.value=Jt,ne(Xt)},function(Jt){return L("throw",Jt,ne,Q)})}}i(L,"invoke");var O;function I(j,re){function ne(){return new q(function(Q,K){L(j,re,Q,K)})}return i(ne,"callInvokeWithMethodAndArg"),O=O?O.then(ne,ne):ne()}i(I,"enqueue"),this._invoke=I}i(W,"AsyncIterator"),z(W.prototype),c(W.prototype,u,function(){return this}),t.AsyncIterator=W,t.async=function(P,q,L,O,I){I===void 0&&(I=Promise);var j=new W(p(P,q,L,O),I);return t.isGeneratorFunction(q)?j:j.next().then(function(re){return re.done?re.value:j.next()})};function Y(P,q,L){var O=y;return i(function(j,re){if(O===w)throw new Error("Generator is already running");if(O===_){if(j==="throw")throw re;return b()}for(L.method=j,L.arg=re;;){var ne=L.delegate;if(ne){var Q=f(ne,L);if(Q){if(Q===R)continue;return Q}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(O===y)throw O=_,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);O=w;var K=h(P,q,L);if(K.type==="normal"){if(O=L.done?_:m,K.arg===R)continue;return{value:K.arg,done:L.done}}else K.type==="throw"&&(O=_,L.method="throw",L.arg=K.arg)}},"invoke")}i(Y,"makeInvokeMethod");function f(P,q){var L=P.iterator[q.method];if(L===n){if(q.delegate=null,q.method==="throw"){if(P.iterator.return&&(q.method="return",q.arg=n,f(P,q),q.method==="throw"))return R;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var O=h(L,P.iterator,q.arg);if(O.type==="throw")return q.method="throw",q.arg=O.arg,q.delegate=null,R;var I=O.arg;if(!I)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,R;if(I.done)q[P.resultName]=I.value,q.next=P.nextLoc,q.method!=="return"&&(q.method="next",q.arg=n);else return I;return q.delegate=null,R}i(f,"maybeInvokeDelegate"),z(M),c(M,s,"Generator"),c(M,o,function(){return this}),c(M,"toString",function(){return"[object Generator]"});function l(P){var q={tryLoc:P[0]};1 in P&&(q.catchLoc=P[1]),2 in P&&(q.finallyLoc=P[2],q.afterLoc=P[3]),this.tryEntries.push(q)}i(l,"pushTryEntry");function d(P){var q=P.completion||{};q.type="normal",delete q.arg,P.completion=q}i(d,"resetTryEntry");function v(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(l,this),this.reset(!0)}i(v,"Context"),t.keys=function(P){var q=[];for(var L in P)q.push(L);return q.reverse(),i(function O(){for(;q.length;){var I=q.pop();if(I in P)return O.value=I,O.done=!1,O}return O.done=!0,O},"next")};function g(P){if(P){var q=P[o];if(q)return q.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var L=-1,O=i(function I(){for(;++L<P.length;)if(r.call(P,L))return I.value=P[L],I.done=!1,I;return I.value=n,I.done=!0,I},"next");return O.next=O}}return{next:b}}i(g,"values"),t.values=g;function b(){return{value:n,done:!0}}return i(b,"doneResult"),v.prototype={constructor:v,reset:i(function(q){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(d),!q)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},"reset"),stop:i(function(){this.done=!0;var q=this.tryEntries[0],L=q.completion;if(L.type==="throw")throw L.arg;return this.rval},"stop"),dispatchException:i(function(q){if(this.done)throw q;var L=this;function O(K,Xt){return re.type="throw",re.arg=q,L.next=K,Xt&&(L.method="next",L.arg=n),!!Xt}i(O,"handle");for(var I=this.tryEntries.length-1;I>=0;--I){var j=this.tryEntries[I],re=j.completion;if(j.tryLoc==="root")return O("end");if(j.tryLoc<=this.prev){var ne=r.call(j,"catchLoc"),Q=r.call(j,"finallyLoc");if(ne&&Q){if(this.prev<j.catchLoc)return O(j.catchLoc,!0);if(this.prev<j.finallyLoc)return O(j.finallyLoc)}else if(ne){if(this.prev<j.catchLoc)return O(j.catchLoc,!0)}else if(Q){if(this.prev<j.finallyLoc)return O(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},"dispatchException"),abrupt:i(function(q,L){for(var O=this.tryEntries.length-1;O>=0;--O){var I=this.tryEntries[O];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var j=I;break}}j&&(q==="break"||q==="continue")&&j.tryLoc<=L&&L<=j.finallyLoc&&(j=null);var re=j?j.completion:{};return re.type=q,re.arg=L,j?(this.method="next",this.next=j.finallyLoc,R):this.complete(re)},"abrupt"),complete:i(function(q,L){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&L&&(this.next=L),R},"complete"),finish:i(function(q){for(var L=this.tryEntries.length-1;L>=0;--L){var O=this.tryEntries[L];if(O.finallyLoc===q)return this.complete(O.completion,O.afterLoc),d(O),R}},"finish"),catch:i(function(q){for(var L=this.tryEntries.length-1;L>=0;--L){var O=this.tryEntries[L];if(O.tryLoc===q){var I=O.completion;if(I.type==="throw"){var j=I.arg;d(O)}return j}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(q,L,O){return this.delegate={iterator:g(q),resultName:L,nextLoc:O},this.method==="next"&&(this.arg=n),R},"delegateYield")},t}((typeof Xy=="undefined"?"undefined":qf(Xy))==="object"?Xy.exports:{});try{regeneratorRuntime=mE}catch(t){(typeof globalThis=="undefined"?"undefined":qf(globalThis))==="object"?globalThis.regeneratorRuntime=mE:Function("r","regeneratorRuntime = r")(mE)}});var bE=N(function(hct,I$){I$.exports=i(function(){var e={},r=e._fns={};e.emit=i(function(u,s,c,p,h,y,m){var w=n(u);w.length&&a(u,w,[s,c,p,h,y,m])},"emit"),e.on=i(function(u,s){r[u]||(r[u]=[]),r[u].push(s)},"on"),e.once=i(function(u,s){function c(){s.apply(this,arguments),e.off(u,c)}i(c,"one"),this.on(u,c)},"once"),e.off=i(function(u,s){var c=[];if(u&&s){var p=this._fns[u],h=0,y=p?p.length:0;for(h;h<y;h++)p[h]!==s&&c.push(p[h])}c.length?this._fns[u]=c:delete this._fns[u]},"off");function n(o){var u=r[o]?r[o]:[],s=o.indexOf(":"),c=s===-1?[o]:[o.substring(0,s),o.substring(s+1)],p=Object.keys(r),h=0,y=p.length;for(h;h<y;h++){var m=p[h];if(m==="*"&&(u=u.concat(r[m])),c.length===2&&c[0]===m){u=u.concat(r[m]);break}}return u}i(n,"getListeners");function a(o,u,s){var c=0,p=u.length;for(c;c<p&&u[c];c++)u[c].event=o,u[c].apply(u[c],s)}return i(a,"emitAll"),e},"createNamespaceEmitter")});var Cf=N(function(vct,C$){function Za(t){return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}i(Za,"_typeof");var x$="Expected a function",k$=0/0,Y4e="[object Symbol]",X4e=/^\s+|\s+$/g,J4e=/^[-+]0x[0-9a-f]+$/i,Q4e=/^0b[01]+$/i,Z4e=/^0o[0-7]+$/i,e6e=parseInt,t6e=(typeof global=="undefined"?"undefined":Za(global))=="object"&&global&&global.Object===Object&&global,r6e=(typeof self=="undefined"?"undefined":Za(self))=="object"&&self&&self.Object===Object&&self,n6e=t6e||r6e||Function("return this")(),i6e=Object.prototype,o6e=i6e.toString,a6e=Math.max,u6e=Math.min,wE=i(function(){return n6e.Date.now()},"now");function s6e(t,e,r){var n,a,o,u,s,c,p=0,h=!1,y=!1,m=!0;if(typeof t!="function")throw new TypeError(x$);e=q$(e)||0,Zy(r)&&(h=!!r.leading,y="maxWait"in r,o=y?a6e(q$(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function w(M){var z=n,W=a;return n=a=void 0,p=M,u=t.apply(W,z),u}i(w,"invokeFunc");function _(M){return p=M,s=setTimeout(E,e),h?w(M):u}i(_,"leadingEdge");function R(M){var z=M-c,W=M-p,Y=e-z;return y?u6e(Y,o-W):Y}i(R,"remainingWait");function T(M){var z=M-c,W=M-p;return c===void 0||z>=e||z<0||y&&W>=o}i(T,"shouldInvoke");function E(){var M=wE();if(T(M))return A(M);s=setTimeout(E,R(M))}i(E,"timerExpired");function A(M){return s=void 0,m&&n?w(M):(n=a=void 0,u)}i(A,"trailingEdge");function C(){s!==void 0&&clearTimeout(s),p=0,n=c=a=s=void 0}i(C,"cancel");function U(){return s===void 0?u:A(wE())}i(U,"flush");function G(){var M=wE(),z=T(M);if(n=arguments,a=this,c=M,z){if(s===void 0)return _(c);if(y)return s=setTimeout(E,e),w(c)}return s===void 0&&(s=setTimeout(E,e)),u}return i(G,"debounced"),G.cancel=C,G.flush=U,G}i(s6e,"debounce");function l6e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(x$);return Zy(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),s6e(t,e,{leading:n,maxWait:e,trailing:a})}i(l6e,"throttle");function Zy(t){var e=Za(t);return!!t&&(e=="object"||e=="function")}i(Zy,"isObject");function c6e(t){return!!t&&Za(t)=="object"}i(c6e,"isObjectLike");function f6e(t){return Za(t)=="symbol"||c6e(t)&&o6e.call(t)==Y4e}i(f6e,"isSymbol");function q$(t){if(typeof t=="number")return t;if(f6e(t))return k$;if(Zy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Zy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(X4e,"");var r=Q4e.test(t);return r||Z4e.test(t)?e6e(t.slice(2),r?2:8):J4e.test(t)?k$:+t}i(q$,"toNumber");C$.exports=l6e});var rm=N(function(Act,B$){function RE(t){return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(t)}i(RE,"_typeof");B$.exports=i(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got ".concat(RE(e)));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return"".concat((r?"-":"")+e," B");var a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,a));var o=n[a];return e>=10||e%1===0?"".concat((r?"-":"")+e.toFixed(0)," ").concat(o):"".concat((r?"-":"")+e.toFixed(1)," ").concat(o)},"prettierBytes")});var G$=N(function(Ict,z$){"use strict";function TE(t){return TE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(t)}i(TE,"_typeof");function $$(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}i($$,"WildcardMatcher");$$.prototype.match=function(t){var e=!0,r=this.parts,n,a=r.length,o;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(o=(t||"").split(this.separator),n=0;e&&n<a;n++)r[n]!=="*"&&(n<o.length?e=r[n]===o[n]:e=!1);e=e&&o}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(TE(t)=="object"){e={};for(var u in t)this.match(u)&&(e[u]=t[u])}return e};z$.exports=function(t,e,r){var n=new $$(t,r||/[\/\.]/);return typeof e!="undefined"?n.match(e):n}});var V$=N(function(kct,H$){var P6e=G$(),E6e=/[\/\+\.]/;H$.exports=function(t,e){function r(n){var a=P6e(n,t,E6e);return a&&a.length>=2}return i(r,"test"),e?r(e.split(";")[0]):r}});var Mr=N(function(Nft,_m){function Pm(t){return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}i(Pm,"_typeof");(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var a=arguments[n];if(!!a){var o=Pm(a);if(o==="string"||o==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var u=e.apply(null,a);u&&r.push(u)}}else if(o==="object")if(a.toString===Object.prototype.toString)for(var s in a)t.call(a,s)&&a[s]&&r.push(s);else r.push(a.toString())}}return r.join(" ")}i(e,"classNames"),typeof _m!="undefined"&&_m.exports?(e.default=e,_m.exports=e):typeof define=="function"&&Pm(define.amd)==="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var uV=N(function(sdt,aV){function pu(t){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}i(pu,"_typeof");var KGe="Expected a function",iV=0/0,YGe="[object Symbol]",XGe=/^\s+|\s+$/g,JGe=/^[-+]0x[0-9a-f]+$/i,QGe=/^0b[01]+$/i,ZGe=/^0o[0-7]+$/i,eHe=parseInt,tHe=(typeof global=="undefined"?"undefined":pu(global))=="object"&&global&&global.Object===Object&&global,rHe=(typeof self=="undefined"?"undefined":pu(self))=="object"&&self&&self.Object===Object&&self,nHe=tHe||rHe||Function("return this")(),iHe=Object.prototype,oHe=iHe.toString,aHe=Math.max,uHe=Math.min,gT=i(function(){return nHe.Date.now()},"now");function sHe(t,e,r){var n,a,o,u,s,c,p=0,h=!1,y=!1,m=!0;if(typeof t!="function")throw new TypeError(KGe);e=oV(e)||0,bT(r)&&(h=!!r.leading,y="maxWait"in r,o=y?aHe(oV(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function w(M){var z=n,W=a;return n=a=void 0,p=M,u=t.apply(W,z),u}i(w,"invokeFunc");function _(M){return p=M,s=setTimeout(E,e),h?w(M):u}i(_,"leadingEdge");function R(M){var z=M-c,W=M-p,Y=e-z;return y?uHe(Y,o-W):Y}i(R,"remainingWait");function T(M){var z=M-c,W=M-p;return c===void 0||z>=e||z<0||y&&W>=o}i(T,"shouldInvoke");function E(){var M=gT();if(T(M))return A(M);s=setTimeout(E,R(M))}i(E,"timerExpired");function A(M){return s=void 0,m&&n?w(M):(n=a=void 0,u)}i(A,"trailingEdge");function C(){s!==void 0&&clearTimeout(s),p=0,n=c=a=s=void 0}i(C,"cancel");function U(){return s===void 0?u:A(gT())}i(U,"flush");function G(){var M=gT(),z=T(M);if(n=arguments,a=this,c=M,z){if(s===void 0)return _(c);if(y)return s=setTimeout(E,e),w(c)}return s===void 0&&(s=setTimeout(E,e)),u}return i(G,"debounced"),G.cancel=C,G.flush=U,G}i(sHe,"debounce");function bT(t){var e=pu(t);return!!t&&(e=="object"||e=="function")}i(bT,"isObject");function lHe(t){return!!t&&pu(t)=="object"}i(lHe,"isObjectLike");function cHe(t){return pu(t)=="symbol"||lHe(t)&&oHe.call(t)==YGe}i(cHe,"isSymbol");function oV(t){if(typeof t=="number")return t;if(cHe(t))return iV;if(bT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(XGe,"");var r=QGe.test(t);return r||ZGe.test(t)?eHe(t.slice(2),r?2:8):JGe.test(t)?iV:+t}i(oV,"toNumber");aV.exports=sHe});var cV=N(function(hdt,lV){lV.exports=i(function(e,r){if(e===r)return!0;for(var n in e)if(!(n in r))return!1;for(var n in r)if(e[n]!==r[n])return!1;return!0},"isShallowEqual")});var hV=N(function(Adt,pV){function ET(t){return ET=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(t)}i(ET,"_typeof");pV.exports=i(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+ET(e));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return(r?"-":"")+e+" B";var a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,a));var o=n[a];return e>=10||e%1===0?(r?"-":"")+e.toFixed(0)+" "+o:(r?"-":"")+e.toFixed(1)+" "+o},"prettierBytes")});var fW=N(function(_g,aA){function oA(t){return oA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oA(t)}i(oA,"_typeof2");(function(t,e){(typeof _g=="undefined"?"undefined":oA(_g))==="object"&&typeof aA!="undefined"?aA.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Cropper=e())})(_g,function(){"use strict";function t(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=i(function(F){return typeof F},"_typeof"):t=i(function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},"_typeof"),t(B)}i(t,"_typeof");function e(B,k){if(!(B instanceof k))throw new TypeError("Cannot call a class as a function")}i(e,"_classCallCheck");function r(B,k){for(var F=0;F<k.length;F++){var x=k[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(B,x.key,x)}}i(r,"_defineProperties");function n(B,k,F){return k&&r(B.prototype,k),F&&r(B,F),B}i(n,"_createClass");function a(B,k,F){return k in B?Object.defineProperty(B,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):B[k]=F,B}i(a,"_defineProperty");function o(B,k){var F=Object.keys(B);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(B);k&&(x=x.filter(function(H){return Object.getOwnPropertyDescriptor(B,H).enumerable})),F.push.apply(F,x)}return F}i(o,"ownKeys");function u(B){for(var k=1;k<arguments.length;k++){var F=arguments[k]!=null?arguments[k]:{};k%2?o(Object(F),!0).forEach(function(x){a(B,x,F[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function(x){Object.defineProperty(B,x,Object.getOwnPropertyDescriptor(F,x))})}return B}i(u,"_objectSpread2");function s(B){return c(B)||p(B)||h(B)||m()}i(s,"_toConsumableArray");function c(B){if(Array.isArray(B))return y(B)}i(c,"_arrayWithoutHoles");function p(B){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(B))return Array.from(B)}i(p,"_iterableToArray");function h(B,k){if(!!B){if(typeof B=="string")return y(B,k);var F=Object.prototype.toString.call(B).slice(8,-1);if(F==="Object"&&B.constructor&&(F=B.constructor.name),F==="Map"||F==="Set")return Array.from(B);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return y(B,k)}}i(h,"_unsupportedIterableToArray");function y(B,k){(k==null||k>B.length)&&(k=B.length);for(var F=0,x=new Array(k);F<k;F++)x[F]=B[F];return x}i(y,"_arrayLikeToArray");function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(m,"_nonIterableSpread");var w=typeof window!="undefined"&&typeof window.document!="undefined",_=w?window:{},R=w&&_.document.documentElement?"ontouchstart"in _.document.documentElement:!1,T=w?"PointerEvent"in _:!1,E="cropper",A="all",C="crop",U="move",G="zoom",M="e",z="w",W="s",Y="n",f="ne",l="nw",d="se",v="sw",g="".concat(E,"-crop"),b="".concat(E,"-disabled"),P="".concat(E,"-hidden"),q="".concat(E,"-hide"),L="".concat(E,"-invisible"),O="".concat(E,"-modal"),I="".concat(E,"-move"),j="".concat(E,"Action"),re="".concat(E,"Preview"),ne="crop",Q="move",K="none",Xt="crop",Ft="cropend",Jt="cropmove",Gu="cropstart",$l="dblclick",Xh=R?"touchstart":"mousedown",n2=R?"touchmove":"mousemove",hw=R?"touchend touchcancel":"mouseup",i2=T?"pointerdown":Xh,o2=T?"pointermove":n2,a2=T?"pointerup pointercancel":hw,u2="ready",s2="resize",l2="wheel",dw="zoom",c2="image/jpeg",ZQ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,eZ=/^data:/,tZ=/^data:image\/jpeg;base64,/,rZ=/^img|canvas$/i,f2={viewMode:0,dragMode:ne,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},nZ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',iZ=Number.isNaN||_.isNaN;function Fe(B){return typeof B=="number"&&!iZ(B)}i(Fe,"isNumber");var p2=i(function(k){return k>0&&k<1/0},"isPositiveNumber");function vw(B){return typeof B=="undefined"}i(vw,"isUndefined");function pa(B){return t(B)==="object"&&B!==null}i(pa,"isObject");var oZ=Object.prototype.hasOwnProperty;function Hu(B){if(!pa(B))return!1;try{var k=B.constructor,F=k.prototype;return k&&F&&oZ.call(F,"isPrototypeOf")}catch(x){return!1}}i(Hu,"isPlainObject");function vr(B){return typeof B=="function"}i(vr,"isFunction");var aZ=Array.prototype.slice;function h2(B){return Array.from?Array.from(B):aZ.call(B)}i(h2,"toArray");function yt(B,k){return B&&vr(k)&&(Array.isArray(B)||Fe(B.length)?h2(B).forEach(function(F,x){k.call(B,F,x,B)}):pa(B)&&Object.keys(B).forEach(function(F){k.call(B,B[F],F,B)})),B}i(yt,"forEach");var et=Object.assign||i(function(k){for(var F=arguments.length,x=new Array(F>1?F-1:0),H=1;H<F;H++)x[H-1]=arguments[H];return pa(k)&&x.length>0&&x.forEach(function($){pa($)&&Object.keys($).forEach(function(V){k[V]=$[V]})}),k},"assign"),uZ=/\.\d*(?:0|9){12}\d*$/;function Vu(B){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return uZ.test(B)?Math.round(B*k)/k:B}i(Vu,"normalizeDecimalNumber");var sZ=/^width|height|left|top|marginLeft|marginTop$/;function vo(B,k){var F=B.style;yt(k,function(x,H){sZ.test(H)&&Fe(x)&&(x="".concat(x,"px")),F[H]=x})}i(vo,"setStyle");function lZ(B,k){return B.classList?B.classList.contains(k):B.className.indexOf(k)>-1}i(lZ,"hasClass");function Lt(B,k){if(!!k){if(Fe(B.length)){yt(B,function(x){Lt(x,k)});return}if(B.classList){B.classList.add(k);return}var F=B.className.trim();F?F.indexOf(k)<0&&(B.className="".concat(F," ").concat(k)):B.className=k}}i(Lt,"addClass");function Un(B,k){if(!!k){if(Fe(B.length)){yt(B,function(F){Un(F,k)});return}if(B.classList){B.classList.remove(k);return}B.className.indexOf(k)>=0&&(B.className=B.className.replace(k,""))}}i(Un,"removeClass");function Wu(B,k,F){if(!!k){if(Fe(B.length)){yt(B,function(x){Wu(x,k,F)});return}F?Lt(B,k):Un(B,k)}}i(Wu,"toggleClass");var cZ=/([a-z\d])([A-Z])/g;function yw(B){return B.replace(cZ,"$1-$2").toLowerCase()}i(yw,"toParamCase");function mw(B,k){return pa(B[k])?B[k]:B.dataset?B.dataset[k]:B.getAttribute("data-".concat(yw(k)))}i(mw,"getData");function zl(B,k,F){pa(F)?B[k]=F:B.dataset?B.dataset[k]=F:B.setAttribute("data-".concat(yw(k)),F)}i(zl,"setData");function fZ(B,k){if(pa(B[k]))try{delete B[k]}catch(F){B[k]=void 0}else if(B.dataset)try{delete B.dataset[k]}catch(F){B.dataset[k]=void 0}else B.removeAttribute("data-".concat(yw(k)))}i(fZ,"removeData");var d2=/\s\s*/,v2=function(){var B=!1;if(w){var k=!1,F=i(function(){},"listener"),x=Object.defineProperty({},"once",{get:i(function(){return B=!0,k},"get"),set:i(function($){k=$},"set")});_.addEventListener("test",F,x),_.removeEventListener("test",F,x)}return B}();function bn(B,k,F){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=F;k.trim().split(d2).forEach(function($){if(!v2){var V=B.listeners;V&&V[$]&&V[$][F]&&(H=V[$][F],delete V[$][F],Object.keys(V[$]).length===0&&delete V[$],Object.keys(V).length===0&&delete B.listeners)}B.removeEventListener($,H,x)})}i(bn,"removeListener");function Qr(B,k,F){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=F;k.trim().split(d2).forEach(function($){if(x.once&&!v2){var V=B.listeners,X=V===void 0?{}:V;H=i(function(){delete X[$][F],B.removeEventListener($,H,x);for(var ee=arguments.length,Z=new Array(ee),J=0;J<ee;J++)Z[J]=arguments[J];F.apply(B,Z)},"handler"),X[$]||(X[$]={}),X[$][F]&&B.removeEventListener($,X[$][F],x),X[$][F]=H,B.listeners=X}B.addEventListener($,H,x)})}i(Qr,"addListener");function Ku(B,k,F){var x;return vr(Event)&&vr(CustomEvent)?x=new CustomEvent(k,{detail:F,bubbles:!0,cancelable:!0}):(x=document.createEvent("CustomEvent"),x.initCustomEvent(k,!0,!0,F)),B.dispatchEvent(x)}i(Ku,"dispatchEvent");function y2(B){var k=B.getBoundingClientRect();return{left:k.left+(window.pageXOffset-document.documentElement.clientLeft),top:k.top+(window.pageYOffset-document.documentElement.clientTop)}}i(y2,"getOffset");var gw=_.location,pZ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function m2(B){var k=B.match(pZ);return k!==null&&(k[1]!==gw.protocol||k[2]!==gw.hostname||k[3]!==gw.port)}i(m2,"isCrossOriginURL");function g2(B){var k="timestamp=".concat(new Date().getTime());return B+(B.indexOf("?")===-1?"?":"&")+k}i(g2,"addTimestamp");function Gl(B){var k=B.rotate,F=B.scaleX,x=B.scaleY,H=B.translateX,$=B.translateY,V=[];Fe(H)&&H!==0&&V.push("translateX(".concat(H,"px)")),Fe($)&&$!==0&&V.push("translateY(".concat($,"px)")),Fe(k)&&k!==0&&V.push("rotate(".concat(k,"deg)")),Fe(F)&&F!==1&&V.push("scaleX(".concat(F,")")),Fe(x)&&x!==1&&V.push("scaleY(".concat(x,")"));var X=V.length?V.join(" "):"none";return{WebkitTransform:X,msTransform:X,transform:X}}i(Gl,"getTransforms");function hZ(B){var k=u({},B),F=[];return yt(B,function(x,H){delete k[H],yt(k,function($){var V=Math.abs(x.startX-$.startX),X=Math.abs(x.startY-$.startY),oe=Math.abs(x.endX-$.endX),ee=Math.abs(x.endY-$.endY),Z=Math.sqrt(V*V+X*X),J=Math.sqrt(oe*oe+ee*ee),ie=(J-Z)/Z;F.push(ie)})}),F.sort(function(x,H){return Math.abs(x)<Math.abs(H)}),F[0]}i(hZ,"getMaxZoomRatio");function Jh(B,k){var F=B.pageX,x=B.pageY,H={endX:F,endY:x};return k?H:u({startX:F,startY:x},H)}i(Jh,"getPointer");function dZ(B){var k=0,F=0,x=0;return yt(B,function(H){var $=H.startX,V=H.startY;k+=$,F+=V,x+=1}),k/=x,F/=x,{pageX:k,pageY:F}}i(dZ,"getPointersCenter");function yo(B){var k=B.aspectRatio,F=B.height,x=B.width,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",$=p2(x),V=p2(F);if($&&V){var X=F*k;H==="contain"&&X>x||H==="cover"&&X<x?F=x/k:x=F*k}else $?F=x/k:V&&(x=F*k);return{width:x,height:F}}i(yo,"getAdjustedSizes");function vZ(B){var k=B.width,F=B.height,x=B.degree;if(x=Math.abs(x)%180,x===90)return{width:F,height:k};var H=x%90*Math.PI/180,$=Math.sin(H),V=Math.cos(H),X=k*V+F*$,oe=k*$+F*V;return x>90?{width:oe,height:X}:{width:X,height:oe}}i(vZ,"getRotatedSizes");function yZ(B,k,F,x){var H=k.aspectRatio,$=k.naturalWidth,V=k.naturalHeight,X=k.rotate,oe=X===void 0?0:X,ee=k.scaleX,Z=ee===void 0?1:ee,J=k.scaleY,ie=J===void 0?1:J,Ue=F.aspectRatio,Ne=F.naturalWidth,tt=F.naturalHeight,ze=x.fillColor,Tt=ze===void 0?"transparent":ze,jt=x.imageSmoothingEnabled,mt=jt===void 0?!0:jt,gi=x.imageSmoothingQuality,xr=gi===void 0?"low":gi,ue=x.maxWidth,Ge=ue===void 0?1/0:ue,At=x.maxHeight,Zr=At===void 0?1/0:At,bi=x.minWidth,ha=bi===void 0?0:bi,da=x.minHeight,mo=da===void 0?0:da,Mn=document.createElement("canvas"),yr=Mn.getContext("2d"),va=yo({aspectRatio:Ue,width:Ge,height:Zr}),Qh=yo({aspectRatio:Ue,width:ha,height:mo},"cover"),bw=Math.min(va.width,Math.max(Qh.width,Ne)),ww=Math.min(va.height,Math.max(Qh.height,tt)),O2=yo({aspectRatio:H,width:Ge,height:Zr}),S2=yo({aspectRatio:H,width:ha,height:mo},"cover"),_2=Math.min(O2.width,Math.max(S2.width,$)),P2=Math.min(O2.height,Math.max(S2.height,V)),kZ=[-_2/2,-P2/2,_2,P2];return Mn.width=Vu(bw),Mn.height=Vu(ww),yr.fillStyle=Tt,yr.fillRect(0,0,bw,ww),yr.save(),yr.translate(bw/2,ww/2),yr.rotate(oe*Math.PI/180),yr.scale(Z,ie),yr.imageSmoothingEnabled=mt,yr.imageSmoothingQuality=xr,yr.drawImage.apply(yr,[B].concat(s(kZ.map(function(qZ){return Math.floor(Vu(qZ))})))),yr.restore(),Mn}i(yZ,"getSourceCanvas");var b2=String.fromCharCode;function mZ(B,k,F){var x="";F+=k;for(var H=k;H<F;H+=1)x+=b2(B.getUint8(H));return x}i(mZ,"getStringFromCharCode");var gZ=/^data:.*,/;function bZ(B){var k=B.replace(gZ,""),F=atob(k),x=new ArrayBuffer(F.length),H=new Uint8Array(x);return yt(H,function($,V){H[V]=F.charCodeAt(V)}),x}i(bZ,"dataURLToArrayBuffer");function wZ(B,k){for(var F=[],x=8192,H=new Uint8Array(B);H.length>0;)F.push(b2.apply(null,h2(H.subarray(0,x)))),H=H.subarray(x);return"data:".concat(k,";base64,").concat(btoa(F.join("")))}i(wZ,"arrayBufferToDataURL");function OZ(B){var k=new DataView(B),F;try{var x,H,$;if(k.getUint8(0)===255&&k.getUint8(1)===216)for(var V=k.byteLength,X=2;X+1<V;){if(k.getUint8(X)===255&&k.getUint8(X+1)===225){H=X;break}X+=1}if(H){var oe=H+4,ee=H+10;if(mZ(k,oe,4)==="Exif"){var Z=k.getUint16(ee);if(x=Z===18761,(x||Z===19789)&&k.getUint16(ee+2,x)===42){var J=k.getUint32(ee+4,x);J>=8&&($=ee+J)}}}if($){var ie=k.getUint16($,x),Ue,Ne;for(Ne=0;Ne<ie;Ne+=1)if(Ue=$+Ne*12+2,k.getUint16(Ue,x)===274){Ue+=8,F=k.getUint16(Ue,x),k.setUint16(Ue,1,x);break}}}catch(tt){F=1}return F}i(OZ,"resetAndGetOrientation");function SZ(B){var k=0,F=1,x=1;switch(B){case 2:F=-1;break;case 3:k=-180;break;case 4:x=-1;break;case 5:k=90,x=-1;break;case 6:k=90;break;case 7:k=90,F=-1;break;case 8:k=-90;break}return{rotate:k,scaleX:F,scaleY:x}}i(SZ,"parseOrientation");var _Z={render:i(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"render"),initContainer:i(function(){var k=this.element,F=this.options,x=this.container,H=this.cropper;Lt(H,P),Un(k,P);var $={width:Math.max(x.offsetWidth,Number(F.minContainerWidth)||200),height:Math.max(x.offsetHeight,Number(F.minContainerHeight)||100)};this.containerData=$,vo(H,{width:$.width,height:$.height}),Lt(k,P),Un(H,P)},"initContainer"),initCanvas:i(function(){var k=this.containerData,F=this.imageData,x=this.options.viewMode,H=Math.abs(F.rotate)%180===90,$=H?F.naturalHeight:F.naturalWidth,V=H?F.naturalWidth:F.naturalHeight,X=$/V,oe=k.width,ee=k.height;k.height*X>k.width?x===3?oe=k.height*X:ee=k.width/X:x===3?ee=k.width/X:oe=k.height*X;var Z={aspectRatio:X,naturalWidth:$,naturalHeight:V,width:oe,height:ee};Z.left=(k.width-oe)/2,Z.top=(k.height-ee)/2,Z.oldLeft=Z.left,Z.oldTop=Z.top,this.canvasData=Z,this.limited=x===1||x===2,this.limitCanvas(!0,!0),this.initialImageData=et({},F),this.initialCanvasData=et({},Z)},"initCanvas"),limitCanvas:i(function(k,F){var x=this.options,H=this.containerData,$=this.canvasData,V=this.cropBoxData,X=x.viewMode,oe=$.aspectRatio,ee=this.cropped&&V;if(k){var Z=Number(x.minCanvasWidth)||0,J=Number(x.minCanvasHeight)||0;X>1?(Z=Math.max(Z,H.width),J=Math.max(J,H.height),X===3&&(J*oe>Z?Z=J*oe:J=Z/oe)):X>0&&(Z?Z=Math.max(Z,ee?V.width:0):J?J=Math.max(J,ee?V.height:0):ee&&(Z=V.width,J=V.height,J*oe>Z?Z=J*oe:J=Z/oe));var ie=yo({aspectRatio:oe,width:Z,height:J});Z=ie.width,J=ie.height,$.minWidth=Z,$.minHeight=J,$.maxWidth=1/0,$.maxHeight=1/0}if(F)if(X>(ee?0:1)){var Ue=H.width-$.width,Ne=H.height-$.height;$.minLeft=Math.min(0,Ue),$.minTop=Math.min(0,Ne),$.maxLeft=Math.max(0,Ue),$.maxTop=Math.max(0,Ne),ee&&this.limited&&($.minLeft=Math.min(V.left,V.left+(V.width-$.width)),$.minTop=Math.min(V.top,V.top+(V.height-$.height)),$.maxLeft=V.left,$.maxTop=V.top,X===2&&($.width>=H.width&&($.minLeft=Math.min(0,Ue),$.maxLeft=Math.max(0,Ue)),$.height>=H.height&&($.minTop=Math.min(0,Ne),$.maxTop=Math.max(0,Ne))))}else $.minLeft=-$.width,$.minTop=-$.height,$.maxLeft=H.width,$.maxTop=H.height},"limitCanvas"),renderCanvas:i(function(k,F){var x=this.canvasData,H=this.imageData;if(F){var $=vZ({width:H.naturalWidth*Math.abs(H.scaleX||1),height:H.naturalHeight*Math.abs(H.scaleY||1),degree:H.rotate||0}),V=$.width,X=$.height,oe=x.width*(V/x.naturalWidth),ee=x.height*(X/x.naturalHeight);x.left-=(oe-x.width)/2,x.top-=(ee-x.height)/2,x.width=oe,x.height=ee,x.aspectRatio=V/X,x.naturalWidth=V,x.naturalHeight=X,this.limitCanvas(!0,!1)}(x.width>x.maxWidth||x.width<x.minWidth)&&(x.left=x.oldLeft),(x.height>x.maxHeight||x.height<x.minHeight)&&(x.top=x.oldTop),x.width=Math.min(Math.max(x.width,x.minWidth),x.maxWidth),x.height=Math.min(Math.max(x.height,x.minHeight),x.maxHeight),this.limitCanvas(!1,!0),x.left=Math.min(Math.max(x.left,x.minLeft),x.maxLeft),x.top=Math.min(Math.max(x.top,x.minTop),x.maxTop),x.oldLeft=x.left,x.oldTop=x.top,vo(this.canvas,et({width:x.width,height:x.height},Gl({translateX:x.left,translateY:x.top}))),this.renderImage(k),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderCanvas"),renderImage:i(function(k){var F=this.canvasData,x=this.imageData,H=x.naturalWidth*(F.width/F.naturalWidth),$=x.naturalHeight*(F.height/F.naturalHeight);et(x,{width:H,height:$,left:(F.width-H)/2,top:(F.height-$)/2}),vo(this.image,et({width:x.width,height:x.height},Gl(et({translateX:x.left,translateY:x.top},x)))),k&&this.output()},"renderImage"),initCropBox:i(function(){var k=this.options,F=this.canvasData,x=k.aspectRatio||k.initialAspectRatio,H=Number(k.autoCropArea)||.8,$={width:F.width,height:F.height};x&&(F.height*x>F.width?$.height=$.width/x:$.width=$.height*x),this.cropBoxData=$,this.limitCropBox(!0,!0),$.width=Math.min(Math.max($.width,$.minWidth),$.maxWidth),$.height=Math.min(Math.max($.height,$.minHeight),$.maxHeight),$.width=Math.max($.minWidth,$.width*H),$.height=Math.max($.minHeight,$.height*H),$.left=F.left+(F.width-$.width)/2,$.top=F.top+(F.height-$.height)/2,$.oldLeft=$.left,$.oldTop=$.top,this.initialCropBoxData=et({},$)},"initCropBox"),limitCropBox:i(function(k,F){var x=this.options,H=this.containerData,$=this.canvasData,V=this.cropBoxData,X=this.limited,oe=x.aspectRatio;if(k){var ee=Number(x.minCropBoxWidth)||0,Z=Number(x.minCropBoxHeight)||0,J=X?Math.min(H.width,$.width,$.width+$.left,H.width-$.left):H.width,ie=X?Math.min(H.height,$.height,$.height+$.top,H.height-$.top):H.height;ee=Math.min(ee,H.width),Z=Math.min(Z,H.height),oe&&(ee&&Z?Z*oe>ee?Z=ee/oe:ee=Z*oe:ee?Z=ee/oe:Z&&(ee=Z*oe),ie*oe>J?ie=J/oe:J=ie*oe),V.minWidth=Math.min(ee,J),V.minHeight=Math.min(Z,ie),V.maxWidth=J,V.maxHeight=ie}F&&(X?(V.minLeft=Math.max(0,$.left),V.minTop=Math.max(0,$.top),V.maxLeft=Math.min(H.width,$.left+$.width)-V.width,V.maxTop=Math.min(H.height,$.top+$.height)-V.height):(V.minLeft=0,V.minTop=0,V.maxLeft=H.width-V.width,V.maxTop=H.height-V.height))},"limitCropBox"),renderCropBox:i(function(){var k=this.options,F=this.containerData,x=this.cropBoxData;(x.width>x.maxWidth||x.width<x.minWidth)&&(x.left=x.oldLeft),(x.height>x.maxHeight||x.height<x.minHeight)&&(x.top=x.oldTop),x.width=Math.min(Math.max(x.width,x.minWidth),x.maxWidth),x.height=Math.min(Math.max(x.height,x.minHeight),x.maxHeight),this.limitCropBox(!1,!0),x.left=Math.min(Math.max(x.left,x.minLeft),x.maxLeft),x.top=Math.min(Math.max(x.top,x.minTop),x.maxTop),x.oldLeft=x.left,x.oldTop=x.top,k.movable&&k.cropBoxMovable&&zl(this.face,j,x.width>=F.width&&x.height>=F.height?U:A),vo(this.cropBox,et({width:x.width,height:x.height},Gl({translateX:x.left,translateY:x.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"renderCropBox"),output:i(function(){this.preview(),Ku(this.element,Xt,this.getData())},"output")},PZ={initPreview:i(function(){var k=this.element,F=this.crossOrigin,x=this.options.preview,H=F?this.crossOriginUrl:this.url,$=k.alt||"The image to preview",V=document.createElement("img");if(F&&(V.crossOrigin=F),V.src=H,V.alt=$,this.viewBox.appendChild(V),this.viewBoxImage=V,!!x){var X=x;typeof x=="string"?X=k.ownerDocument.querySelectorAll(x):x.querySelector&&(X=[x]),this.previews=X,yt(X,function(oe){var ee=document.createElement("img");zl(oe,re,{width:oe.offsetWidth,height:oe.offsetHeight,html:oe.innerHTML}),F&&(ee.crossOrigin=F),ee.src=H,ee.alt=$,ee.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',oe.innerHTML="",oe.appendChild(ee)})}},"initPreview"),resetPreview:i(function(){yt(this.previews,function(k){var F=mw(k,re);vo(k,{width:F.width,height:F.height}),k.innerHTML=F.html,fZ(k,re)})},"resetPreview"),preview:i(function(){var k=this.imageData,F=this.canvasData,x=this.cropBoxData,H=x.width,$=x.height,V=k.width,X=k.height,oe=x.left-F.left-k.left,ee=x.top-F.top-k.top;!this.cropped||this.disabled||(vo(this.viewBoxImage,et({width:V,height:X},Gl(et({translateX:-oe,translateY:-ee},k)))),yt(this.previews,function(Z){var J=mw(Z,re),ie=J.width,Ue=J.height,Ne=ie,tt=Ue,ze=1;H&&(ze=ie/H,tt=$*ze),$&&tt>Ue&&(ze=Ue/$,Ne=H*ze,tt=Ue),vo(Z,{width:Ne,height:tt}),vo(Z.getElementsByTagName("img")[0],et({width:V*ze,height:X*ze},Gl(et({translateX:-oe*ze,translateY:-ee*ze},k))))}))},"preview")},EZ={bind:i(function(){var k=this.element,F=this.options,x=this.cropper;vr(F.cropstart)&&Qr(k,Gu,F.cropstart),vr(F.cropmove)&&Qr(k,Jt,F.cropmove),vr(F.cropend)&&Qr(k,Ft,F.cropend),vr(F.crop)&&Qr(k,Xt,F.crop),vr(F.zoom)&&Qr(k,dw,F.zoom),Qr(x,i2,this.onCropStart=this.cropStart.bind(this)),F.zoomable&&F.zoomOnWheel&&Qr(x,l2,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),F.toggleDragModeOnDblclick&&Qr(x,$l,this.onDblclick=this.dblclick.bind(this)),Qr(k.ownerDocument,o2,this.onCropMove=this.cropMove.bind(this)),Qr(k.ownerDocument,a2,this.onCropEnd=this.cropEnd.bind(this)),F.responsive&&Qr(window,s2,this.onResize=this.resize.bind(this))},"bind"),unbind:i(function(){var k=this.element,F=this.options,x=this.cropper;vr(F.cropstart)&&bn(k,Gu,F.cropstart),vr(F.cropmove)&&bn(k,Jt,F.cropmove),vr(F.cropend)&&bn(k,Ft,F.cropend),vr(F.crop)&&bn(k,Xt,F.crop),vr(F.zoom)&&bn(k,dw,F.zoom),bn(x,i2,this.onCropStart),F.zoomable&&F.zoomOnWheel&&bn(x,l2,this.onWheel,{passive:!1,capture:!0}),F.toggleDragModeOnDblclick&&bn(x,$l,this.onDblclick),bn(k.ownerDocument,o2,this.onCropMove),bn(k.ownerDocument,a2,this.onCropEnd),F.responsive&&bn(window,s2,this.onResize)},"unbind")},RZ={resize:i(function(){if(!this.disabled){var k=this.options,F=this.container,x=this.containerData,H=F.offsetWidth/x.width;if(H!==1||F.offsetHeight!==x.height){var $,V;k.restore&&($=this.getCanvasData(),V=this.getCropBoxData()),this.render(),k.restore&&(this.setCanvasData(yt($,function(X,oe){$[oe]=X*H})),this.setCropBoxData(yt(V,function(X,oe){V[oe]=X*H})))}}},"resize"),dblclick:i(function(){this.disabled||this.options.dragMode===K||this.setDragMode(lZ(this.dragBox,g)?Q:ne)},"dblclick"),wheel:i(function(k){var F=this,x=Number(this.options.wheelZoomRatio)||.1,H=1;this.disabled||(k.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){F.wheeling=!1},50),k.deltaY?H=k.deltaY>0?1:-1:k.wheelDelta?H=-k.wheelDelta/120:k.detail&&(H=k.detail>0?1:-1),this.zoom(-H*x,k)))},"wheel"),cropStart:i(function(k){var F=k.buttons,x=k.button;if(!(this.disabled||(k.type==="mousedown"||k.type==="pointerdown"&&k.pointerType==="mouse")&&(Fe(F)&&F!==1||Fe(x)&&x!==0||k.ctrlKey))){var H=this.options,$=this.pointers,V;k.changedTouches?yt(k.changedTouches,function(X){$[X.identifier]=Jh(X)}):$[k.pointerId||0]=Jh(k),Object.keys($).length>1&&H.zoomable&&H.zoomOnTouch?V=G:V=mw(k.target,j),!!ZQ.test(V)&&Ku(this.element,Gu,{originalEvent:k,action:V})!==!1&&(k.preventDefault(),this.action=V,this.cropping=!1,V===C&&(this.cropping=!0,Lt(this.dragBox,O)))}},"cropStart"),cropMove:i(function(k){var F=this.action;if(!(this.disabled||!F)){var x=this.pointers;k.preventDefault(),Ku(this.element,Jt,{originalEvent:k,action:F})!==!1&&(k.changedTouches?yt(k.changedTouches,function(H){et(x[H.identifier]||{},Jh(H,!0))}):et(x[k.pointerId||0]||{},Jh(k,!0)),this.change(k))}},"cropMove"),cropEnd:i(function(k){if(!this.disabled){var F=this.action,x=this.pointers;k.changedTouches?yt(k.changedTouches,function(H){delete x[H.identifier]}):delete x[k.pointerId||0],F&&(k.preventDefault(),Object.keys(x).length||(this.action=""),this.cropping&&(this.cropping=!1,Wu(this.dragBox,O,this.cropped&&this.options.modal)),Ku(this.element,Ft,{originalEvent:k,action:F}))}},"cropEnd")},TZ={change:i(function(k){var F=this.options,x=this.canvasData,H=this.containerData,$=this.cropBoxData,V=this.pointers,X=this.action,oe=F.aspectRatio,ee=$.left,Z=$.top,J=$.width,ie=$.height,Ue=ee+J,Ne=Z+ie,tt=0,ze=0,Tt=H.width,jt=H.height,mt=!0,gi;!oe&&k.shiftKey&&(oe=J&&ie?J/ie:1),this.limited&&(tt=$.minLeft,ze=$.minTop,Tt=tt+Math.min(H.width,x.width,x.left+x.width),jt=ze+Math.min(H.height,x.height,x.top+x.height));var xr=V[Object.keys(V)[0]],ue={x:xr.endX-xr.startX,y:xr.endY-xr.startY},Ge=i(function(Zr){switch(Zr){case M:Ue+ue.x>Tt&&(ue.x=Tt-Ue);break;case z:ee+ue.x<tt&&(ue.x=tt-ee);break;case Y:Z+ue.y<ze&&(ue.y=ze-Z);break;case W:Ne+ue.y>jt&&(ue.y=jt-Ne);break}},"check");switch(X){case A:ee+=ue.x,Z+=ue.y;break;case M:if(ue.x>=0&&(Ue>=Tt||oe&&(Z<=ze||Ne>=jt))){mt=!1;break}Ge(M),J+=ue.x,J<0&&(X=z,J=-J,ee-=J),oe&&(ie=J/oe,Z+=($.height-ie)/2);break;case Y:if(ue.y<=0&&(Z<=ze||oe&&(ee<=tt||Ue>=Tt))){mt=!1;break}Ge(Y),ie-=ue.y,Z+=ue.y,ie<0&&(X=W,ie=-ie,Z-=ie),oe&&(J=ie*oe,ee+=($.width-J)/2);break;case z:if(ue.x<=0&&(ee<=tt||oe&&(Z<=ze||Ne>=jt))){mt=!1;break}Ge(z),J-=ue.x,ee+=ue.x,J<0&&(X=M,J=-J,ee-=J),oe&&(ie=J/oe,Z+=($.height-ie)/2);break;case W:if(ue.y>=0&&(Ne>=jt||oe&&(ee<=tt||Ue>=Tt))){mt=!1;break}Ge(W),ie+=ue.y,ie<0&&(X=Y,ie=-ie,Z-=ie),oe&&(J=ie*oe,ee+=($.width-J)/2);break;case f:if(oe){if(ue.y<=0&&(Z<=ze||Ue>=Tt)){mt=!1;break}Ge(Y),ie-=ue.y,Z+=ue.y,J=ie*oe}else Ge(Y),Ge(M),ue.x>=0?Ue<Tt?J+=ue.x:ue.y<=0&&Z<=ze&&(mt=!1):J+=ue.x,ue.y<=0?Z>ze&&(ie-=ue.y,Z+=ue.y):(ie-=ue.y,Z+=ue.y);J<0&&ie<0?(X=v,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=l,J=-J,ee-=J):ie<0&&(X=d,ie=-ie,Z-=ie);break;case l:if(oe){if(ue.y<=0&&(Z<=ze||ee<=tt)){mt=!1;break}Ge(Y),ie-=ue.y,Z+=ue.y,J=ie*oe,ee+=$.width-J}else Ge(Y),Ge(z),ue.x<=0?ee>tt?(J-=ue.x,ee+=ue.x):ue.y<=0&&Z<=ze&&(mt=!1):(J-=ue.x,ee+=ue.x),ue.y<=0?Z>ze&&(ie-=ue.y,Z+=ue.y):(ie-=ue.y,Z+=ue.y);J<0&&ie<0?(X=d,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=f,J=-J,ee-=J):ie<0&&(X=v,ie=-ie,Z-=ie);break;case v:if(oe){if(ue.x<=0&&(ee<=tt||Ne>=jt)){mt=!1;break}Ge(z),J-=ue.x,ee+=ue.x,ie=J/oe}else Ge(W),Ge(z),ue.x<=0?ee>tt?(J-=ue.x,ee+=ue.x):ue.y>=0&&Ne>=jt&&(mt=!1):(J-=ue.x,ee+=ue.x),ue.y>=0?Ne<jt&&(ie+=ue.y):ie+=ue.y;J<0&&ie<0?(X=f,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=d,J=-J,ee-=J):ie<0&&(X=l,ie=-ie,Z-=ie);break;case d:if(oe){if(ue.x>=0&&(Ue>=Tt||Ne>=jt)){mt=!1;break}Ge(M),J+=ue.x,ie=J/oe}else Ge(W),Ge(M),ue.x>=0?Ue<Tt?J+=ue.x:ue.y>=0&&Ne>=jt&&(mt=!1):J+=ue.x,ue.y>=0?Ne<jt&&(ie+=ue.y):ie+=ue.y;J<0&&ie<0?(X=l,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=v,J=-J,ee-=J):ie<0&&(X=f,ie=-ie,Z-=ie);break;case U:this.move(ue.x,ue.y),mt=!1;break;case G:this.zoom(hZ(V),k),mt=!1;break;case C:if(!ue.x||!ue.y){mt=!1;break}gi=y2(this.cropper),ee=xr.startX-gi.left,Z=xr.startY-gi.top,J=$.minWidth,ie=$.minHeight,ue.x>0?X=ue.y>0?d:f:ue.x<0&&(ee-=J,X=ue.y>0?v:l),ue.y<0&&(Z-=ie),this.cropped||(Un(this.cropBox,P),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}mt&&($.width=J,$.height=ie,$.left=ee,$.top=Z,this.action=X,this.renderCropBox()),yt(V,function(At){At.startX=At.endX,At.startY=At.endY})},"change")},AZ={crop:i(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Lt(this.dragBox,O),Un(this.cropBox,P),this.setCropBoxData(this.initialCropBoxData)),this},"crop"),reset:i(function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"reset"),clear:i(function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Un(this.dragBox,O),Lt(this.cropBox,P)),this},"clear"),replace:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&k&&(this.isImg&&(this.element.src=k),F?(this.url=k,this.image.src=k,this.ready&&(this.viewBoxImage.src=k,yt(this.previews,function(x){x.getElementsByTagName("img")[0].src=k}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(k))),this},"replace"),enable:i(function(){return this.ready&&this.disabled&&(this.disabled=!1,Un(this.cropper,b)),this},"enable"),disable:i(function(){return this.ready&&!this.disabled&&(this.disabled=!0,Lt(this.cropper,b)),this},"disable"),destroy:i(function(){var k=this.element;return k[E]?(k[E]=void 0,this.isImg&&this.replaced&&(k.src=this.originalUrl),this.uncreate(),this):this},"destroy"),move:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,x=this.canvasData,H=x.left,$=x.top;return this.moveTo(vw(k)?k:H+Number(k),vw(F)?F:$+Number(F))},"move"),moveTo:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,x=this.canvasData,H=!1;return k=Number(k),F=Number(F),this.ready&&!this.disabled&&this.options.movable&&(Fe(k)&&(x.left=k,H=!0),Fe(F)&&(x.top=F,H=!0),H&&this.renderCanvas(!0)),this},"moveTo"),zoom:i(function(k,F){var x=this.canvasData;return k=Number(k),k<0?k=1/(1-k):k=1+k,this.zoomTo(x.width*k/x.naturalWidth,null,F)},"zoom"),zoomTo:i(function(k,F,x){var H=this.options,$=this.canvasData,V=$.width,X=$.height,oe=$.naturalWidth,ee=$.naturalHeight;if(k=Number(k),k>=0&&this.ready&&!this.disabled&&H.zoomable){var Z=oe*k,J=ee*k;if(Ku(this.element,dw,{ratio:k,oldRatio:V/oe,originalEvent:x})===!1)return this;if(x){var ie=this.pointers,Ue=y2(this.cropper),Ne=ie&&Object.keys(ie).length?dZ(ie):{pageX:x.pageX,pageY:x.pageY};$.left-=(Z-V)*((Ne.pageX-Ue.left-$.left)/V),$.top-=(J-X)*((Ne.pageY-Ue.top-$.top)/X)}else Hu(F)&&Fe(F.x)&&Fe(F.y)?($.left-=(Z-V)*((F.x-$.left)/V),$.top-=(J-X)*((F.y-$.top)/X)):($.left-=(Z-V)/2,$.top-=(J-X)/2);$.width=Z,$.height=J,this.renderCanvas(!0)}return this},"zoomTo"),rotate:i(function(k){return this.rotateTo((this.imageData.rotate||0)+Number(k))},"rotate"),rotateTo:i(function(k){return k=Number(k),Fe(k)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=k%360,this.renderCanvas(!0,!0)),this},"rotateTo"),scaleX:i(function(k){var F=this.imageData.scaleY;return this.scale(k,Fe(F)?F:1)},"scaleX"),scaleY:i(function(k){var F=this.imageData.scaleX;return this.scale(Fe(F)?F:1,k)},"scaleY"),scale:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,x=this.imageData,H=!1;return k=Number(k),F=Number(F),this.ready&&!this.disabled&&this.options.scalable&&(Fe(k)&&(x.scaleX=k,H=!0),Fe(F)&&(x.scaleY=F,H=!0),H&&this.renderCanvas(!0,!0)),this},"scale"),getData:i(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F=this.options,x=this.imageData,H=this.canvasData,$=this.cropBoxData,V;if(this.ready&&this.cropped){V={x:$.left-H.left,y:$.top-H.top,width:$.width,height:$.height};var X=x.width/x.naturalWidth;if(yt(V,function(Z,J){V[J]=Z/X}),k){var oe=Math.round(V.y+V.height),ee=Math.round(V.x+V.width);V.x=Math.round(V.x),V.y=Math.round(V.y),V.width=ee-V.x,V.height=oe-V.y}}else V={x:0,y:0,width:0,height:0};return F.rotatable&&(V.rotate=x.rotate||0),F.scalable&&(V.scaleX=x.scaleX||1,V.scaleY=x.scaleY||1),V},"getData"),setData:i(function(k){var F=this.options,x=this.imageData,H=this.canvasData,$={};if(this.ready&&!this.disabled&&Hu(k)){var V=!1;F.rotatable&&Fe(k.rotate)&&k.rotate!==x.rotate&&(x.rotate=k.rotate,V=!0),F.scalable&&(Fe(k.scaleX)&&k.scaleX!==x.scaleX&&(x.scaleX=k.scaleX,V=!0),Fe(k.scaleY)&&k.scaleY!==x.scaleY&&(x.scaleY=k.scaleY,V=!0)),V&&this.renderCanvas(!0,!0);var X=x.width/x.naturalWidth;Fe(k.x)&&($.left=k.x*X+H.left),Fe(k.y)&&($.top=k.y*X+H.top),Fe(k.width)&&($.width=k.width*X),Fe(k.height)&&($.height=k.height*X),this.setCropBoxData($)}return this},"setData"),getContainerData:i(function(){return this.ready?et({},this.containerData):{}},"getContainerData"),getImageData:i(function(){return this.sized?et({},this.imageData):{}},"getImageData"),getCanvasData:i(function(){var k=this.canvasData,F={};return this.ready&&yt(["left","top","width","height","naturalWidth","naturalHeight"],function(x){F[x]=k[x]}),F},"getCanvasData"),setCanvasData:i(function(k){var F=this.canvasData,x=F.aspectRatio;return this.ready&&!this.disabled&&Hu(k)&&(Fe(k.left)&&(F.left=k.left),Fe(k.top)&&(F.top=k.top),Fe(k.width)?(F.width=k.width,F.height=k.width/x):Fe(k.height)&&(F.height=k.height,F.width=k.height*x),this.renderCanvas(!0)),this},"setCanvasData"),getCropBoxData:i(function(){var k=this.cropBoxData,F;return this.ready&&this.cropped&&(F={left:k.left,top:k.top,width:k.width,height:k.height}),F||{}},"getCropBoxData"),setCropBoxData:i(function(k){var F=this.cropBoxData,x=this.options.aspectRatio,H,$;return this.ready&&this.cropped&&!this.disabled&&Hu(k)&&(Fe(k.left)&&(F.left=k.left),Fe(k.top)&&(F.top=k.top),Fe(k.width)&&k.width!==F.width&&(H=!0,F.width=k.width),Fe(k.height)&&k.height!==F.height&&($=!0,F.height=k.height),x&&(H?F.height=F.width/x:$&&(F.width=F.height*x)),this.renderCropBox()),this},"setCropBoxData"),getCroppedCanvas:i(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var F=this.canvasData,x=yZ(this.image,this.imageData,F,k);if(!this.cropped)return x;var H=this.getData(),$=H.x,V=H.y,X=H.width,oe=H.height,ee=x.width/Math.floor(F.naturalWidth);ee!==1&&($*=ee,V*=ee,X*=ee,oe*=ee);var Z=X/oe,J=yo({aspectRatio:Z,width:k.maxWidth||1/0,height:k.maxHeight||1/0}),ie=yo({aspectRatio:Z,width:k.minWidth||0,height:k.minHeight||0},"cover"),Ue=yo({aspectRatio:Z,width:k.width||(ee!==1?x.width:X),height:k.height||(ee!==1?x.height:oe)}),Ne=Ue.width,tt=Ue.height;Ne=Math.min(J.width,Math.max(ie.width,Ne)),tt=Math.min(J.height,Math.max(ie.height,tt));var ze=document.createElement("canvas"),Tt=ze.getContext("2d");ze.width=Vu(Ne),ze.height=Vu(tt),Tt.fillStyle=k.fillColor||"transparent",Tt.fillRect(0,0,Ne,tt);var jt=k.imageSmoothingEnabled,mt=jt===void 0?!0:jt,gi=k.imageSmoothingQuality;Tt.imageSmoothingEnabled=mt,gi&&(Tt.imageSmoothingQuality=gi);var xr=x.width,ue=x.height,Ge=$,At=V,Zr,bi,ha,da,mo,Mn;Ge<=-X||Ge>xr?(Ge=0,Zr=0,ha=0,mo=0):Ge<=0?(ha=-Ge,Ge=0,Zr=Math.min(xr,X+Ge),mo=Zr):Ge<=xr&&(ha=0,Zr=Math.min(X,xr-Ge),mo=Zr),Zr<=0||At<=-oe||At>ue?(At=0,bi=0,da=0,Mn=0):At<=0?(da=-At,At=0,bi=Math.min(ue,oe+At),Mn=bi):At<=ue&&(da=0,bi=Math.min(oe,ue-At),Mn=bi);var yr=[Ge,At,Zr,bi];if(mo>0&&Mn>0){var va=Ne/X;yr.push(ha*va,da*va,mo*va,Mn*va)}return Tt.drawImage.apply(Tt,[x].concat(s(yr.map(function(Qh){return Math.floor(Vu(Qh))})))),ze},"getCroppedCanvas"),setAspectRatio:i(function(k){var F=this.options;return!this.disabled&&!vw(k)&&(F.aspectRatio=Math.max(0,k)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setAspectRatio"),setDragMode:i(function(k){var F=this.options,x=this.dragBox,H=this.face;if(this.ready&&!this.disabled){var $=k===ne,V=F.movable&&k===Q;k=$||V?k:K,F.dragMode=k,zl(x,j,k),Wu(x,g,$),Wu(x,I,V),F.cropBoxMovable||(zl(H,j,k),Wu(H,g,$),Wu(H,I,V))}return this},"setDragMode")},IZ=_.Cropper,w2=function(){function B(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,B),!k||!rZ.test(k.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=k,this.options=et({},f2,Hu(F)&&F),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(B,"Cropper"),n(B,[{key:"init",value:i(function(){var F=this.element,x=F.tagName.toLowerCase(),H;if(!F[E]){if(F[E]=this,x==="img"){if(this.isImg=!0,H=F.getAttribute("src")||"",this.originalUrl=H,!H)return;H=F.src}else x==="canvas"&&window.HTMLCanvasElement&&(H=F.toDataURL());this.load(H)}},"init")},{key:"load",value:i(function(F){var x=this;if(!!F){this.url=F,this.imageData={};var H=this.element,$=this.options;if(!$.rotatable&&!$.scalable&&($.checkOrientation=!1),!$.checkOrientation||!window.ArrayBuffer){this.clone();return}if(eZ.test(F)){tZ.test(F)?this.read(bZ(F)):this.clone();return}var V=new XMLHttpRequest,X=this.clone.bind(this);this.reloading=!0,this.xhr=V,V.onabort=X,V.onerror=X,V.ontimeout=X,V.onprogress=function(){V.getResponseHeader("content-type")!==c2&&V.abort()},V.onload=function(){x.read(V.response)},V.onloadend=function(){x.reloading=!1,x.xhr=null},$.checkCrossOrigin&&m2(F)&&H.crossOrigin&&(F=g2(F)),V.open("GET",F),V.responseType="arraybuffer",V.withCredentials=H.crossOrigin==="use-credentials",V.send()}},"load")},{key:"read",value:i(function(F){var x=this.options,H=this.imageData,$=OZ(F),V=0,X=1,oe=1;if($>1){this.url=wZ(F,c2);var ee=SZ($);V=ee.rotate,X=ee.scaleX,oe=ee.scaleY}x.rotatable&&(H.rotate=V),x.scalable&&(H.scaleX=X,H.scaleY=oe),this.clone()},"read")},{key:"clone",value:i(function(){var F=this.element,x=this.url,H=F.crossOrigin,$=x;this.options.checkCrossOrigin&&m2(x)&&(H||(H="anonymous"),$=g2(x)),this.crossOrigin=H,this.crossOriginUrl=$;var V=document.createElement("img");H&&(V.crossOrigin=H),V.src=$||x,V.alt=F.alt||"The image to crop",this.image=V,V.onload=this.start.bind(this),V.onerror=this.stop.bind(this),Lt(V,q),F.parentNode.insertBefore(V,F.nextSibling)},"clone")},{key:"start",value:i(function(){var F=this,x=this.image;x.onload=null,x.onerror=null,this.sizing=!0;var H=_.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(_.navigator.userAgent),$=i(function(ee,Z){et(F.imageData,{naturalWidth:ee,naturalHeight:Z,aspectRatio:ee/Z}),F.sizing=!1,F.sized=!0,F.build()},"done");if(x.naturalWidth&&!H){$(x.naturalWidth,x.naturalHeight);return}var V=document.createElement("img"),X=document.body||document.documentElement;this.sizingImage=V,V.onload=function(){$(V.width,V.height),H||X.removeChild(V)},V.src=x.src,H||(V.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",X.appendChild(V))},"start")},{key:"stop",value:i(function(){var F=this.image;F.onload=null,F.onerror=null,F.parentNode.removeChild(F),this.image=null},"stop")},{key:"build",value:i(function(){if(!(!this.sized||this.ready)){var F=this.element,x=this.options,H=this.image,$=F.parentNode,V=document.createElement("div");V.innerHTML=nZ;var X=V.querySelector(".".concat(E,"-container")),oe=X.querySelector(".".concat(E,"-canvas")),ee=X.querySelector(".".concat(E,"-drag-box")),Z=X.querySelector(".".concat(E,"-crop-box")),J=Z.querySelector(".".concat(E,"-face"));this.container=$,this.cropper=X,this.canvas=oe,this.dragBox=ee,this.cropBox=Z,this.viewBox=X.querySelector(".".concat(E,"-view-box")),this.face=J,oe.appendChild(H),Lt(F,P),$.insertBefore(X,F.nextSibling),this.isImg||Un(H,q),this.initPreview(),this.bind(),x.initialAspectRatio=Math.max(0,x.initialAspectRatio)||NaN,x.aspectRatio=Math.max(0,x.aspectRatio)||NaN,x.viewMode=Math.max(0,Math.min(3,Math.round(x.viewMode)))||0,Lt(Z,P),x.guides||Lt(Z.getElementsByClassName("".concat(E,"-dashed")),P),x.center||Lt(Z.getElementsByClassName("".concat(E,"-center")),P),x.background&&Lt(X,"".concat(E,"-bg")),x.highlight||Lt(J,L),x.cropBoxMovable&&(Lt(J,I),zl(J,j,A)),x.cropBoxResizable||(Lt(Z.getElementsByClassName("".concat(E,"-line")),P),Lt(Z.getElementsByClassName("".concat(E,"-point")),P)),this.render(),this.ready=!0,this.setDragMode(x.dragMode),x.autoCrop&&this.crop(),this.setData(x.data),vr(x.ready)&&Qr(F,u2,x.ready,{once:!0}),Ku(F,u2)}},"build")},{key:"unbuild",value:i(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Un(this.element,P))},"unbuild")},{key:"uncreate",value:i(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()},"uncreate")}],[{key:"noConflict",value:i(function(){return window.Cropper=IZ,B},"noConflict")},{key:"setDefaults",value:i(function(F){et(f2,Hu(F)&&F)},"setDefaults")}]),B}();return et(w2.prototype,_Z,PZ,EZ,RZ,TZ,AZ),w2})});var IK=N(function(qbt,ab){"use strict";ab.exports=bI;ab.exports.isMobile=bI;ab.exports.default=bI;var FXe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,LXe=/CrOS/,jXe=/android|ipad|playbook|silk/i;function bI(t){t||(t={});var e=t.ua;if(!e&&typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var r=FXe.test(e)&&!LXe.test(e)||!!t.tablet&&jXe.test(e);return!r&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(r=!0),r}i(bI,"isMobile")});var MY=N(function(l0t,UY){"use strict";UY.exports=i(function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},"required")});var zY=N(function(hk){"use strict";var KQe=Object.prototype.hasOwnProperty,YQe;function BY(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}i(BY,"decode");function $Y(t){try{return encodeURIComponent(t)}catch(e){return null}}i($Y,"encode");function XQe(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var a=BY(n[1]),o=BY(n[2]);a===null||o===null||a in r||(r[a]=o)}return r}i(XQe,"querystring");function JQe(t,e){e=e||"";var r=[],n,a;typeof e!="string"&&(e="?");for(a in t)if(KQe.call(t,a)){if(n=t[a],!n&&(n===null||n===YQe||isNaN(n))&&(n=""),a=$Y(a),n=$Y(n),a===null||n===null)continue;r.push(a+"="+n)}return r.length?e+r.join("&"):""}i(JQe,"querystringify");hk.stringify=JQe;hk.parse=XQe});var JY=N(function(f0t,XY){"use strict";function oh(t){return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}i(oh,"_typeof");var HY=MY(),wb=zY(),QQe=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,VY=/[\n\r\t]/g,ZQe=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,WY=/:\d+$/,eZe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,tZe=/^[a-zA-Z]:/;function vk(t){return(t||"").toString().replace(QQe,"")}i(vk,"trimLeft");var dk=[["#","hash"],["?","query"],i(function(e,r){return vi(r.protocol)?e.replace(/\\/g,"/"):e},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],GY={hash:1,query:1};function KY(t){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},a=oh(t),o;if(t.protocol==="blob:")n=new yi(unescape(t.pathname),{});else if(a==="string"){n=new yi(t,{});for(o in GY)delete n[o]}else if(a==="object"){for(o in t)o in GY||(n[o]=t[o]);n.slashes===void 0&&(n.slashes=ZQe.test(t.href))}return n}i(KY,"lolcation");function vi(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}i(vi,"isSpecial");function YY(t,e){t=vk(t),t=t.replace(VY,""),e=e||{};var r=eZe.exec(t),n=r[1]?r[1].toLowerCase():"",a=!!r[2],o=!!r[3],u=0,s;return a?o?(s=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(s=r[2]+r[4],u=r[2].length):o?(s=r[3]+r[4],u=r[3].length):s=r[4],n==="file:"?u>=2&&(s=s.slice(2)):vi(n)?s=r[4]:n?a&&(s=s.slice(2)):u>=2&&vi(e.protocol)&&(s=r[4]),{protocol:n,slashes:a||vi(n),slashesCount:u,rest:s}}i(YY,"extractProtocol");function rZe(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,a=r[n-1],o=!1,u=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),u++):u&&(n===0&&(o=!0),r.splice(n,1),u--);return o&&r.unshift(""),(a==="."||a==="..")&&r.push(""),r.join("/")}i(rZe,"resolve");function yi(t,e,r){if(t=vk(t),t=t.replace(VY,""),!(this instanceof yi))return new yi(t,e,r);var n,a,o,u,s,c,p=dk.slice(),h=oh(e),y=this,m=0;for(h!=="object"&&h!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=wb.parse),e=KY(e),a=YY(t||"",e),n=!a.protocol&&!a.slashes,y.slashes=a.slashes||n&&e.slashes,y.protocol=a.protocol||e.protocol||"",t=a.rest,(a.protocol==="file:"&&(a.slashesCount!==2||tZe.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!vi(y.protocol)))&&(p[3]=[/(.*)/,"pathname"]);m<p.length;m++){if(u=p[m],typeof u=="function"){t=u(t,y);continue}o=u[0],c=u[1],o!==o?y[c]=t:typeof o=="string"?(s=o==="@"?t.lastIndexOf(o):t.indexOf(o),~s&&(typeof u[2]=="number"?(y[c]=t.slice(0,s),t=t.slice(s+u[2])):(y[c]=t.slice(s),t=t.slice(0,s)))):(s=o.exec(t))&&(y[c]=s[1],t=t.slice(0,s.index)),y[c]=y[c]||n&&u[3]&&e[c]||"",u[4]&&(y[c]=y[c].toLowerCase())}r&&(y.query=r(y.query)),n&&e.slashes&&y.pathname.charAt(0)!=="/"&&(y.pathname!==""||e.pathname!=="")&&(y.pathname=rZe(y.pathname,e.pathname)),y.pathname.charAt(0)!=="/"&&vi(y.protocol)&&(y.pathname="/"+y.pathname),HY(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(s=y.auth.indexOf(":"),~s?(y.username=y.auth.slice(0,s),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=y.auth.slice(s+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(y.auth)),y.auth=y.password?y.username+":"+y.password:y.username),y.origin=y.protocol!=="file:"&&vi(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}i(yi,"Url");function nZe(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||wb.parse)(e)),n[t]=e;break;case"port":n[t]=e,HY(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,WY.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var a=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==a?a+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(n.username=e.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<dk.length;u++){var s=dk[u];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&vi(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}i(nZe,"set");function iZe(t){(!t||typeof t!="function")&&(t=wb.stringify);var e,r=this,n=r.host,a=r.protocol;a&&a.charAt(a.length-1)!==":"&&(a+=":");var o=a+(r.protocol&&r.slashes||vi(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&vi(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||WY.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,e=oh(r.query)==="object"?t(r.query):r.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(o+=r.hash),o}i(iZe,"toString");yi.prototype={set:nZe,toString:iZe};yi.extractProtocol=YY;yi.location=KY;yi.trimLeft=vk;yi.qs=wb;XY.exports=yi});var Fk=N(function(sOt,Ck){typeof Ck!="undefined"&&(Ck.exports=Kr);function Kr(t){if(t)return uet(t)}i(Kr,"Emitter");function uet(t){for(var e in Kr.prototype)t[e]=Kr.prototype[e];return t}i(uet,"mixin");Kr.prototype.on=Kr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Kr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return i(r,"on"),r.fn=e,this.on(t,r),this};Kr.prototype.off=Kr.prototype.removeListener=Kr.prototype.removeAllListeners=Kr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Kr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Kr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Kr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var vQ=N(function(P_t,dQ){"use strict";function uQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(uQ,"ownKeys");function rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uQ(Object(r),!0).forEach(function(n){Qrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(rw,"_objectSpread2");function Xrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Xrt,"_classCallCheck");function sQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(sQ,"_defineProperties");function Jrt(t,e,r){return e&&sQ(t.prototype,e),r&&sQ(t,r),t}i(Jrt,"_createClass");function Qrt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Qrt,"_defineProperty");function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(this,arguments)}i(nw,"_extends");var pQ={exports:{}};(function(t){typeof window!="undefined"&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(c){return!1}}(),a=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(c){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(c){var p,h,y,m,w,_,R,T,E;if(p=c.match(u),!p)throw new Error("invalid data URI");for(h=p[2]?p[1]:"text/plain"+(p[3]||";charset=US-ASCII"),y=!!p[4],m=c.slice(p[0].length),y?w=atob(m):w=decodeURIComponent(m),_=new ArrayBuffer(w.length),R=new Uint8Array(_),T=0;T<w.length;T+=1)R[T]=w.charCodeAt(T);return n?new Blob([a?R:_],{type:h}):(E=new o,E.append(_),E.getBlob(h))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(c,p,h){var y=this;setTimeout(function(){h&&r.toDataURL&&s?c(s(y.toDataURL(p,h))):c(y.mozGetAsFile("blob",p))})}:r.toDataURL&&s&&(r.msToBlob?r.toBlob=function(c,p,h){var y=this;setTimeout(function(){(p&&p!=="image/png"||h)&&r.toDataURL&&s?c(s(y.toDataURL(p,h))):c(y.msToBlob(p))})}:r.toBlob=function(c,p,h){var y=this;setTimeout(function(){c(s(y.toDataURL(p,h)))})})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)})(pQ);var Zrt=pQ.exports,ent=i(function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},"isBlob"),lQ={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},tnt=typeof window!="undefined"&&typeof window.document!="undefined",fa=tnt?window:{},iw=i(function(e){return e>0&&e<1/0},"isPositiveNumber"),rnt=Array.prototype.slice;function nnt(t){return Array.from?Array.from(t):rnt.call(t)}i(nnt,"toArray");var int=/^image\/.+$/;function zq(t){return int.test(t)}i(zq,"isImageType");function ont(t){var e=zq(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}i(ont,"imageTypeToExtension");var hQ=String.fromCharCode;function ant(t,e,r){var n="",a;for(r+=e,a=e;a<r;a+=1)n+=hQ(t.getUint8(a));return n}i(ant,"getStringFromCharCode");var unt=fa.btoa;function snt(t,e){for(var r=[],n=8192,a=new Uint8Array(t);a.length>0;)r.push(hQ.apply(null,nnt(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(e,";base64,").concat(unt(r.join("")))}i(snt,"arrayBufferToDataURL");function lnt(t){var e=new DataView(t),r;try{var n,a,o;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var u=e.byteLength,s=2;s+1<u;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){a=s;break}s+=1}if(a){var c=a+4,p=a+10;if(ant(e,c,4)==="Exif"){var h=e.getUint16(p);if(n=h===18761,(n||h===19789)&&e.getUint16(p+2,n)===42){var y=e.getUint32(p+4,n);y>=8&&(o=p+y)}}}if(o){var m=e.getUint16(o,n),w,_;for(_=0;_<m;_+=1)if(w=o+_*12+2,e.getUint16(w,n)===274){w+=8,r=e.getUint16(w,n),e.setUint16(w,1,n);break}}}catch(R){r=1}return r}i(lnt,"resetAndGetOrientation");function cnt(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}i(cnt,"parseOrientation");var fnt=/\.\d*(?:0|9){12}\d*$/;function cQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return fnt.test(t)?Math.round(t*e)/e:t}i(cQ,"normalizeDecimalNumber");function Hh(t){var e=t.aspectRatio,r=t.height,n=t.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",o=iw(n),u=iw(r);if(o&&u){var s=r*e;(a==="contain"||a==="none")&&s>n||a==="cover"&&s<n?r=n/e:n=r*e}else o?r=n/e:u&&(n=r*e);return{width:n,height:r}}i(Hh,"getAdjustedSizes");var pnt=fa.ArrayBuffer,fQ=fa.FileReader,zu=fa.URL||fa.webkitURL,hnt=/\.\w+$/,dnt=fa.Compressor,vnt=function(){function t(e,r){Xrt(this,t),this.file=e,this.image=new Image,this.options=rw(rw({},lQ),r),this.aborted=!1,this.result=null,this.init()}return i(t,"Compressor"),Jrt(t,[{key:"init",value:i(function(){var r=this,n=this.file,a=this.options;if(!ent(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var o=n.type;if(!zq(o)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!zu||!fQ){this.fail(new Error("The current browser does not support image compression."));return}if(pnt||(a.checkOrientation=!1),zu&&!a.checkOrientation)this.load({url:zu.createObjectURL(n)});else{var u=new fQ,s=a.checkOrientation&&o==="image/jpeg";this.reader=u,u.onload=function(c){var p=c.target,h=p.result,y={};if(s){var m=lnt(h);m>1||!zu?(y.url=snt(h,o),m>1&&nw(y,cnt(m))):y.url=zu.createObjectURL(n)}else y.url=h;r.load(y)},u.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){r.reader=null},s?u.readAsArrayBuffer(n):u.readAsDataURL(n)}},"init")},{key:"load",value:i(function(r){var n=this,a=this.file,o=this.image;o.onload=function(){n.draw(rw(rw({},r),{},{naturalWidth:o.naturalWidth,naturalHeight:o.naturalHeight}))},o.onabort=function(){n.fail(new Error("Aborted to load the image."))},o.onerror=function(){n.fail(new Error("Failed to load the image."))},fa.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(fa.navigator.userAgent)&&(o.crossOrigin="anonymous"),o.alt=a.name,o.src=r.url},"load")},{key:"draw",value:i(function(r){var n=this,a=r.naturalWidth,o=r.naturalHeight,u=r.rotate,s=u===void 0?0:u,c=r.scaleX,p=c===void 0?1:c,h=r.scaleY,y=h===void 0?1:h,m=this.file,w=this.image,_=this.options,R=document.createElement("canvas"),T=R.getContext("2d"),E=Math.abs(s)%180===90,A=(_.resize==="contain"||_.resize==="cover")&&iw(_.width)&&iw(_.height),C=Math.max(_.maxWidth,0)||1/0,U=Math.max(_.maxHeight,0)||1/0,G=Math.max(_.minWidth,0)||0,M=Math.max(_.minHeight,0)||0,z=a/o,W=_.width,Y=_.height;if(E){var f=[U,C];C=f[0],U=f[1];var l=[M,G];G=l[0],M=l[1];var d=[Y,W];W=d[0],Y=d[1]}A&&(z=W/Y);var v=Hh({aspectRatio:z,width:C,height:U},"contain");C=v.width,U=v.height;var g=Hh({aspectRatio:z,width:G,height:M},"cover");if(G=g.width,M=g.height,A){var b=Hh({aspectRatio:z,width:W,height:Y},_.resize);W=b.width,Y=b.height}else{var P=Hh({aspectRatio:z,width:W,height:Y}),q=P.width;W=q===void 0?a:q;var L=P.height;Y=L===void 0?o:L}W=Math.floor(cQ(Math.min(Math.max(W,G),C))),Y=Math.floor(cQ(Math.min(Math.max(Y,M),U)));var O=-W/2,I=-Y/2,j=W,re=Y,ne=[];if(A){var Q=0,K=0,Xt=a,Ft=o,Jt=Hh({aspectRatio:z,width:a,height:o},{contain:"cover",cover:"contain"}[_.resize]);Xt=Jt.width,Ft=Jt.height,Q=(a-Xt)/2,K=(o-Ft)/2,ne.push(Q,K,Xt,Ft)}if(ne.push(O,I,j,re),E){var Gu=[Y,W];W=Gu[0],Y=Gu[1]}R.width=W,R.height=Y,zq(_.mimeType)||(_.mimeType=m.type);var $l="transparent";if(m.size>_.convertSize&&_.convertTypes.indexOf(_.mimeType)>=0&&(_.mimeType="image/jpeg"),_.mimeType==="image/jpeg"&&($l="#fff"),T.fillStyle=$l,T.fillRect(0,0,W,Y),_.beforeDraw&&_.beforeDraw.call(this,T,R),!this.aborted&&(T.save(),T.translate(W/2,Y/2),T.rotate(s*Math.PI/180),T.scale(p,y),T.drawImage.apply(T,[w].concat(ne)),T.restore(),_.drew&&_.drew.call(this,T,R),!this.aborted)){var Xh=i(function(hw){n.aborted||n.done({naturalWidth:a,naturalHeight:o,result:hw})},"done");R.toBlob?R.toBlob(Xh,_.mimeType,_.quality):Xh(Zrt(R.toDataURL(_.mimeType,_.quality)))}},"draw")},{key:"done",value:i(function(r){var n=r.naturalWidth,a=r.naturalHeight,o=r.result,u=this.file,s=this.image,c=this.options;if(zu&&!c.checkOrientation&&zu.revokeObjectURL(s.src),o)if(c.strict&&o.size>u.size&&c.mimeType===u.type&&!(c.width>n||c.height>a||c.minWidth>n||c.minHeight>a||c.maxWidth<n||c.maxHeight<a))o=u;else{var p=new Date;o.lastModified=p.getTime(),o.lastModifiedDate=p,o.name=u.name,o.name&&o.type!==u.type&&(o.name=o.name.replace(hnt,ont(o.type)))}else o=u;this.result=o,c.success&&c.success.call(this,o)},"done")},{key:"fail",value:i(function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r},"fail")},{key:"abort",value:i(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))},"abort")}],[{key:"noConflict",value:i(function(){return window.Compressor=dnt,t},"noConflict")},{key:"setDefaults",value:i(function(r){nw(lQ,r)},"setDefaults")}]),t}();dQ.exports=vnt});bF();SF();PF();P0();BF();var Jie=D(),Qie=Oe(),Zie=ve(),Rd=le(),eoe=Ae(),toe=Pe(),roe=rr(),noe=je(),ioe=We().f,ooe=Zl(),Pi=Zie.Symbol,Ea=Pi&&Pi.prototype;Qie&&toe(Pi)&&(!("description"in Ea)||Pi().description!==void 0)&&(E0={},uc=i(function(){var e=arguments.length<1||arguments[0]===void 0?void 0:noe(arguments[0]),r=roe(Ea,this)?new Pi(e):e===void 0?Pi():Pi(e);return e===""&&(E0[r]=!0),r},"_Symbol"),ooe(uc,Pi),uc.prototype=Ea,Ea.constructor=uc,$F=String(Pi("test"))=="Symbol(test)",zF=Rd(Ea.toString),GF=Rd(Ea.valueOf),HF=/^Symbol\((.*)\)[^)]+$/,VF=Rd("".replace),WF=Rd("".slice),ioe(Ea,"description",{configurable:!0,get:i(function(){var e=GF(this),r=zF(e);if(eoe(E0,e))return"";var n=$F?WF(r,7,-1):VF(r,HF,"$1");return n===""?void 0:n},"description")}),Jie({global:!0,constructor:!0,forced:!0},{Symbol:uc}));var E0,uc,$F,zF,GF,HF,VF,WF;var aoe=st();aoe("asyncIterator");var uoe=st();uoe("hasInstance");var soe=st();soe("isConcatSpreadable");var loe=st();loe("iterator");var coe=st();coe("match");var foe=st();foe("matchAll");var poe=st();poe("replace");var hoe=st();hoe("search");var doe=st();doe("species");var voe=st();voe("split");var yoe=st(),moe=a0();yoe("toPrimitive");moe();var goe=me(),boe=st(),woe=gr();boe("toStringTag");woe(goe("Symbol"),"Symbol");var Ooe=st();Ooe("unscopables");var pL=D(),Koe=ve(),Gn=wr(),hL=q0(),x0="WebAssembly",fL=Koe[x0],Ad=Error("e",{cause:7}).cause!==7,Ta=i(function(e,r){var n={};n[e]=hL(e,r,Ad),pL({global:!0,constructor:!0,arity:1,forced:Ad},n)},"exportGlobalErrorCauseWrapper"),C0=i(function(e,r){if(fL&&fL[e]){var n={};n[e]=hL(x0+"."+e,r,Ad),pL({target:x0,stat:!0,constructor:!0,arity:1,forced:Ad},n)}},"exportWebAssemblyErrorCauseWrapper");Ta("Error",function(t){return i(function(r){return Gn(t,this,arguments)},"Error")});Ta("EvalError",function(t){return i(function(r){return Gn(t,this,arguments)},"EvalError")});Ta("RangeError",function(t){return i(function(r){return Gn(t,this,arguments)},"RangeError")});Ta("ReferenceError",function(t){return i(function(r){return Gn(t,this,arguments)},"ReferenceError")});Ta("SyntaxError",function(t){return i(function(r){return Gn(t,this,arguments)},"SyntaxError")});Ta("TypeError",function(t){return i(function(r){return Gn(t,this,arguments)},"TypeError")});Ta("URIError",function(t){return i(function(r){return Gn(t,this,arguments)},"URIError")});C0("CompileError",function(t){return i(function(r){return Gn(t,this,arguments)},"CompileError")});C0("LinkError",function(t){return i(function(r){return Gn(t,this,arguments)},"LinkError")});C0("RuntimeError",function(t){return i(function(r){return Gn(t,this,arguments)},"RuntimeError")});IL();var Uae=D(),Mae=me(),Bae=wr(),kL=se(),$ae=q0(),D0="AggregateError",qL=Mae(D0),xL=!kL(function(){return qL([1]).errors[0]!==1})&&kL(function(){return qL([1],D0,{cause:7}).cause!==7});Uae({global:!0,constructor:!0,arity:2,forced:xL},{AggregateError:$ae(D0,function(t){return i(function(r,n){return Bae(t,this,arguments)},"AggregateError")},xL,!0)});var Vae=D(),Wae=xe(),Kae=Le(),Yae=ut(),Xae=it();Vae({target:"Array",proto:!0},{at:i(function(e){var r=Wae(this),n=Kae(r),a=Yae(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:r[o]},"at")});Xae("at");var nue=D(),iue=se(),oue=Sa(),aue=Re(),uue=xe(),sue=Le(),jL=Ia(),NL=$n(),lue=_a(),cue=as(),fue=be(),pue=go(),DL=fue("isConcatSpreadable"),hue=pue>=51||!iue(function(){var t=[];return t[DL]=!1,t.concat()[0]!==t}),due=cue("concat"),vue=i(function(e){if(!aue(e))return!1;var r=e[DL];return r!==void 0?!!r:oue(e)},"isConcatSpreadable"),yue=!hue||!due;nue({target:"Array",proto:!0,arity:1,forced:yue},{concat:i(function(e){var r=uue(this),n=lue(r,0),a=0,o,u,s,c,p;for(o=-1,s=arguments.length;o<s;o++)if(p=o===-1?r:arguments[o],vue(p))for(c=sue(p),jL(a+c),u=0;u<c;u++,a++)u in p&&NL(n,a,p[u]);else jL(a+1),NL(n,a++,p);return n.length=a,n},"concat")});var Sue=D(),_ue=$0(),Pue=it();Sue({target:"Array",proto:!0},{copyWithin:_ue});Pue("copyWithin");var Tue=D(),Aue=jd(),Iue=it();Tue({target:"Array",proto:!0},{fill:Aue});Iue("fill");var kue=D(),que=Ot().filter,xue=as(),Cue=xue("filter");kue({target:"Array",proto:!0,forced:!Cue},{filter:i(function(e){return que(this,e,arguments.length>1?arguments[1]:void 0)},"filter")});var Fue=D(),Lue=Ot().find,jue=it(),z0="find",GL=!0;z0 in[]&&Array(1)[z0](function(){GL=!1});Fue({target:"Array",proto:!0,forced:GL},{find:i(function(e){return Lue(this,e,arguments.length>1?arguments[1]:void 0)},"find")});jue(z0);var Nue=D(),Due=Ot().findIndex,Uue=it(),G0="findIndex",HL=!0;G0 in[]&&Array(1)[G0](function(){HL=!1});Nue({target:"Array",proto:!0,forced:HL},{findIndex:i(function(e){return Due(this,e,arguments.length>1?arguments[1]:void 0)},"findIndex")});Uue(G0);var Gue=D(),Hue=cc().findLast,Vue=it();Gue({target:"Array",proto:!0},{findLast:i(function(e){return Hue(this,e,arguments.length>1?arguments[1]:void 0)},"findLast")});Vue("findLast");var Wue=D(),Kue=cc().findLastIndex,Yue=it();Wue({target:"Array",proto:!0},{findLastIndex:i(function(e){return Kue(this,e,arguments.length>1?arguments[1]:void 0)},"findLastIndex")});Yue("findLastIndex");var tse=D(),rse=H0(),nse=xe(),ise=Le(),ose=ut(),ase=_a();tse({target:"Array",proto:!0},{flat:i(function(){var e=arguments.length?arguments[0]:void 0,r=nse(this),n=ise(r),a=ase(r,0);return a.length=rse(a,r,r,n,0,e===void 0?1:ose(e)),a},"flat")});var use=D(),sse=H0(),lse=de(),cse=xe(),fse=Le(),pse=_a();use({target:"Array",proto:!0},{flatMap:i(function(e){var r=cse(this),n=fse(r),a;return lse(e),a=pse(r,0),a.length=sse(a,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),a},"flatMap")});var Ese=D(),Rse=V0(),Tse=fc(),Ase=!Tse(function(t){Array.from(t)});Ese({target:"Array",stat:!0,forced:Ase},{from:Rse});var Ise=D(),kse=Jl().includes,qse=se(),xse=it(),Cse=qse(function(){return!Array(1).includes()});Ise({target:"Array",proto:!0,forced:Cse},{includes:i(function(e){return kse(this,e,arguments.length>1?arguments[1]:void 0)},"includes")});xse("includes");var oPt=Te(dc(),1);var cle=D(),fle=le(),ple=wi(),hle=bt(),dle=ka(),vle=fle([].join),yle=ple!=Object,mle=dle("join",",");cle({target:"Array",proto:!0,forced:yle||!mle},{join:i(function(e){return vle(hle(this),e===void 0?",":e)},"join")});var gle=D(),ble=Ot().map,wle=as(),Ole=wle("map");gle({target:"Array",proto:!0,forced:!Ole},{map:i(function(e){return ble(this,e,arguments.length>1?arguments[1]:void 0)},"map")});var Sle=D(),_le=se(),Ple=_n(),Ele=$n(),_j=Array,Rle=_le(function(){function t(){}return i(t,"F"),!(_j.of.call(t)instanceof t)});Sle({target:"Array",stat:!0,forced:Rle},{of:i(function(){for(var e=0,r=arguments.length,n=new(Ple(this)?this:_j)(r);r>e;)Ele(n,e,arguments[e++]);return n.length=r,n},"of")});var Tle=D(),Ale=xe(),Ile=Le(),kle=Ia(),qle=se(),xle=qle(function(){return[].push.call({length:4294967296},1)!==4294967297}),Cle=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();Tle({target:"Array",proto:!0,arity:1,forced:xle||Cle},{push:i(function(e){var r=Ale(this),n=Ile(r),a=arguments.length;kle(n+a);for(var o=0;o<a;o++)r[n]=arguments[o],n++;return r.length=n,n},"push")});var Fle=D(),Pj=Sa(),Lle=_n(),jle=Re(),Ej=On(),Nle=Le(),Dle=bt(),Ule=$n(),Mle=be(),Ble=as(),$le=Eo(),zle=Ble("slice"),Gle=Mle("species"),Z0=Array,Hle=Math.max;Fle({target:"Array",proto:!0,forced:!zle},{slice:i(function(e,r){var n=Dle(this),a=Nle(n),o=Ej(e,a),u=Ej(r===void 0?a:r,a),s,c,p;if(Pj(n)&&(s=n.constructor,Lle(s)&&(s===Z0||Pj(s.prototype))?s=void 0:jle(s)&&(s=s[Gle],s===null&&(s=void 0)),s===Z0||s===void 0))return $le(n,o,u);for(c=new(s===void 0?Z0:s)(Hle(u-o,0)),p=0;o<u;o++,p++)o in n&&Ule(c,p,n[o]);return c.length=p,c},"slice")});var Zle=D(),Dj=le(),ece=de(),tce=xe(),rce=Le(),nce=Ld(),Cj=je(),rO=se(),ice=Bd(),oce=ka(),Fj=eO(),ace=tO(),Lj=go(),jj=$d(),Ao=[],Nj=Dj(Ao.sort),uce=Dj(Ao.push),sce=rO(function(){Ao.sort(void 0)}),lce=rO(function(){Ao.sort(null)}),cce=oce("sort"),Uj=!rO(function(){if(Lj)return Lj<70;if(!(Fj&&Fj>3)){if(ace)return!0;if(jj)return jj<603;var t="",e,r,n,a;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)Ao.push({k:r+a,v:n})}for(Ao.sort(function(o,u){return u.v-o.v}),a=0;a<Ao.length;a++)r=Ao[a].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),fce=sce||!lce||!cce||!Uj,pce=i(function(e){return function(r,n){return n===void 0?-1:r===void 0?1:e!==void 0?+e(r,n)||0:Cj(r)>Cj(n)?1:-1}},"getSortCompare");Zle({target:"Array",proto:!0,forced:fce},{sort:i(function(e){e!==void 0&&ece(e);var r=tce(this);if(Uj)return e===void 0?Nj(r):Nj(r,e);var n=[],a=rce(r),o,u;for(u=0;u<a;u++)u in r&&uce(n,r[u]);for(ice(n,pce(e)),o=n.length,u=0;u<o;)r[u]=n[u++];for(;u<a;)nce(r,u++);return r},"sort")});var mce=Io();mce("Array");var gce=D(),bce=xe(),wce=On(),Oce=ut(),Sce=Le(),_ce=Ia(),Pce=_a(),Ece=$n(),nO=Ld(),Rce=as(),Tce=Rce("splice"),Ace=Math.max,Ice=Math.min;gce({target:"Array",proto:!0,forced:!Tce},{splice:i(function(e,r){var n=bce(this),a=Sce(n),o=wce(e,a),u=arguments.length,s,c,p,h,y,m;for(u===0?s=c=0:u===1?(s=0,c=a-o):(s=u-2,c=Ice(Ace(Oce(r),0),a-o)),_ce(a+s-c),p=Pce(n,c),h=0;h<c;h++)y=o+h,y in n&&Ece(p,h,n[y]);if(p.length=c,s<c){for(h=o;h<a-c;h++)y=h+c,m=h+s,y in n?n[m]=n[y]:nO(n,m);for(h=a;h>a-c+s;h--)nO(n,h-1)}else if(s>c)for(h=a-c;h>o;h--)y=h+c-1,m=h+s-1,y in n?n[m]=n[y]:nO(n,m);for(h=0;h<s;h++)n[h+o]=arguments[h+2];return n.length=a-c+s,p},"splice")});var kce=it();kce("flat");var qce=it();qce("flatMap");var afe=D(),ufe=ve(),sfe=hO(),lfe=Io(),dO="ArrayBuffer",hN=sfe[dO],cfe=ufe[dO];afe({global:!0,constructor:!0,forced:cfe!==hN},{ArrayBuffer:hN});lfe(dO);var dfe=Ae(),vfe=nt(),yfe=vN(),mfe=be(),yN=mfe("toPrimitive"),mN=Date.prototype;dfe(mN,yN)||vfe(mN,yN,yfe);var gfe=Pe(),gN=Re(),bfe=We(),wfe=Bt(),Ofe=be(),Sfe=cd(),vO=Ofe("hasInstance"),bN=Function.prototype;vO in bN||bfe.f(bN,vO,{value:Sfe(function(t){if(!gfe(this)||!gN(t))return!1;var e=this.prototype;if(!gN(e))return t instanceof this;for(;t=wfe(t);)if(e===t)return!0;return!1},vO)});var _fe=Oe(),Pfe=ba().EXISTS,wN=le(),Efe=We().f,ON=Function.prototype,Rfe=wN(ON.toString),SN=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Tfe=wN(SN.exec),Afe="name";_fe&&!Pfe&&Efe(ON,Afe,{configurable:!0,get:i(function(){try{return Tfe(SN,Rfe(this))[1]}catch(e){return""}},"get")});var Ife=D(),kfe=ve();Ife({global:!0},{globalThis:kfe});var OPt=Te(P0(),1);var qfe=ve(),xfe=gr();xfe(qfe.JSON,"JSON",!0);var _Pt=Te(Qd(),1);var wpe=D(),Ope=PO(),EO=Math.acosh,Spe=Math.log,UN=Math.sqrt,_pe=Math.LN2,Ppe=!EO||Math.floor(EO(Number.MAX_VALUE))!=710||EO(1/0)!=1/0;wpe({target:"Math",stat:!0,forced:Ppe},{acosh:i(function(e){var r=+e;return r<1?NaN:r>9490626562425156e-8?Spe(r)+_pe:Ope(r-1+UN(r-1)*UN(r+1))},"acosh")});var Epe=D(),MN=Math.asinh,Rpe=Math.log,Tpe=Math.sqrt;function BN(t){var e=+t;return!isFinite(e)||e==0?e:e<0?-BN(-e):Rpe(e+Tpe(e*e+1))}i(BN,"asinh");Epe({target:"Math",stat:!0,forced:!(MN&&1/MN(0)>0)},{asinh:BN});var Ape=D(),$N=Math.atanh,Ipe=Math.log;Ape({target:"Math",stat:!0,forced:!($N&&1/$N(-0)<0)},{atanh:i(function(e){var r=+e;return r==0?r:Ipe((1+r)/(1-r))/2},"atanh")});var kpe=D(),qpe=Zd(),xpe=Math.abs,Cpe=Math.pow;kpe({target:"Math",stat:!0},{cbrt:i(function(e){var r=+e;return qpe(r)*Cpe(xpe(r),1/3)},"cbrt")});var Fpe=D(),Lpe=Math.floor,jpe=Math.log,Npe=Math.LOG2E;Fpe({target:"Math",stat:!0},{clz32:i(function(e){var r=e>>>0;return r?31-Lpe(jpe(r+.5)*Npe):32},"clz32")});var Upe=D(),Mpe=wc(),HN=Math.cosh,Bpe=Math.abs,RO=Math.E;Upe({target:"Math",stat:!0,forced:!HN||HN(710)===1/0},{cosh:i(function(e){var r=Mpe(Bpe(e)-1)+1;return(r+1/(r*RO*RO))*(RO/2)},"cosh")});var $pe=D(),VN=wc();$pe({target:"Math",stat:!0,forced:VN!=Math.expm1},{expm1:VN});var Wpe=D(),Kpe=IO();Wpe({target:"Math",stat:!0},{fround:Kpe});var Ype=D(),KN=Math.hypot,Xpe=Math.abs,Jpe=Math.sqrt,Qpe=!!KN&&KN(1/0,NaN)!==1/0;Ype({target:"Math",stat:!0,arity:2,forced:Qpe},{hypot:i(function(e,r){for(var n=0,a=0,o=arguments.length,u=0,s,c;a<o;)s=Xpe(arguments[a++]),u<s?(c=u/s,n=n*c*c+1,u=s):s>0?(c=s/u,n+=c*c):n+=s;return u===1/0?1/0:u*Jpe(n)},"hypot")});var Zpe=D(),ehe=se(),YN=Math.imul,the=ehe(function(){return YN(4294967295,5)!=-5||YN.length!=2});Zpe({target:"Math",stat:!0,forced:the},{imul:i(function(e,r){var n=65535,a=+e,o=+r,u=n&a,s=n&o;return 0|u*s+((n&a>>>16)*s+u*(n&o>>>16)<<16>>>0)},"imul")});var ihe=D(),ohe=kO();ihe({target:"Math",stat:!0},{log10:ohe});var ahe=D(),uhe=PO();ahe({target:"Math",stat:!0},{log1p:uhe});var she=D(),lhe=Math.log,che=Math.LN2;she({target:"Math",stat:!0},{log2:i(function(e){return lhe(e)/che},"log2")});var fhe=D(),phe=Zd();fhe({target:"Math",stat:!0},{sign:phe});var hhe=D(),dhe=se(),JN=wc(),vhe=Math.abs,QN=Math.exp,yhe=Math.E,mhe=dhe(function(){return Math.sinh(-2e-17)!=-2e-17});hhe({target:"Math",stat:!0,forced:mhe},{sinh:i(function(e){var r=+e;return vhe(r)<1?(JN(r)-JN(-r))/2:(QN(r-1)-QN(-r-1))*(yhe/2)},"sinh")});var ghe=D(),ZN=wc(),eD=Math.exp;ghe({target:"Math",stat:!0},{tanh:i(function(e){var r=+e,n=ZN(r),a=ZN(-r);return n==1/0?1:a==1/0?-1:(n-a)/(eD(r)+eD(-r))},"tanh")});var bhe=gr();bhe(Math,"Math",!0);var whe=D(),Ohe=Xw();whe({target:"Math",stat:!0},{trunc:Ohe});var Ihe=Oe(),LO=ve(),aD=le(),khe=es(),qhe=nt(),oD=Ae(),xhe=Ra(),Che=rr(),Fhe=bo(),uD=id(),Lhe=se(),jhe=Si().f,Nhe=Mt().f,Dhe=We().f,Uhe=rv(),Mhe=xa().trim,FO="Number",Co=LO[FO],xO=Co.prototype,Bhe=LO.TypeError,$he=aD("".slice),iv=aD("".charCodeAt),zhe=i(function(e){var r=uD(e,"number");return typeof r=="bigint"?r:Ghe(r)},"toNumeric"),Ghe=i(function(e){var r=uD(e,"number"),n,a,o,u,s,c,p,h;if(Fhe(r))throw Bhe("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=Mhe(r),n=iv(r,0),n===43||n===45){if(a=iv(r,2),a===88||a===120)return NaN}else if(n===48){switch(iv(r,1)){case 66:case 98:o=2,u=49;break;case 79:case 111:o=8,u=55;break;default:return+r}for(s=$he(r,2),c=s.length,p=0;p<c;p++)if(h=iv(s,p),h<48||h>u)return NaN;return parseInt(s,o)}}return+r},"toNumber");if(khe(FO,!Co(" 0o1")||!Co("0b1")||Co("+0x1"))){for(Ca=i(function(e){var r=arguments.length<1?0:Co(zhe(e)),n=this;return Che(xO,n)&&Lhe(function(){Uhe(n)})?xhe(Object(r),n,Ca):r},"Number"),CO=Ihe?jhe(Co):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ov=0;CO.length>ov;ov++)oD(Co,Sc=CO[ov])&&!oD(Ca,Sc)&&Dhe(Ca,Sc,Nhe(Co,Sc));Ca.prototype=xO,xO.constructor=Ca,qhe(LO,FO,Ca,{constructor:!0})}var Ca,CO,ov,Sc;var Hhe=D();Hhe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var Khe=D(),Yhe=jO();Khe({target:"Number",stat:!0},{isFinite:Yhe});var Qhe=D(),Zhe=av();Qhe({target:"Number",stat:!0},{isInteger:Zhe});var ede=D();ede({target:"Number",stat:!0},{isNaN:i(function(e){return e!=e},"isNaN")});var tde=D(),rde=av(),nde=Math.abs;tde({target:"Number",stat:!0},{isSafeInteger:i(function(e){return rde(e)&&nde(e)<=9007199254740991},"isSafeInteger")});var ide=D();ide({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var ode=D();ode({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var hde=D(),vD=dD();hde({target:"Number",stat:!0,forced:Number.parseFloat!=vD},{parseFloat:vD});var wde=D(),SD=NO();wde({target:"Number",stat:!0,forced:Number.parseInt!=SD},{parseInt:SD});var Ede=D(),DO=le(),Rde=ut(),Tde=rv(),Ade=Pc(),Ide=kO(),sv=se(),kde=RangeError,PD=String,qde=isFinite,xde=Math.abs,Cde=Math.floor,ED=Math.pow,Fde=Math.round,Kn=DO(1 .toExponential),Lde=DO(Ade),RD=DO("".slice),TD=Kn(-69e-12,4)==="-6.9000e-11"&&Kn(1.255,2)==="1.25e+0"&&Kn(12345,3)==="1.235e+4"&&Kn(25,0)==="3e+1",jde=sv(function(){Kn(1,1/0)})&&sv(function(){Kn(1,-1/0)}),Nde=!sv(function(){Kn(1/0,1/0)})&&!sv(function(){Kn(NaN,1/0)}),Dde=!TD||!jde||!Nde;Ede({target:"Number",proto:!0,forced:Dde},{toExponential:i(function(e){var r=Tde(this);if(e===void 0)return Kn(r);var n=Rde(e);if(!qde(r))return String(r);if(n<0||n>20)throw kde("Incorrect fraction digits");if(TD)return Kn(r,n);var a="",o="",u=0,s="",c="";if(r<0&&(a="-",r=-r),r===0)u=0,o=Lde("0",n+1);else{var p=Ide(r);u=Cde(p);var h=0,y=ED(10,u-n);h=Fde(r/y),2*r>=(2*h+1)*y&&(h+=1),h>=ED(10,n+1)&&(h/=10,u+=1),o=PD(h)}return n!==0&&(o=RD(o,0,1)+"."+RD(o,1)),u===0?(s="+",c="0"):(s=u>0?"+":"-",c=PD(xde(u))),o+="e"+s+c,a+o},"toExponential")});var Ude=D(),BO=le(),Mde=ut(),Bde=rv(),$de=Pc(),AD=se(),zde=RangeError,qD=String,xD=Math.floor,MO=BO($de),ID=BO("".slice),Ec=BO(1 .toFixed),lv=i(function t(e,r,n){return r===0?n:r%2===1?t(e,r-1,n*e):t(e*e,r/2,n)},"pow"),Gde=i(function(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},"log"),ps=i(function(e,r,n){for(var a=-1,o=n;++a<6;)o+=r*e[a],e[a]=o%1e7,o=xD(o/1e7)},"multiply"),UO=i(function(e,r){for(var n=6,a=0;--n>=0;)a+=e[n],e[n]=xD(a/r),a=a%r*1e7},"divide"),kD=i(function(e){for(var r=6,n="";--r>=0;)if(n!==""||r===0||e[r]!==0){var a=qD(e[r]);n=n===""?a:n+MO("0",7-a.length)+a}return n},"dataToString"),Hde=AD(function(){return Ec(8e-5,3)!=="0.000"||Ec(.9,0)!=="1"||Ec(1.255,2)!=="1.25"||Ec(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!AD(function(){Ec({})});Ude({target:"Number",proto:!0,forced:Hde},{toFixed:i(function(e){var r=Bde(this),n=Mde(e),a=[0,0,0,0,0,0],o="",u="0",s,c,p,h;if(n<0||n>20)throw zde("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return qD(r);if(r<0&&(o="-",r=-r),r>1e-21)if(s=Gde(r*lv(2,69,1))-69,c=s<0?r*lv(2,-s,1):r/lv(2,s,1),c*=4503599627370496,s=52-s,s>0){for(ps(a,0,c),p=n;p>=7;)ps(a,1e7,0),p-=7;for(ps(a,lv(10,p,1),0),p=s-1;p>=23;)UO(a,1<<23),p-=23;UO(a,1<<p),ps(a,1,1),UO(a,2),u=kD(a)}else ps(a,0,c),ps(a,1<<-s,0),u=kD(a)+MO("0",n);return n>0?(h=u.length,u=o+(h<=n?"0."+MO("0",n-h)+u:ID(u,0,h-n)+"."+ID(u,h-n))):u=o+u,u},"toFixed")});var eve=D(),jD=zO();eve({target:"Object",stat:!0,arity:2,forced:Object.assign!==jD},{assign:jD});var ive=D(),ove=Oe(),ave=Rc(),uve=de(),sve=xe(),lve=We();ove&&ive({target:"Object",proto:!0,forced:ave},{__defineGetter__:i(function(e,r){lve.f(sve(this),e,{get:uve(r),enumerable:!0,configurable:!0})},"__defineGetter__")});var cve=D(),fve=Oe(),pve=Rc(),hve=de(),dve=xe(),vve=We();fve&&cve({target:"Object",proto:!0,forced:pve},{__defineSetter__:i(function(e,r){vve.f(dve(this),e,{set:hve(r),enumerable:!0,configurable:!0})},"__defineSetter__")});var Sve=D(),_ve=GO().entries;Sve({target:"Object",stat:!0},{entries:i(function(e){return _ve(e)},"entries")});var Pve=D(),Eve=fs(),Rve=se(),Tve=Re(),Ave=xo().onFreeze,HO=Object.freeze,Ive=Rve(function(){HO(1)});Pve({target:"Object",stat:!0,forced:Ive,sham:!Eve},{freeze:i(function(e){return HO&&Tve(e)?HO(Ave(e)):e},"freeze")});var kve=D(),qve=we(),xve=$n();kve({target:"Object",stat:!0},{fromEntries:i(function(e){var r={};return qve(e,function(n,a){xve(r,n,a)},{AS_ENTRIES:!0}),r},"fromEntries")});var Cve=D(),Fve=se(),Lve=bt(),$D=Mt().f,zD=Oe(),jve=Fve(function(){$D(1)}),Nve=!zD||jve;Cve({target:"Object",stat:!0,forced:Nve,sham:!zD},{getOwnPropertyDescriptor:i(function(e,r){return $D(Lve(e),r)},"getOwnPropertyDescriptor")});var Dve=D(),Uve=Oe(),Mve=pd(),Bve=bt(),$ve=Mt(),zve=$n();Dve({target:"Object",stat:!0,sham:!Uve},{getOwnPropertyDescriptors:i(function(e){for(var r=Bve(e),n=$ve.f,a=Mve(r),o={},u=0,s,c;a.length>u;)c=n(r,s=a[u++]),c!==void 0&&zve(o,s,c);return o},"getOwnPropertyDescriptors")});var Gve=D(),Hve=se(),Vve=bd().f,Wve=Hve(function(){return!Object.getOwnPropertyNames(1)});Gve({target:"Object",stat:!0,forced:Wve},{getOwnPropertyNames:Vve});var Kve=D(),Yve=se(),Xve=xe(),GD=Bt(),Jve=Id(),Qve=Yve(function(){GD(1)});Kve({target:"Object",stat:!0,forced:Qve,sham:!Jve},{getPrototypeOf:i(function(e){return GD(Xve(e))},"getPrototypeOf")});var Zve=D(),eye=Ae();Zve({target:"Object",stat:!0},{hasOwn:eye});var tye=D(),rye=VO();tye({target:"Object",stat:!0},{is:rye});var nye=D(),VD=yc();nye({target:"Object",stat:!0,forced:Object.isExtensible!==VD},{isExtensible:VD});var iye=D(),oye=se(),aye=Re(),uye=mr(),WD=Xd(),WO=Object.isFrozen,sye=oye(function(){WO(1)});iye({target:"Object",stat:!0,forced:sye||WD},{isFrozen:i(function(e){return!aye(e)||WD&&uye(e)=="ArrayBuffer"?!0:WO?WO(e):!1},"isFrozen")});var lye=D(),cye=se(),fye=Re(),pye=mr(),KD=Xd(),KO=Object.isSealed,hye=cye(function(){KO(1)});lye({target:"Object",stat:!0,forced:hye||KD},{isSealed:i(function(e){return!fye(e)||KD&&pye(e)=="ArrayBuffer"?!0:KO?KO(e):!1},"isSealed")});var dye=D(),vye=xe(),YD=Oa(),yye=se(),mye=yye(function(){YD(1)});dye({target:"Object",stat:!0,forced:mye},{keys:i(function(e){return YD(vye(e))},"keys")});var gye=D(),bye=Oe(),wye=Rc(),Oye=xe(),Sye=Bn(),_ye=Bt(),Pye=Mt().f;bye&&gye({target:"Object",proto:!0,forced:wye},{__lookupGetter__:i(function(e){var r=Oye(this),n=Sye(e),a;do if(a=Pye(r,n))return a.get;while(r=_ye(r))},"__lookupGetter__")});var Eye=D(),Rye=Oe(),Tye=Rc(),Aye=xe(),Iye=Bn(),kye=Bt(),qye=Mt().f;Rye&&Eye({target:"Object",proto:!0,forced:Tye},{__lookupSetter__:i(function(e){var r=Aye(this),n=Iye(e),a;do if(a=qye(r,n))return a.set;while(r=kye(r))},"__lookupSetter__")});var xye=D(),Cye=Re(),Fye=xo().onFreeze,Lye=fs(),jye=se(),YO=Object.preventExtensions,Nye=jye(function(){YO(1)});xye({target:"Object",stat:!0,forced:Nye,sham:!Lye},{preventExtensions:i(function(e){return YO&&Cye(e)?YO(Fye(e)):e},"preventExtensions")});var Dye=D(),Uye=Re(),Mye=xo().onFreeze,Bye=fs(),$ye=se(),XO=Object.seal,zye=$ye(function(){XO(1)});Dye({target:"Object",stat:!0,forced:zye,sham:!Bye},{seal:i(function(e){return XO&&Uye(e)?XO(Mye(e)):e},"seal")});var Vye=dd(),Wye=nt(),Kye=JD();Vye||Wye(Object.prototype,"toString",Kye,{unsafe:!0});var Yye=D(),Xye=GO().values;Yye({target:"Object",stat:!0},{values:i(function(e){return Xye(e)},"values")});rU();iU();aU();uU();sU();pU();var zge=D(),Gge=ce(),Hge=de(),Vge=Ai(),Wge=jo(),Kge=we();zge({target:"Promise",stat:!0},{allSettled:i(function(e){var r=this,n=Vge.f(r),a=n.resolve,o=n.reject,u=Wge(function(){var s=Hge(r.resolve),c=[],p=0,h=1;Kge(e,function(y){var m=p++,w=!1;h++,Gge(s,r,y).then(function(_){w||(w=!0,c[m]={status:"fulfilled",value:_},--h||a(c))},function(_){w||(w=!0,c[m]={status:"rejected",reason:_},--h||a(c))})}),--h||a(c)});return u.error&&o(u.value),n.promise},"allSettled")});var Yge=D(),Xge=ce(),Jge=de(),Qge=me(),Zge=Ai(),ebe=jo(),tbe=we(),hU="No one promise resolved";Yge({target:"Promise",stat:!0},{any:i(function(e){var r=this,n=Qge("AggregateError"),a=Zge.f(r),o=a.resolve,u=a.reject,s=ebe(function(){var c=Jge(r.resolve),p=[],h=0,y=1,m=!1;tbe(e,function(w){var _=h++,R=!1;y++,Xge(c,r,w).then(function(T){R||m||(m=!0,o(T))},function(T){R||m||(R=!0,p[_]=T,--y||u(new n(p,hU)))})}),--y||u(new n(p,hU))});return s.error&&u(s.value),a.promise},"any")});var rbe=D(),nbe=rt(),Ov=Na(),ibe=se(),vU=me(),yU=Pe(),obe=nr(),dU=RS(),abe=nt(),AS=Ov&&Ov.prototype,ube=!!Ov&&ibe(function(){AS.finally.call({then:i(function(){},"then")},function(){})});rbe({target:"Promise",proto:!0,real:!0,forced:ube},{finally:i(function(e){var r=obe(this,vU("Promise")),n=yU(e);return this.then(n?function(a){return dU(r,e()).then(function(){return a})}:e,n?function(a){return dU(r,e()).then(function(){throw a})}:e)},"_finally")});!nbe&&yU(Ov)&&(TS=vU("Promise").prototype.finally,AS.finally!==TS&&abe(AS,"finally",TS,{unsafe:!0}));var TS;var sbe=D(),lbe=wr(),cbe=de(),fbe=te(),pbe=se(),hbe=!pbe(function(){Reflect.apply(function(){})});sbe({target:"Reflect",stat:!0,forced:hbe},{apply:i(function(e,r,n){return lbe(cbe(e),r,fbe(n))},"apply")});var Obe=D(),Sbe=me(),kS=wr(),_be=OU(),SU=ds(),Pbe=te(),_U=Re(),Ebe=wt(),EU=se(),qS=Sbe("Reflect","construct"),Rbe=Object.prototype,Tbe=[].push,RU=EU(function(){function t(){}return i(t,"F"),!(qS(function(){},[],t)instanceof t)}),TU=!EU(function(){qS(function(){})}),PU=RU||TU;Obe({target:"Reflect",stat:!0,forced:PU,sham:PU},{construct:i(function(e,r){SU(e),Pbe(r);var n=arguments.length<3?e:SU(arguments[2]);if(TU&&!RU)return qS(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var a=[null];return kS(Tbe,a,r),new(kS(_be,e,a))}var o=n.prototype,u=Ebe(_U(o)?o:Rbe),s=kS(e,u,r);return _U(s)?s:u},"construct")});var Abe=D(),Ibe=Oe(),AU=te(),kbe=Bn(),IU=We(),qbe=se(),xbe=qbe(function(){Reflect.defineProperty(IU.f({},1,{value:1}),1,{value:2})});Abe({target:"Reflect",stat:!0,forced:xbe,sham:!Ibe},{defineProperty:i(function(e,r,n){AU(e);var a=kbe(r);AU(n);try{return IU.f(e,a,n),!0}catch(o){return!1}},"defineProperty")});var Cbe=D(),Fbe=te(),Lbe=Mt().f;Cbe({target:"Reflect",stat:!0},{deleteProperty:i(function(e,r){var n=Lbe(Fbe(e),r);return n&&!n.configurable?!1:delete e[r]},"deleteProperty")});var jbe=D(),Nbe=ce(),Dbe=Re(),Ube=te(),Mbe=xS(),Bbe=Mt(),$be=Bt();function xU(t,e){var r=arguments.length<3?t:arguments[2],n,a;if(Ube(t)===r)return t[e];if(n=Bbe.f(t,e),n)return Mbe(n)?n.value:n.get===void 0?void 0:Nbe(n.get,r);if(Dbe(a=$be(t)))return xU(a,e,r)}i(xU,"get");jbe({target:"Reflect",stat:!0},{get:xU});var zbe=D(),Gbe=Oe(),Hbe=te(),Vbe=Mt();zbe({target:"Reflect",stat:!0,sham:!Gbe},{getOwnPropertyDescriptor:i(function(e,r){return Vbe.f(Hbe(e),r)},"getOwnPropertyDescriptor")});var Wbe=D(),Kbe=te(),Ybe=Bt(),Xbe=Id();Wbe({target:"Reflect",stat:!0,sham:!Xbe},{getPrototypeOf:i(function(e){return Ybe(Kbe(e))},"getPrototypeOf")});var Jbe=D();Jbe({target:"Reflect",stat:!0},{has:i(function(e,r){return r in e},"has")});var Qbe=D(),Zbe=te(),ewe=yc();Qbe({target:"Reflect",stat:!0},{isExtensible:i(function(e){return Zbe(e),ewe(e)},"isExtensible")});var twe=D(),rwe=pd();twe({target:"Reflect",stat:!0},{ownKeys:rwe});var nwe=D(),iwe=me(),owe=te(),awe=fs();nwe({target:"Reflect",stat:!0,sham:!awe},{preventExtensions:i(function(e){owe(e);try{var r=iwe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}},"preventExtensions")});var uwe=D(),swe=ce(),lwe=te(),CU=Re(),cwe=xS(),fwe=se(),CS=We(),FU=Mt(),pwe=Bt(),LU=Cr();function jU(t,e,r){var n=arguments.length<4?t:arguments[3],a=FU.f(lwe(t),e),o,u,s;if(!a){if(CU(u=pwe(t)))return jU(u,e,r,n);a=LU(0)}if(cwe(a)){if(a.writable===!1||!CU(n))return!1;if(o=FU.f(n,e)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,CS.f(n,e,o)}else CS.f(n,e,LU(0,r))}else{if(s=a.set,s===void 0)return!1;swe(s,n,r)}return!0}i(jU,"set");var hwe=fwe(function(){var t=i(function(){},"Constructor"),e=CS.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});uwe({target:"Reflect",stat:!0,forced:hwe},{set:jU});var dwe=D(),vwe=te(),ywe=T0(),NU=zn();NU&&dwe({target:"Reflect",stat:!0},{setPrototypeOf:i(function(e,r){vwe(e),ywe(r);try{return NU(e,r),!0}catch(n){return!1}},"setPrototypeOf")});var mwe=D(),gwe=ve(),bwe=gr();mwe({global:!0},{Reflect:{}});bwe(gwe.Reflect,"Reflect",!0);var Dwe=Oe(),BS=ve(),Cc=le(),Uwe=es(),Mwe=Ra(),Bwe=kt(),$we=Si().f,HU=rr(),zwe=Os(),VU=je(),Gwe=Ss(),YU=xc(),Hwe=A0(),Vwe=nt(),Wwe=se(),Kwe=Ae(),Ywe=Ye().enforce,Xwe=Io(),Jwe=be(),XU=_v(),JU=NS(),Qwe=Jwe("match"),Uo=BS.RegExp,_s=Uo.prototype,Zwe=BS.SyntaxError,e0e=Cc(_s.exec),Pv=Cc("".charAt),WU=Cc("".replace),KU=Cc("".indexOf),t0e=Cc("".slice),r0e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ua=/a/g,DS=/a/g,n0e=new Uo(Ua)!==Ua,QU=YU.MISSED_STICKY,i0e=YU.UNSUPPORTED_Y,o0e=Dwe&&(!n0e||QU||XU||JU||Wwe(function(){return DS[Qwe]=!1,Uo(Ua)!=Ua||Uo(DS)==DS||Uo(Ua,"i")!="/a/i"})),a0e=i(function(e){for(var r=e.length,n=0,a="",o=!1,u;n<=r;n++){if(u=Pv(e,n),u==="\\"){a+=u+Pv(e,++n);continue}!o&&u==="."?a+="[\\s\\S]":(u==="["?o=!0:u==="]"&&(o=!1),a+=u)}return a},"handleDotAll"),u0e=i(function(e){for(var r=e.length,n=0,a="",o=[],u={},s=!1,c=!1,p=0,h="",y;n<=r;n++){if(y=Pv(e,n),y==="\\")y=y+Pv(e,++n);else if(y==="]")s=!1;else if(!s)switch(!0){case y==="[":s=!0;break;case y==="(":e0e(r0e,t0e(e,n+1))&&(n+=2,c=!0),a+=y,p++;continue;case(y===">"&&c):if(h===""||Kwe(u,h))throw new Zwe("Invalid capture group name");u[h]=!0,o[o.length]=[h,p],c=!1,h="";continue}c?h+=y:a+=y}return[a,o]},"handleNCG");if(Uwe("RegExp",o0e)){for(Do=i(function(e,r){var n=HU(_s,this),a=zwe(e),o=r===void 0,u=[],s=e,c,p,h,y,m,w;if(!n&&a&&o&&e.constructor===Do)return e;if((a||HU(_s,e))&&(e=e.source,o&&(r=Gwe(s))),e=e===void 0?"":VU(e),r=r===void 0?"":VU(r),s=e,XU&&"dotAll"in Ua&&(p=!!r&&KU(r,"s")>-1,p&&(r=WU(r,/s/g,""))),c=r,QU&&"sticky"in Ua&&(h=!!r&&KU(r,"y")>-1,h&&i0e&&(r=WU(r,/y/g,""))),JU&&(y=u0e(e),e=y[0],u=y[1]),m=Mwe(Uo(e,r),n?this:_s,Do),(p||h||u.length)&&(w=Ywe(m),p&&(w.dotAll=!0,w.raw=Do(a0e(e),c)),h&&(w.sticky=!0),u.length&&(w.groups=u)),e!==s)try{Bwe(m,"source",s===""?"(?:)":s)}catch(_){}return m},"RegExp"),US=$we(Uo),MS=0;US.length>MS;)Hwe(Do,Uo,US[MS++]);_s.constructor=Do,Do.prototype=_s,Vwe(BS,"RegExp",Do,{constructor:!0})}var Do,US,MS;Xwe("RegExp");var l0e=Oe(),c0e=_v(),f0e=mr(),p0e=Ii(),h0e=Ye().get,tM=RegExp.prototype,d0e=TypeError;l0e&&c0e&&p0e(tM,"dotAll",{configurable:!0,get:i(function(){if(this!==tM){if(f0e(this)==="RegExp")return!!h0e(this).dotAll;throw d0e("Incompatible receiver, RegExp required")}},"dotAll")});var $Et=Te(Tv(),1);var I0e=ve(),k0e=Oe(),q0e=Ii(),x0e=Sv(),C0e=se(),oM=I0e.RegExp,aM=oM.prototype,F0e=k0e&&C0e(function(){var t=!0;try{oM(".","d")}catch(c){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",a=i(function(p,h){Object.defineProperty(e,p,{get:i(function(){return r+=h,!0},"get")})},"addGetter"),o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(o.hasIndices="d");for(var u in o)a(u,o[u]);var s=Object.getOwnPropertyDescriptor(aM,"flags").get.call(e);return s!==n||r!==n});F0e&&q0e(aM,"flags",{configurable:!0,get:x0e});var L0e=Oe(),j0e=xc().MISSED_STICKY,N0e=mr(),D0e=Ii(),U0e=Ye().get,uM=RegExp.prototype,M0e=TypeError;L0e&&j0e&&D0e(uM,"sticky",{configurable:!0,get:i(function(){if(this!==uM){if(N0e(this)==="RegExp")return!!U0e(this).sticky;throw M0e("Incompatible receiver, RegExp required")}},"sticky")});Tv();var B0e=D(),$0e=ce(),z0e=le(),G0e=Pe(),H0e=Re(),V0e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),W0e=TypeError,K0e=z0e(/./.test);B0e({target:"RegExp",proto:!0,forced:!V0e},{test:i(function(e){var r=this.exec;if(!G0e(r))return K0e(this,e);var n=$0e(r,this,e);if(n!==null&&!H0e(n))throw new W0e("RegExp exec method returned something other than an Object or null");return!!n},"test")});var Y0e=ba().PROPER,X0e=nt(),J0e=te(),sM=je(),Q0e=se(),Z0e=Ss(),VS="toString",eOe=RegExp.prototype,lM=eOe[VS],tOe=Q0e(function(){return lM.call({source:"a",flags:"b"})!="/a/b"}),rOe=Y0e&&lM.name!=VS;(tOe||rOe)&&X0e(RegExp.prototype,VS,i(function(){var e=J0e(this),r=sM(e.source),n=sM(Z0e(e));return"/"+r+"/"+n},"toString"),{unsafe:!0});cM();var oOe=D(),aOe=le(),uOe=gt(),sOe=ut(),lOe=je(),cOe=se(),fOe=aOe("".charAt),pOe=cOe(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});oOe({target:"String",proto:!0,forced:pOe},{at:i(function(e){var r=lOe(uOe(this)),n=r.length,a=sOe(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:fOe(r,o)},"at")});var gOe=D(),bOe=Ma().codeAt;gOe({target:"String",proto:!0},{codePointAt:i(function(e){return bOe(this,e)},"codePointAt")});var POe=D(),gM=le(),EOe=Mt().f,ROe=Fr(),yM=je(),TOe=Av(),AOe=gt(),IOe=Iv(),kOe=rt(),mM=gM("".endsWith),qOe=gM("".slice),xOe=Math.min,bM=IOe("endsWith"),COe=!kOe&&!bM&&!!function(){var t=EOe(String.prototype,"endsWith");return t&&!t.writable}();POe({target:"String",proto:!0,forced:!COe&&!bM},{endsWith:i(function(e){var r=yM(AOe(this));TOe(e);var n=arguments.length>1?arguments[1]:void 0,a=r.length,o=n===void 0?a:xOe(ROe(n),a),u=yM(e);return mM?mM(r,u,o):qOe(r,o-u.length,o)===u},"endsWith")});var FOe=D(),LOe=le(),jOe=On(),NOe=RangeError,wM=String.fromCharCode,OM=String.fromCodePoint,DOe=LOe([].join),UOe=!!OM&&OM.length!=1;FOe({target:"String",stat:!0,arity:1,forced:UOe},{fromCodePoint:i(function(e){for(var r=[],n=arguments.length,a=0,o;n>a;){if(o=+arguments[a++],jOe(o,1114111)!==o)throw NOe(o+" is not a valid code point");r[a]=o<65536?wM(o):wM(((o-=65536)>>10)+55296,o%1024+56320)}return DOe(r,"")},"fromCodePoint")});var MOe=D(),BOe=le(),$Oe=Av(),zOe=gt(),SM=je(),GOe=Iv(),HOe=BOe("".indexOf);MOe({target:"String",proto:!0,forced:!GOe("includes")},{includes:i(function(e){return!!~HOe(SM(zOe(this)),SM($Oe(e)),arguments.length>1?arguments[1]:void 0)},"includes")});var ZEt=Te(KS(),1);var aSe=ce(),uSe=Lc(),sSe=te(),lSe=Fr(),XS=je(),cSe=gt(),fSe=It(),pSe=jc(),CM=Es();uSe("match",function(t,e,r){return[i(function(a){var o=cSe(this),u=a==null?void 0:fSe(a,t);return u?aSe(u,a,o):new RegExp(a)[t](XS(o))},"match"),function(n){var a=sSe(this),o=XS(n),u=r(e,a,o);if(u.done)return u.value;if(!a.global)return CM(a,o);var s=a.unicode;a.lastIndex=0;for(var c=[],p=0,h;(h=CM(a,o))!==null;){var y=XS(h[0]);c[p]=y,y===""&&(a.lastIndex=pSe(o,lSe(a.lastIndex),s)),p++}return p===0?null:c}]});var hSe=D(),FM=ce(),NM=le(),dSe=To(),LM=gt(),DM=Fr(),Nc=je(),vSe=te(),ySe=mr(),mSe=Os(),UM=Ss(),gSe=It(),bSe=nt(),wSe=se(),OSe=be(),SSe=nr(),_Se=jc(),PSe=Es(),MM=Ye(),QS=rt(),kv=OSe("matchAll"),BM="RegExp String",$M=BM+" Iterator",ESe=MM.set,RSe=MM.getterFor($M),jM=RegExp.prototype,TSe=TypeError,ZS=NM("".indexOf),qv=NM("".matchAll),JS=!!qv&&!wSe(function(){qv("a",/./)}),ASe=dSe(i(function(e,r,n,a){ESe(this,{type:$M,regexp:e,string:r,global:n,unicode:a,done:!1})},"RegExpStringIterator"),BM,i(function(){var e=RSe(this);if(e.done)return{value:void 0,done:!0};var r=e.regexp,n=e.string,a=PSe(r,n);return a===null?{value:void 0,done:e.done=!0}:e.global?(Nc(a[0])===""&&(r.lastIndex=_Se(n,DM(r.lastIndex),e.unicode)),{value:a,done:!1}):(e.done=!0,{value:a,done:!1})},"next")),e_=i(function(e){var r=vSe(this),n=Nc(e),a=SSe(r,RegExp),o=Nc(UM(r)),u,s,c;return u=new a(a===RegExp?r.source:r,o),s=!!~ZS(o,"g"),c=!!~ZS(o,"u"),u.lastIndex=DM(r.lastIndex),new ASe(u,n,s,c)},"$matchAll");hSe({target:"String",proto:!0,forced:JS},{matchAll:i(function(e){var r=LM(this),n,a,o,u;if(e!=null){if(mSe(e)&&(n=Nc(LM(UM(e))),!~ZS(n,"g")))throw TSe("`.matchAll` does not allow non-global regexes");if(JS)return qv(r,e);if(o=gSe(e,kv),o===void 0&&QS&&ySe(e)=="RegExp"&&(o=e_),o)return FM(o,e,r)}else if(JS)return qv(r,e);return a=Nc(r),u=new RegExp(e,"g"),QS?FM(e_,u,a):u[kv](a)},"matchAll")});QS||kv in jM||bSe(jM,kv,e_);var jSe=D(),NSe=t_().end,DSe=r_();jSe({target:"String",proto:!0,forced:DSe},{padEnd:i(function(e){return NSe(this,e,arguments.length>1?arguments[1]:void 0)},"padEnd")});var USe=D(),MSe=t_().start,BSe=r_();USe({target:"String",proto:!0,forced:BSe},{padStart:i(function(e){return MSe(this,e,arguments.length>1?arguments[1]:void 0)},"padStart")});var $Se=D(),XM=le(),zSe=bt(),GSe=xe(),KM=je(),HSe=Le(),YM=XM([].push),VSe=XM([].join);$Se({target:"String",stat:!0},{raw:i(function(e){for(var r=zSe(GSe(e).raw),n=HSe(r),a=arguments.length,o=[],u=0;n>u;){if(YM(o,KM(r[u++])),u===n)return VSe(o,"");u<a&&YM(o,KM(arguments[u]))}},"raw")});var WSe=D(),KSe=Pc();WSe({target:"String",proto:!0},{repeat:KSe});var e_e=wr(),QM=ce(),xv=le(),t_e=Lc(),r_e=se(),n_e=te(),i_e=Pe(),o_e=ut(),a_e=Fr(),Rs=je(),u_e=gt(),s_e=jc(),l_e=It(),c_e=a_(),f_e=Es(),p_e=be(),s_=p_e("replace"),h_e=Math.max,d_e=Math.min,v_e=xv([].concat),u_=xv([].push),ZM=xv("".indexOf),e5=xv("".slice),y_e=i(function(e){return e===void 0?e:String(e)},"maybeToString"),m_e=function(){return"a".replace(/./,"$0")==="$0"}(),t5=function(){return/./[s_]?/./[s_]("a","$0")==="":!1}(),g_e=!r_e(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});t_e("replace",function(t,e,r){var n=t5?"$":"$0";return[i(function(o,u){var s=u_e(this),c=o==null?void 0:l_e(o,s_);return c?QM(c,o,s,u):QM(e,Rs(s),o,u)},"replace"),function(a,o){var u=n_e(this),s=Rs(a);if(typeof o=="string"&&ZM(o,n)===-1&&ZM(o,"$<")===-1){var c=r(e,u,s,o);if(c.done)return c.value}var p=i_e(o);p||(o=Rs(o));var h=u.global;if(h){var y=u.unicode;u.lastIndex=0}for(var m=[];;){var w=f_e(u,s);if(w===null||(u_(m,w),!h))break;var _=Rs(w[0]);_===""&&(u.lastIndex=s_e(s,a_e(u.lastIndex),y))}for(var R="",T=0,E=0;E<m.length;E++){w=m[E];for(var A=Rs(w[0]),C=h_e(d_e(o_e(w.index),s.length),0),U=[],G=1;G<w.length;G++)u_(U,y_e(w[G]));var M=w.groups;if(p){var z=v_e([A],U,C,s);M!==void 0&&u_(z,M);var W=Rs(e_e(o,void 0,z))}else W=c_e(A,s,C,U,M,o);C>=T&&(R+=e5(s,T,C)+W,T=C+A.length)}return R+e5(s,T)}]},!g_e||!m_e||t5);var b_e=D(),w_e=ce(),l_=le(),r5=gt(),O_e=Pe(),S_e=Os(),Ts=je(),__e=It(),P_e=Ss(),E_e=a_(),R_e=be(),T_e=rt(),A_e=R_e("replace"),I_e=TypeError,o5=l_("".indexOf),k_e=l_("".replace),n5=l_("".slice),q_e=Math.max,i5=i(function(e,r,n){return n>e.length?-1:r===""?n:o5(e,r,n)},"stringIndexOf");b_e({target:"String",proto:!0},{replaceAll:i(function(e,r){var n=r5(this),a,o,u,s,c,p,h,y,m,w=0,_=0,R="";if(e!=null){if(a=S_e(e),a&&(o=Ts(r5(P_e(e))),!~o5(o,"g")))throw I_e("`.replaceAll` does not allow non-global regexes");if(u=__e(e,A_e),u)return w_e(u,e,n,r);if(T_e&&a)return k_e(Ts(n),e,r)}for(s=Ts(n),c=Ts(e),p=O_e(r),p||(r=Ts(r)),h=c.length,y=q_e(1,h),w=i5(s,c,0);w!==-1;)m=p?Ts(r(c,w,s)):E_e(c,s,w,[],void 0,r),R+=n5(s,_,w)+m,_=w+h,w=i5(s,c,w+y);return _<s.length&&(R+=n5(s,_)),R},"replaceAll")});var x_e=ce(),C_e=Lc(),F_e=te(),L_e=gt(),a5=VO(),u5=je(),j_e=It(),N_e=Es();C_e("search",function(t,e,r){return[i(function(a){var o=L_e(this),u=a==null?void 0:j_e(a,t);return u?x_e(u,a,o):new RegExp(a)[t](u5(o))},"search"),function(n){var a=F_e(this),o=u5(n),u=r(e,a,o);if(u.done)return u.value;var s=a.lastIndex;a5(s,0)||(a.lastIndex=0);var c=N_e(a,o);return a5(a.lastIndex,s)||(a.lastIndex=s),c===null?-1:c.index}]});var D_e=wr(),Dc=ce(),f_=le(),U_e=Lc(),M_e=Os(),B_e=te(),s5=gt(),$_e=nr(),z_e=jc(),G_e=Fr(),c_=je(),H_e=It(),l5=ts(),c5=Es(),V_e=Fc(),W_e=xc(),K_e=se(),As=W_e.UNSUPPORTED_Y,f5=4294967295,Y_e=Math.min,p5=[].push,X_e=f_(/./.exec),Is=f_(p5),Uc=f_("".slice),J_e=!K_e(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});U_e("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=i(function(o,u){var s=c_(s5(this)),c=u===void 0?f5:u>>>0;if(c===0)return[];if(o===void 0)return[s];if(!M_e(o))return Dc(e,s,o,c);for(var p=[],h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":""),y=0,m=new RegExp(o.source,h+"g"),w,_,R;(w=Dc(V_e,m,s))&&(_=m.lastIndex,!(_>y&&(Is(p,Uc(s,y,w.index)),w.length>1&&w.index<s.length&&D_e(p5,p,l5(w,1)),R=w[0].length,y=_,p.length>=c)));)m.lastIndex===w.index&&m.lastIndex++;return y===s.length?(R||!X_e(m,""))&&Is(p,""):Is(p,Uc(s,y)),p.length>c?l5(p,0,c):p},"internalSplit"):"0".split(void 0,0).length?n=i(function(o,u){return o===void 0&&u===0?[]:Dc(e,this,o,u)},"internalSplit"):n=e,[i(function(o,u){var s=s5(this),c=o==null?void 0:H_e(o,t);return c?Dc(c,o,s,u):Dc(n,c_(s),o,u)},"split"),function(a,o){var u=B_e(this),s=c_(a),c=r(n,u,s,o,n!==e);if(c.done)return c.value;var p=$_e(u,RegExp),h=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(As?"g":"y"),m=new p(As?"^(?:"+u.source+")":u,y),w=o===void 0?f5:o>>>0;if(w===0)return[];if(s.length===0)return c5(m,s)===null?[s]:[];for(var _=0,R=0,T=[];R<s.length;){m.lastIndex=As?0:R;var E=c5(m,As?Uc(s,R):s),A;if(E===null||(A=Y_e(G_e(m.lastIndex+(As?R:0)),s.length))===_)R=z_e(s,R,h);else{if(Is(T,Uc(s,_,R)),T.length===w)return T;for(var C=1;C<=E.length-1;C++)if(Is(T,E[C]),T.length===w)return T;R=_=A}}return Is(T,Uc(s,_)),T}]},!J_e,As);var Q_e=D(),v5=le(),Z_e=Mt().f,e1e=Fr(),h5=je(),t1e=Av(),r1e=gt(),n1e=Iv(),i1e=rt(),d5=v5("".startsWith),o1e=v5("".slice),a1e=Math.min,y5=n1e("startsWith"),u1e=!i1e&&!y5&&!!function(){var t=Z_e(String.prototype,"startsWith");return t&&!t.writable}();Q_e({target:"String",proto:!0,forced:!u1e&&!y5},{startsWith:i(function(e){var r=h5(r1e(this));t1e(e);var n=e1e(a1e(arguments.length>1?arguments[1]:void 0,r.length)),a=h5(e);return d5?d5(r,a,n):o1e(r,n,n+a.length)===a},"startsWith")});var c1e=D(),f1e=xa().trim,p1e=Cv();c1e({target:"String",proto:!0,forced:p1e("trim")},{trim:i(function(){return f1e(this)},"trim")});S5();var y1e=D(),_5=p_();y1e({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==_5},{trimEnd:_5});R5();var w1e=D(),T5=h_();w1e({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==T5},{trimStart:T5});var R1e=D(),T1e=Sr(),A1e=_r();R1e({target:"String",proto:!0,forced:A1e("anchor")},{anchor:i(function(e){return T1e(this,"a","name",e)},"anchor")});var I1e=D(),k1e=Sr(),q1e=_r();I1e({target:"String",proto:!0,forced:q1e("big")},{big:i(function(){return k1e(this,"big","","")},"big")});var x1e=D(),C1e=Sr(),F1e=_r();x1e({target:"String",proto:!0,forced:F1e("blink")},{blink:i(function(){return C1e(this,"blink","","")},"blink")});var L1e=D(),j1e=Sr(),N1e=_r();L1e({target:"String",proto:!0,forced:N1e("bold")},{bold:i(function(){return j1e(this,"b","","")},"bold")});var D1e=D(),U1e=Sr(),M1e=_r();D1e({target:"String",proto:!0,forced:M1e("fixed")},{fixed:i(function(){return U1e(this,"tt","","")},"fixed")});var B1e=D(),$1e=Sr(),z1e=_r();B1e({target:"String",proto:!0,forced:z1e("fontcolor")},{fontcolor:i(function(e){return $1e(this,"font","color",e)},"fontcolor")});var G1e=D(),H1e=Sr(),V1e=_r();G1e({target:"String",proto:!0,forced:V1e("fontsize")},{fontsize:i(function(e){return H1e(this,"font","size",e)},"fontsize")});var W1e=D(),K1e=Sr(),Y1e=_r();W1e({target:"String",proto:!0,forced:Y1e("italics")},{italics:i(function(){return K1e(this,"i","","")},"italics")});var X1e=D(),J1e=Sr(),Q1e=_r();X1e({target:"String",proto:!0,forced:Q1e("link")},{link:i(function(e){return J1e(this,"a","href",e)},"link")});var Z1e=D(),ePe=Sr(),tPe=_r();Z1e({target:"String",proto:!0,forced:tPe("small")},{small:i(function(){return ePe(this,"small","","")},"small")});var rPe=D(),nPe=Sr(),iPe=_r();rPe({target:"String",proto:!0,forced:iPe("strike")},{strike:i(function(){return nPe(this,"strike","","")},"strike")});var oPe=D(),aPe=Sr(),uPe=_r();oPe({target:"String",proto:!0,forced:uPe("sub")},{sub:i(function(){return aPe(this,"sub","","")},"sub")});var sPe=D(),lPe=Sr(),cPe=_r();sPe({target:"String",proto:!0,forced:cPe("sup")},{sup:i(function(){return lPe(this,"sup","","")},"sup")});var sEe=Xn();sEe("Float32",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Float32Array")});var lEe=Xn();lEe("Float64",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Float64Array")});var cEe=Xn();cEe("Int8",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Int8Array")});var fEe=Xn();fEe("Int16",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Int16Array")});var pEe=Xn();pEe("Int32",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Int32Array")});var hEe=Xn();hEe("Uint8",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint8Array")});var dEe=Xn();dEe("Uint8",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint8ClampedArray")},!0);var vEe=Xn();vEe("Uint16",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint16Array")});var yEe=Xn();yEe("Uint32",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint32Array")});var lB=_e(),mEe=Le(),gEe=ut(),bEe=lB.aTypedArray,wEe=lB.exportTypedArrayMethod;wEe("at",i(function(e){var r=bEe(this),n=mEe(r),a=gEe(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:r[o]},"at"));var OEe=le(),cB=_e(),SEe=$0(),_Ee=OEe(SEe),PEe=cB.aTypedArray,EEe=cB.exportTypedArrayMethod;EEe("copyWithin",i(function(e,r){return _Ee(PEe(this),e,r,arguments.length>2?arguments[2]:void 0)},"copyWithin"));var fB=_e(),REe=Ot().every,TEe=fB.aTypedArray,AEe=fB.exportTypedArrayMethod;AEe("every",i(function(e){return REe(TEe(this),e,arguments.length>1?arguments[1]:void 0)},"every"));var hB=_e(),qEe=jd(),xEe=C_(),CEe=Sn(),FEe=ce(),LEe=le(),jEe=se(),NEe=hB.aTypedArray,DEe=hB.exportTypedArrayMethod,UEe=LEe("".slice),MEe=jEe(function(){var t=0;return new Int8Array(2).fill({valueOf:i(function(){return t++},"valueOf")}),t!==1});DEe("fill",i(function(e){var r=arguments.length;NEe(this);var n=UEe(CEe(this),0,3)==="Big"?xEe(e):+e;return FEe(qEe,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},"fill"),MEe);var gB=_e(),WEe=Ot().filter,KEe=zc(),YEe=gB.aTypedArray,XEe=gB.exportTypedArrayMethod;XEe("filter",i(function(e){var r=WEe(YEe(this),e,arguments.length>1?arguments[1]:void 0);return KEe(this,r)},"filter"));var bB=_e(),JEe=Ot().find,QEe=bB.aTypedArray,ZEe=bB.exportTypedArrayMethod;ZEe("find",i(function(e){return JEe(QEe(this),e,arguments.length>1?arguments[1]:void 0)},"find"));var wB=_e(),eRe=Ot().findIndex,tRe=wB.aTypedArray,rRe=wB.exportTypedArrayMethod;rRe("findIndex",i(function(e){return eRe(tRe(this),e,arguments.length>1?arguments[1]:void 0)},"findIndex"));var OB=_e(),nRe=cc().findLast,iRe=OB.aTypedArray,oRe=OB.exportTypedArrayMethod;oRe("findLast",i(function(e){return nRe(iRe(this),e,arguments.length>1?arguments[1]:void 0)},"findLast"));var SB=_e(),aRe=cc().findLastIndex,uRe=SB.aTypedArray,sRe=SB.exportTypedArrayMethod;sRe("findLastIndex",i(function(e){return aRe(uRe(this),e,arguments.length>1?arguments[1]:void 0)},"findLastIndex"));var _B=_e(),lRe=Ot().forEach,cRe=_B.aTypedArray,fRe=_B.exportTypedArrayMethod;fRe("forEach",i(function(e){lRe(cRe(this),e,arguments.length>1?arguments[1]:void 0)},"forEach"));var pRe=Dv(),hRe=_e().exportTypedArrayStaticMethod,dRe=__();hRe("from",dRe,pRe);var PB=_e(),vRe=Jl().includes,yRe=PB.aTypedArray,mRe=PB.exportTypedArrayMethod;mRe("includes",i(function(e){return vRe(yRe(this),e,arguments.length>1?arguments[1]:void 0)},"includes"));var EB=_e(),gRe=Jl().indexOf,bRe=EB.aTypedArray,wRe=EB.exportTypedArrayMethod;wRe("indexOf",i(function(e){return gRe(bRe(this),e,arguments.length>1?arguments[1]:void 0)},"indexOf"));var ORe=ve(),SRe=se(),F_=le(),TB=_e(),L_=dc(),_Re=be(),j_=_Re("iterator"),RB=ORe.Uint8Array,PRe=F_(L_.values),ERe=F_(L_.keys),RRe=F_(L_.entries),N_=TB.aTypedArray,zv=TB.exportTypedArrayMethod,js=RB&&RB.prototype,Gv=!SRe(function(){js[j_].call([1])}),AB=!!js&&js.values&&js[j_]===js.values&&js.values.name==="values",IB=i(function(){return PRe(N_(this))},"values");zv("entries",i(function(){return RRe(N_(this))},"entries"),Gv);zv("keys",i(function(){return ERe(N_(this))},"keys"),Gv);zv("values",IB,Gv||!AB,{name:"values"});zv(j_,IB,Gv||!AB,{name:"values"});var kB=_e(),TRe=le(),ARe=kB.aTypedArray,IRe=kB.exportTypedArrayMethod,kRe=TRe([].join);IRe("join",i(function(e){return kRe(ARe(this),e)},"join"));var FB=_e(),URe=wr(),MRe=CB(),BRe=FB.aTypedArray,$Re=FB.exportTypedArrayMethod;$Re("lastIndexOf",i(function(e){var r=arguments.length;return URe(MRe,BRe(this),r>1?[e,arguments[1]]:[e])},"lastIndexOf"));var LB=_e(),zRe=Ot().map,GRe=Ls(),HRe=LB.aTypedArray,VRe=LB.exportTypedArrayMethod;VRe("map",i(function(e){return zRe(HRe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(GRe(r))(n)})},"map"));var jB=_e(),WRe=Dv(),KRe=jB.aTypedArrayConstructor,YRe=jB.exportTypedArrayStaticMethod;YRe("of",i(function(){for(var e=0,r=arguments.length,n=new(KRe(this))(r);r>e;)n[e]=arguments[e++];return n},"of"),WRe);var UB=_e(),tTe=U_().left,rTe=UB.aTypedArray,nTe=UB.exportTypedArrayMethod;nTe("reduce",i(function(e){var r=arguments.length;return tTe(rTe(this),e,r,r>1?arguments[1]:void 0)},"reduce"));var MB=_e(),iTe=U_().right,oTe=MB.aTypedArray,aTe=MB.exportTypedArrayMethod;aTe("reduceRight",i(function(e){var r=arguments.length;return iTe(oTe(this),e,r,r>1?arguments[1]:void 0)},"reduceRight"));var BB=_e(),uTe=BB.aTypedArray,sTe=BB.exportTypedArrayMethod,lTe=Math.floor;sTe("reverse",i(function(){for(var e=this,r=uTe(e).length,n=lTe(r/2),a=0,o;a<n;)o=e[a],e[a++]=e[--r],e[r]=o;return e},"reverse"));var zB=ve(),GB=ce(),$_=_e(),cTe=Le(),fTe=S_(),pTe=xe(),HB=se(),hTe=zB.RangeError,M_=zB.Int8Array,$B=M_&&M_.prototype,VB=$B&&$B.set,dTe=$_.aTypedArray,vTe=$_.exportTypedArrayMethod,B_=!HB(function(){var t=new Uint8ClampedArray(2);return GB(VB,t,{length:1,0:3},1),t[1]!==3}),yTe=B_&&$_.NATIVE_ARRAY_BUFFER_VIEWS&&HB(function(){var t=new M_(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});vTe("set",i(function(e){dTe(this);var r=fTe(arguments.length>1?arguments[1]:void 0,1),n=pTe(e);if(B_)return GB(VB,this,n,r);var a=this.length,o=cTe(n),u=0;if(o+r>a)throw hTe("Wrong length");for(;u<o;)this[r+u]=n[u++]},"set"),!B_||yTe);var WB=_e(),mTe=Ls(),gTe=se(),bTe=Eo(),wTe=WB.aTypedArray,OTe=WB.exportTypedArrayMethod,STe=gTe(function(){new Int8Array(1).slice()});OTe("slice",i(function(e,r){for(var n=bTe(wTe(this),e,r),a=mTe(this),o=0,u=n.length,s=new a(u);u>o;)s[o]=n[o++];return s},"slice"),STe);var KB=_e(),_Te=Ot().some,PTe=KB.aTypedArray,ETe=KB.exportTypedArrayMethod;ETe("some",i(function(e){return _Te(PTe(this),e,arguments.length>1?arguments[1]:void 0)},"some"));var RTe=ve(),TTe=le(),z_=se(),ATe=de(),ITe=Bd(),ZB=_e(),YB=eO(),kTe=tO(),XB=go(),JB=$d(),qTe=ZB.aTypedArray,xTe=ZB.exportTypedArrayMethod,Gc=RTe.Uint16Array,Ns=Gc&&TTe(Gc.prototype.sort),CTe=!!Ns&&!(z_(function(){Ns(new Gc(2),null)})&&z_(function(){Ns(new Gc(2),{})})),QB=!!Ns&&!z_(function(){if(XB)return XB<74;if(YB)return YB<67;if(kTe)return!0;if(JB)return JB<602;var t=new Gc(516),e=Array(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(Ns(t,function(a,o){return(a/4|0)-(o/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),FTe=i(function(e){return function(r,n){return e!==void 0?+e(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}},"getSortCompare");xTe("sort",i(function(e){return e!==void 0&&ATe(e),QB?Ns(this,e):ITe(qTe(this),FTe(e))},"sort"),!QB||CTe);var t8=_e(),LTe=Fr(),e8=On(),jTe=Ls(),NTe=t8.aTypedArray,DTe=t8.exportTypedArrayMethod;DTe("subarray",i(function(e,r){var n=NTe(this),a=n.length,o=e8(e,a),u=jTe(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,LTe((r===void 0?a:e8(r,a))-o))},"subarray"));var UTe=ve(),MTe=wr(),i8=_e(),G_=se(),r8=Eo(),Hv=UTe.Int8Array,n8=i8.aTypedArray,BTe=i8.exportTypedArrayMethod,o8=[].toLocaleString,$Te=!!Hv&&G_(function(){o8.call(new Hv(1))}),zTe=G_(function(){return[1,2].toLocaleString()!=new Hv([1,2]).toLocaleString()})||!G_(function(){Hv.prototype.toLocaleString.call([1,2])});BTe("toLocaleString",i(function(){return MTe(o8,$Te?r8(n8(this)):n8(this),r8(arguments))},"toLocaleString"),zTe);var GTe=_e().exportTypedArrayMethod,HTe=se(),VTe=ve(),WTe=le(),a8=VTe.Uint8Array,KTe=a8&&a8.prototype||{},Vv=[].toString,YTe=WTe([].join);HTe(function(){Vv.call({})})&&(Vv=i(function(){return YTe(this)},"toString"));var XTe=KTe.toString!=Vv;GTe("toString",Vv,XTe);var cTt=Te(Zv(),1);m8();var nIe=D(),iIe=r1();nIe({target:"Array",stat:!0,forced:!0},{fromAsync:iIe});var oIe=D(),aIe=Ot().filterReject,uIe=it();oIe({target:"Array",proto:!0,forced:!0},{filterOut:i(function(e){return aIe(this,e,arguments.length>1?arguments[1]:void 0)},"filterOut")});uIe("filterOut");var sIe=D(),lIe=Ot().filterReject,cIe=it();sIe({target:"Array",proto:!0,forced:!0},{filterReject:i(function(e){return lIe(this,e,arguments.length>1?arguments[1]:void 0)},"filterReject")});cIe("filterReject");var OIe=D(),SIe=ry(),_Ie=it();OIe({target:"Array",proto:!0},{group:i(function(e){var r=arguments.length>1?arguments[1]:void 0;return SIe(this,e,r)},"group")});_Ie("group");var PIe=D(),EIe=ry(),RIe=ka(),TIe=it();PIe({target:"Array",proto:!0,forced:!RIe("groupBy")},{groupBy:i(function(e){var r=arguments.length>1?arguments[1]:void 0;return EIe(this,e,r)},"groupBy")});TIe("groupBy");var NIe=D(),DIe=ka(),UIe=it(),MIe=i1();NIe({target:"Array",proto:!0,name:"groupToMap",forced:!DIe("groupByToMap")},{groupByToMap:MIe});UIe("groupByToMap");var BIe=D(),$Ie=it(),zIe=i1();BIe({target:"Array",proto:!0},{groupToMap:zIe});$Ie("groupToMap");var GIe=D(),HIe=Sa(),z8=Object.isFrozen,G8=i(function(e,r){if(!z8||!HIe(e)||!z8(e))return!1;for(var n=0,a=e.length,o;n<a;)if(o=e[n++],!(typeof o=="string"||r&&typeof o=="undefined"))return!1;return a!==0},"isFrozenStringArray");GIe({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:i(function(e){if(!G8(e,!0))return!1;var r=e.raw;return r.length===e.length&&G8(r,!1)},"isTemplateObject")});var VIe=Oe(),WIe=it(),KIe=xe(),YIe=Le(),XIe=Ii();VIe&&(XIe(Array.prototype,"lastIndex",{configurable:!0,get:i(function(){var e=KIe(this),r=YIe(e);return r==0?0:r-1},"lastIndex")}),WIe("lastIndex"));var JIe=Oe(),QIe=it(),H8=xe(),V8=Le(),ZIe=Ii();JIe&&(ZIe(Array.prototype,"lastItem",{configurable:!0,get:i(function(){var e=H8(this),r=V8(e);return r==0?void 0:e[r-1]},"lastItem"),set:i(function(e){var r=H8(this),n=V8(r);return r[n==0?0:n-1]=e},"lastItem")}),QIe("lastItem"));var tke=D(),rke=o1(),nke=bt(),ike=it(),oke=Array;tke({target:"Array",proto:!0},{toReversed:i(function(){return rke(nke(this),oke)},"toReversed")});ike("toReversed");var ake=D(),uke=le(),ske=de(),lke=bt(),cke=Fs(),fke=e1(),pke=it(),hke=Array,dke=uke(fke("Array").sort);ake({target:"Array",proto:!0},{toSorted:i(function(e){e!==void 0&&ske(e);var r=lke(this),n=cke(hke,r);return dke(n,e)},"toSorted")});pke("toSorted");var vke=D(),yke=it(),mke=Ia(),gke=Le(),bke=On(),wke=bt(),Oke=ut(),Ske=Array,_ke=Math.max,Pke=Math.min;vke({target:"Array",proto:!0},{toSpliced:i(function(e,r){var n=wke(this),a=gke(n),o=bke(e,a),u=arguments.length,s=0,c,p,h,y;for(u===0?c=p=0:u===1?(c=0,p=a-o):(c=u-2,p=Pke(_ke(Oke(r),0),a-o)),h=mke(a+c-p),y=Ske(h);s<o;s++)y[s]=n[s];for(;s<o+c;s++)y[s]=arguments[s-o+2];for(;s<h;s++)y[s]=n[s+p-c];return y},"toSpliced")});yke("toSpliced");var Fke=D(),Lke=it(),jke=oy();Fke({target:"Array",proto:!0,forced:!0},{uniqueBy:jke});Lke("uniqueBy");var Mke=D(),Bke=u1(),$ke=bt(),zke=Array;Mke({target:"Array",proto:!0},{with:i(function(e,r){return Bke($ke(this),zke,e,r)},"_with")});var Gke=D(),Hke=Or(),Q8=kt(),Z8=Ae(),Vke=be(),za=Wc(),e4=rt(),J8=Vke("toStringTag"),s1=i(function(){Hke(this,za)},"AsyncIterator");s1.prototype=za;Z8(za,J8)||Q8(za,J8,"AsyncIterator");(e4||!Z8(za,"constructor")||za.constructor===Object)&&Q8(za,"constructor",s1);Gke({global:!0,constructor:!0,forced:e4},{AsyncIterator:s1});var lqe=D(),cqe=l1();lqe({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:cqe});var pqe=D(),hqe=ce(),p4=te(),dqe=ot(),vqe=Xc(),yqe=xs(),mqe=$o(),gqe=mqe(function(t){var e=this;return new t(function(r,n){var a=i(function(s){e.done=!0,n(s)},"doneAndReject"),o=i(function u(){try{t.resolve(p4(hqe(e.next,e.iterator))).then(function(s){try{p4(s).done?(e.done=!0,r({done:!0,value:void 0})):e.remaining?(e.remaining--,u()):r({done:!1,value:s.value})}catch(c){a(c)}},a)}catch(s){a(s)}},"loop");o()})});pqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:i(function(e){return new gqe(dqe(this),{remaining:yqe(vqe(+e))})},"drop")});var bqe=D(),wqe=$a().every;bqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:i(function(e){return wqe(this,e)},"every")});var Oqe=D(),Sqe=ce(),_qe=de(),h4=te(),Pqe=ot(),Eqe=$o(),Rqe=Us(),Tqe=Eqe(function(t){var e=this,r=e.iterator,n=e.filterer;return new t(function(a,o){var u=i(function(h){e.done=!0,o(h)},"doneAndReject"),s=i(function(h){Rqe(r,u,h,u)},"ifAbruptCloseAsyncIterator"),c=i(function p(){try{t.resolve(h4(Sqe(e.next,r))).then(function(h){try{if(h4(h).done)e.done=!0,a({done:!0,value:void 0});else{var y=h.value;try{t.resolve(n(y)).then(function(m){m?a({done:!1,value:y}):p()},s)}catch(m){s(m)}}}catch(m){u(m)}},u)}catch(h){u(h)}},"loop");c()})});Oqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:i(function(e){return new Tqe(Pqe(this),{filterer:_qe(e)})},"filter")});var Aqe=D(),Iqe=$a().find;Aqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:i(function(e){return Iqe(this,e)},"find")});var kqe=D(),d4=ce(),v4=de(),ay=te(),qqe=ot(),xqe=$o(),Cqe=ty(),Fqe=Us(),Lqe=xqe(function(t){var e=this,r=e.iterator,n=e.mapper,a;return new t(function(o,u){var s=i(function(m){e.done=!0,u(m)},"doneAndReject"),c=i(function(m){Fqe(r,s,m,s)},"ifAbruptCloseAsyncIterator"),p=i(function(){try{t.resolve(ay(d4(e.next,r))).then(function(m){try{if(ay(m).done)e.done=!0,o({done:!0,value:void 0});else{var w=m.value;try{t.resolve(n(w)).then(function(_){try{e.innerIterator=a=Cqe(_),e.innerNext=v4(a.next),h()}catch(R){c(R)}},c)}catch(_){c(_)}}}catch(_){s(_)}},s)}catch(m){s(m)}},"outerLoop"),h=i(function(){if(a=e.innerIterator)try{t.resolve(ay(d4(e.innerNext,a))).then(function(m){try{ay(m).done?(e.innerIterator=e.innerNext=null,p()):o({done:!1,value:m.value})}catch(w){c(w)}},c)}catch(m){c(m)}else p()},"innerLoop");h()})});kqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:i(function(e){return new Lqe(qqe(this),{mapper:v4(e),innerIterator:null,innerNext:null})},"flatMap")});var jqe=D(),Nqe=$a().forEach;jqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:i(function(e){return Nqe(this,e)},"forEach")});var Mqe=D(),Bqe=xe(),$qe=rr(),zqe=Wc(),Gqe=ty(),Hqe=tn(),Vqe=ot(),Wqe=Hn(),Kqe=It(),Yqe=be(),Xqe=Kc(),Jqe=c1(),Qqe=Yqe("asyncIterator");Mqe({target:"AsyncIterator",stat:!0,forced:!0},{from:i(function(e){var r=Bqe(e),n=Kqe(r,Qqe),a;return n&&(a=Gqe(r,n),$qe(zqe,a))?a:(a===void 0&&(n=Wqe(r),n&&(a=new Xqe(Hqe(r,n)))),new Jqe(Vqe(a!==void 0?a:r)))},"from")});var Zqe=D(),e2e=l1();Zqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:e2e});var t2e=D(),r2e=ce(),n2e=de(),m4=te(),i2e=ot(),o2e=$o(),a2e=Us(),u2e=o2e(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(a,o){var u=i(function(p){e.done=!0,o(p)},"doneAndReject"),s=i(function(p){a2e(r,u,p,u)},"ifAbruptCloseAsyncIterator");t.resolve(m4(r2e(e.next,r))).then(function(c){try{if(m4(c).done)e.done=!0,a({done:!0,value:void 0});else{var p=c.value;try{t.resolve(n(p)).then(function(h){a({done:!1,value:h})},s)}catch(h){s(h)}}}catch(h){u(h)}},u)})});t2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:i(function(e){return new u2e(i2e(this),{mapper:n2e(e)})},"map")});var s2e=D(),l2e=ce(),c2e=de(),g4=te(),f2e=me(),p2e=ot(),h2e=Us(),f1=f2e("Promise"),d2e=TypeError;s2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=p2e(this),n=r.iterator,a=r.next,o=arguments.length<2,u=o?void 0:arguments[1];return c2e(e),new f1(function(s,c){var p=i(function(m){h2e(n,c,m,c)},"ifAbruptCloseAsyncIterator"),h=i(function y(){try{f1.resolve(g4(l2e(a,n))).then(function(m){try{if(g4(m).done)o?c(d2e("Reduce of empty iterator with no initial value")):s(u);else{var w=m.value;if(o)o=!1,u=w,y();else try{f1.resolve(e(u,w)).then(function(_){u=_,y()},p)}catch(_){p(_)}}}catch(_){c(_)}},c)}catch(m){c(m)}},"loop");h()})},"reduce")});var v2e=D(),y2e=$a().some;v2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:i(function(e){return y2e(this,e)},"some")});var m2e=D(),b4=ce(),g2e=te(),b2e=ot(),w2e=Xc(),O2e=xs(),S2e=$o(),_2e=S2e(function(t){var e=this,r=e.iterator,n;if(!e.remaining--){var a={done:!0,value:void 0};return e.done=!0,n=r.return,n!==void 0?t.resolve(b4(n,r,void 0)).then(function(){return a}):a}return t.resolve(b4(e.next,r)).then(function(o){return g2e(o).done?(e.done=!0,{done:!0,value:void 0}):{done:!1,value:o.value}}).then(null,function(o){throw e.done=!0,o})});m2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:i(function(e){return new _2e(b2e(this),{remaining:O2e(w2e(+e))})},"take")});var P2e=D(),E2e=$a().toArray;P2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:i(function(){return E2e(this,void 0,[])},"toArray")});var k2e=D(),q2e=d1();typeof BigInt=="function"&&k2e({target:"BigInt",stat:!0,forced:!0},{range:i(function(e,r,n){return new q2e(e,r,n,"bigint",BigInt(0),BigInt(1))},"range")});var N2e=D(),D2e=wr(),U2e=v1(),M2e=me(),I4=wt(),B2e=Object,$2e=i(function(){var e=M2e("Object","freeze");return e?e(I4(null)):I4(null)},"initializer");N2e({global:!0,forced:!0},{compositeKey:i(function(){return D2e(U2e,B2e,arguments).get("object",$2e)},"compositeKey")});var z2e=D(),G2e=v1(),k4=me(),H2e=wr();z2e({global:!0,forced:!0},{compositeSymbol:i(function(){return arguments.length==1&&typeof arguments[0]=="string"?k4("Symbol").for(arguments[0]):H2e(G2e,null,arguments).get("symbol",k4("Symbol"))},"compositeSymbol")});var V2e=D(),W2e=le(),K2e=Pe(),Y2e=Qu(),X2e=Ae(),J2e=Oe(),Q2e=Object.getOwnPropertyDescriptor,q4=/^\s*class\b/,Z2e=W2e(q4.exec),exe=i(function(e){try{if(!J2e||!Z2e(q4,Y2e(e)))return!1}catch(n){}var r=Q2e(e,"prototype");return!!r&&X2e(r,"writable")&&!r.writable},"isClassConstructor");V2e({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:i(function(e){return K2e(e)&&!exe(e)},"isCallable")});var txe=D(),rxe=_n();txe({target:"Function",stat:!0,forced:!0},{isConstructor:rxe});var nxe=D(),ixe=le(),oxe=de();nxe({target:"Function",proto:!0,forced:!0},{unThis:i(function(){return ixe(oxe(this))},"unThis")});var axe=D(),uxe=ve(),sxe=Or(),lxe=Pe(),C4=kt(),cxe=se(),F4=Ae(),fxe=be(),zo=us().IteratorPrototype,pxe=rt(),x4=fxe("toStringTag"),y1=uxe.Iterator,L4=pxe||!lxe(y1)||y1.prototype!==zo||!cxe(function(){y1({})}),m1=i(function(){sxe(this,zo)},"Iterator");F4(zo,x4)||C4(zo,x4,"Iterator");(L4||!F4(zo,"constructor")||zo.constructor===Object)&&C4(zo,"constructor",m1);m1.prototype=zo;axe({global:!0,constructor:!0,forced:L4},{Iterator:m1});var kxe=D(),qxe=g1();kxe({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:qxe});var xxe=D(),z4=ce(),G4=te(),Cxe=ot(),Fxe=Xc(),Lxe=xs(),jxe=Go(),Nxe=jxe(function(){for(var t=this.iterator,e=this.next,r,n;this.remaining;)if(this.remaining--,r=G4(z4(e,t)),n=this.done=!!r.done,n)return;if(r=G4(z4(e,t)),n=this.done=!!r.done,!n)return r.value});xxe({target:"Iterator",proto:!0,real:!0,forced:!0},{drop:i(function(e){return new Nxe(Cxe(this),{remaining:Lxe(Fxe(+e))})},"drop")});var Dxe=D(),Uxe=we(),Mxe=de(),Bxe=ot();Dxe({target:"Iterator",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=Bxe(this);return Mxe(e),!Uxe(r,function(n,a){if(!e(n))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"every")});var $xe=D(),zxe=ce(),Gxe=de(),Hxe=te(),Vxe=ot(),Wxe=Go(),Kxe=Nd(),Yxe=Wxe(function(){for(var t=this.iterator,e=this.filterer,r=this.next,n,a,o;;){if(n=Hxe(zxe(r,t)),a=this.done=!!n.done,a)return;if(o=n.value,Kxe(t,e,o))return o}});$xe({target:"Iterator",proto:!0,real:!0,forced:!0},{filter:i(function(e){return new Yxe(Vxe(this),{filterer:Gxe(e)})},"filter")});var Xxe=D(),Jxe=we(),Qxe=de(),Zxe=ot();Xxe({target:"Iterator",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=Zxe(this);return Qxe(e),Jxe(r,function(n,a){if(e(n))return a(n)},{IS_RECORD:!0,INTERRUPTED:!0}).result},"find")});var eCe=D(),b1=ce(),V4=de(),w1=te(),tCe=ot(),rCe=Hn(),nCe=Go(),H4=Aa(),iCe=TypeError,oCe=nCe(function(){for(var t=this.iterator,e=this.mapper,r,n,a,o;;){if(o=this.innerIterator)try{if(r=w1(b1(this.innerNext,o)),!r.done)return r.value;this.innerIterator=this.innerNext=null}catch(u){H4(t,"throw",u)}if(r=w1(b1(this.next,t)),this.done=!!r.done)return;try{if(n=e(r.value),a=rCe(n),!a)throw iCe(".flatMap callback should return an iterable object");this.innerIterator=o=w1(b1(a,n)),this.innerNext=V4(o.next)}catch(u){H4(t,"throw",u)}}});eCe({target:"Iterator",proto:!0,real:!0,forced:!0},{flatMap:i(function(e){return new oCe(tCe(this),{mapper:V4(e),innerIterator:null,innerNext:null})},"flatMap")});var aCe=D(),uCe=we(),sCe=ot();aCe({target:"Iterator",proto:!0,real:!0,forced:!0},{forEach:i(function(e){uCe(sCe(this),e,{IS_RECORD:!0})},"forEach")});var lCe=D(),cCe=ce(),fCe=xe(),pCe=rr(),hCe=us().IteratorPrototype,dCe=Go(),vCe=tn(),yCe=ot(),mCe=Hn(),gCe=dCe(function(){return cCe(this.next,this.iterator)},!0);lCe({target:"Iterator",stat:!0,forced:!0},{from:i(function(e){var r=fCe(e),n=mCe(r),a;if(n){if(a=vCe(r,n),pCe(hCe,a))return a}else a=r;return new gCe(yCe(a))},"from")});var bCe=D(),wCe=g1();bCe({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:wCe});var OCe=D(),SCe=ce(),_Ce=de(),PCe=te(),ECe=ot(),RCe=Go(),TCe=Nd(),ACe=RCe(function(){var t=this.iterator,e=PCe(SCe(this.next,t)),r=this.done=!!e.done;if(!r)return TCe(t,this.mapper,e.value)});OCe({target:"Iterator",proto:!0,real:!0,forced:!0},{map:i(function(e){return new ACe(ECe(this),{mapper:_Ce(e)})},"map")});var ICe=D(),kCe=we(),qCe=de(),xCe=ot(),CCe=TypeError;ICe({target:"Iterator",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=xCe(this);qCe(e);var n=arguments.length<2,a=n?void 0:arguments[1];if(kCe(r,function(o){n?(n=!1,a=o):a=e(a,o)},{IS_RECORD:!0}),n)throw CCe("Reduce of empty iterator with no initial value");return a},"reduce")});var FCe=D(),LCe=we(),jCe=de(),NCe=ot();FCe({target:"Iterator",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=NCe(this);return jCe(e),LCe(r,function(n,a){if(e(n))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"some")});var DCe=D(),UCe=ce(),MCe=te(),BCe=ot(),$Ce=Xc(),zCe=xs(),GCe=Go(),HCe=Aa(),VCe=GCe(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,HCe(t,"normal",void 0);var e=MCe(UCe(this.next,t)),r=this.done=!!e.done;if(!r)return e.value});DCe({target:"Iterator",proto:!0,real:!0,forced:!0},{take:i(function(e){return new VCe(BCe(this),{remaining:zCe($Ce(+e))})},"take")});var WCe=D(),KCe=we(),YCe=ot(),XCe=[].push;WCe({target:"Iterator",proto:!0,real:!0,forced:!0},{toArray:i(function(){var e=[];return KCe(YCe(this),XCe,{that:e,IS_RECORD:!0}),e},"toArray")});var JCe=D(),QCe=Kc(),ZCe=c1(),eFe=ot();JCe({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:i(function(){return new ZCe(eFe(new QCe(this)))},"toAsync")});var iFe=D(),oFe=Zc();iFe({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:oFe});var uFe=D(),sFe=S1();uFe({target:"Map",proto:!0,real:!0,forced:!0},{emplace:sFe});var cFe=D(),fFe=te(),pFe=Xe(),hFe=Rn(),dFe=we();cFe({target:"Map",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=fFe(this),n=hFe(r),a=pFe(e,arguments.length>1?arguments[1]:void 0);return!dFe(n,function(o,u,s){if(!a(u,o,r))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"every")});var vFe=D(),yFe=me(),mFe=Xe(),gFe=ce(),bFe=de(),wFe=te(),OFe=nr(),SFe=Rn(),_Fe=we();vFe({target:"Map",proto:!0,real:!0,forced:!0},{filter:i(function(e){var r=wFe(this),n=SFe(r),a=mFe(e,arguments.length>1?arguments[1]:void 0),o=new(OFe(r,yFe("Map"))),u=bFe(o.set);return _Fe(n,function(s,c){a(c,s,r)&&gFe(u,o,s,c)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o},"filter")});var PFe=D(),EFe=te(),RFe=Xe(),TFe=Rn(),AFe=we();PFe({target:"Map",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=EFe(this),n=TFe(r),a=RFe(e,arguments.length>1?arguments[1]:void 0);return AFe(n,function(o,u,s){if(a(u,o,r))return s(u)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"find")});var IFe=D(),kFe=te(),qFe=Xe(),xFe=Rn(),CFe=we();IFe({target:"Map",proto:!0,real:!0,forced:!0},{findKey:i(function(e){var r=kFe(this),n=xFe(r),a=qFe(e,arguments.length>1?arguments[1]:void 0);return CFe(n,function(o,u,s){if(a(u,o,r))return s(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"findKey")});var DFe=D(),UFe=ef();DFe({target:"Map",stat:!0,forced:!0},{from:UFe});var MFe=D(),_1=ce(),BFe=le(),cy=de(),$Fe=tn(),zFe=we(),GFe=BFe([].push);MFe({target:"Map",stat:!0,forced:!0},{groupBy:i(function(e,r){cy(r);var n=$Fe(e),a=new this,o=cy(a.has),u=cy(a.get),s=cy(a.set);return zFe(n,function(c){var p=r(c);_1(o,a,p)?GFe(_1(u,a,p),c):_1(s,a,p,[c])},{IS_ITERATOR:!0}),a},"groupBy")});var HFe=D(),VFe=te(),WFe=Rn(),KFe=e6(),YFe=we();HFe({target:"Map",proto:!0,real:!0,forced:!0},{includes:i(function(e){return YFe(WFe(VFe(this)),function(r,n,a){if(KFe(n,e))return a()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"includes")});var XFe=D(),JFe=ce(),QFe=we(),t6=de();XFe({target:"Map",stat:!0,forced:!0},{keyBy:i(function(e,r){var n=new this;t6(r);var a=t6(n.set);return QFe(e,function(o){JFe(a,n,r(o),o)}),n},"keyBy")});var ZFe=D(),eLe=te(),tLe=Rn(),rLe=we();ZFe({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:i(function(e){return rLe(tLe(eLe(this)),function(r,n,a){if(n===e)return a(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"keyOf")});var nLe=D(),iLe=me(),oLe=Xe(),aLe=ce(),uLe=de(),sLe=te(),lLe=nr(),cLe=Rn(),fLe=we();nLe({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:i(function(e){var r=sLe(this),n=cLe(r),a=oLe(e,arguments.length>1?arguments[1]:void 0),o=new(lLe(r,iLe("Map"))),u=uLe(o.set);return fLe(n,function(s,c){aLe(u,o,a(c,s,r),c)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o},"mapKeys")});var pLe=D(),hLe=me(),dLe=Xe(),vLe=ce(),yLe=de(),mLe=te(),gLe=nr(),bLe=Rn(),wLe=we();pLe({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:i(function(e){var r=mLe(this),n=bLe(r),a=dLe(e,arguments.length>1?arguments[1]:void 0),o=new(gLe(r,hLe("Map"))),u=yLe(o.set);return wLe(n,function(s,c){vLe(u,o,s,a(c,s,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o},"mapValues")});var OLe=D(),SLe=de(),_Le=te(),PLe=we();OLe({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:i(function(e){for(var r=_Le(this),n=SLe(r.set),a=arguments.length,o=0;o<a;)PLe(arguments[o++],n,{that:r,AS_ENTRIES:!0});return r},"merge")});var RLe=D(),TLe=tf();RLe({target:"Map",stat:!0,forced:!0},{of:TLe});var ALe=D(),ILe=te(),kLe=de(),qLe=Rn(),xLe=we(),CLe=TypeError;ALe({target:"Map",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=ILe(this),n=qLe(r),a=arguments.length<2,o=a?void 0:arguments[1];if(kLe(e),xLe(n,function(u,s){a?(a=!1,o=s):o=e(o,s,u,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a)throw CLe("Reduce of empty map with no initial value");return o},"reduce")});var FLe=D(),LLe=te(),jLe=Xe(),NLe=Rn(),DLe=we();FLe({target:"Map",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=LLe(this),n=NLe(r),a=jLe(e,arguments.length>1?arguments[1]:void 0);return DLe(n,function(o,u,s){if(a(u,o,r))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"some")});var ULe=D(),P1=ce(),MLe=te(),rf=de(),BLe=TypeError;ULe({target:"Map",proto:!0,real:!0,forced:!0},{update:i(function(e,r){var n=MLe(this),a=rf(n.get),o=rf(n.has),u=rf(n.set),s=arguments.length;rf(r);var c=P1(o,n,e);if(!c&&s<3)throw BLe("Updating absent value");var p=c?P1(a,n,e):rf(s>2?arguments[2]:void 0)(e,n);return P1(u,n,e,r(p,e,n)),n},"update")});var GLe=D(),HLe=hy();GLe({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:HLe});var VLe=D(),WLe=hy();VLe({target:"Map",proto:!0,real:!0,forced:!0},{upsert:WLe});var KLe=D(),YLe=Math.min,XLe=Math.max;KLe({target:"Math",stat:!0,forced:!0},{clamp:i(function(e,r,n){return YLe(n,XLe(r,e))},"clamp")});var JLe=D();JLe({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180});var QLe=D(),ZLe=180/Math.PI;QLe({target:"Math",stat:!0,forced:!0},{degrees:i(function(e){return e*ZLe},"degrees")});var eje=D(),tje=R1(),rje=IO();eje({target:"Math",stat:!0,forced:!0},{fscale:i(function(e,r,n,a,o){return rje(tje(e,r,n,a,o))},"fscale")});var nje=D();nje({target:"Math",stat:!0,forced:!0},{iaddh:i(function(e,r,n,a){var o=e>>>0,u=r>>>0,s=n>>>0;return u+(a>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0},"iaddh")});var ije=D();ije({target:"Math",stat:!0,forced:!0},{imulh:i(function(e,r){var n=65535,a=+e,o=+r,u=a&n,s=o&n,c=a>>16,p=o>>16,h=(c*s>>>0)+(u*s>>>16);return c*p+(h>>16)+((u*p>>>0)+(h&n)>>16)},"imulh")});var oje=D();oje({target:"Math",stat:!0,forced:!0},{isubh:i(function(e,r,n,a){var o=e>>>0,u=r>>>0,s=n>>>0;return u-(a>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0},"isubh")});var aje=D();aje({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI});var uje=D(),sje=Math.PI/180;uje({target:"Math",stat:!0,forced:!0},{radians:i(function(e){return e*sje},"radians")});var lje=D(),cje=R1();lje({target:"Math",stat:!0,forced:!0},{scale:cje});var fje=D(),pje=te(),hje=jO(),dje=To(),o6=Ye(),a6="Seeded Random",u6=a6+" Generator",vje='Math.seededPRNG() argument should have a "seed" field with a finite value.',yje=o6.set,mje=o6.getterFor(u6),gje=TypeError,bje=dje(i(function(e){yje(this,{type:u6,seed:e%2147483647})},"SeededRandomGenerator"),a6,i(function(){var e=mje(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}},"next"));fje({target:"Math",stat:!0,forced:!0},{seededPRNG:i(function(e){var r=pje(e).seed;if(!hje(r))throw gje(vje);return new bje(r)},"seededPRNG")});var wje=D();wje({target:"Math",stat:!0,forced:!0},{signbit:i(function(e){var r=+e;return r==r&&r==0?1/r==-1/0:r<0},"signbit")});var Oje=D();Oje({target:"Math",stat:!0,forced:!0},{umulh:i(function(e,r){var n=65535,a=+e,o=+r,u=a&n,s=o&n,c=a>>>16,p=o>>>16,h=(c*s>>>0)+(u*s>>>16);return c*p+(h>>>16)+((u*p>>>0)+(h&n)>>>16)},"umulh")});var Sje=D(),vy=le(),_je=ut(),Pje=NO(),dy="Invalid number representation",Eje="Invalid radix",Rje=RangeError,T1=SyntaxError,Tje=TypeError,s6=/^[\da-z]+$/,Aje=vy("".charAt),Ije=vy(s6.exec),kje=vy(1 .toString),qje=vy("".slice);Sje({target:"Number",stat:!0,forced:!0},{fromString:i(function(e,r){var n=1,a,o;if(typeof e!="string")throw Tje(dy);if(!e.length||Aje(e,0)=="-"&&(n=-1,e=qje(e,1),!e.length))throw T1(dy);if(a=r===void 0?10:_je(r),a<2||a>36)throw Rje(Eje);if(!Ije(s6,e)||kje(o=Pje(e,a),a)!==e)throw T1(dy);return n*o},"fromString")});var xje=D(),Cje=d1();xje({target:"Number",stat:!0,forced:!0},{range:i(function(e,r,n){return new Cje(e,r,n,"number",0,1)},"range")});var Mje=D(),Bje=yy();Mje({target:"Object",stat:!0,forced:!0},{iterateEntries:i(function(e){return new Bje(e,"entries")},"iterateEntries")});var $je=D(),zje=yy();$je({target:"Object",stat:!0,forced:!0},{iterateKeys:i(function(e){return new zje(e,"keys")},"iterateKeys")});var Gje=D(),Hje=yy();Gje({target:"Object",stat:!0,forced:!0},{iterateValues:i(function(e){return new Hje(e,"values")},"iterateValues")});_6();E6();T6();var bNe=D(),wNe=Ai(),ONe=jo();bNe({target:"Promise",stat:!0,forced:!0},{try:i(function(e){var r=wNe.f(this),n=ONe(e);return(n.error?r.reject:r.resolve)(n.value),r.promise},"_try")});var qNe=D(),x6=Qn(),xNe=te(),CNe=x6.toKey,FNe=x6.set;qNe({target:"Reflect",stat:!0},{defineMetadata:i(function(e,r,n){var a=arguments.length<4?void 0:CNe(arguments[3]);FNe(e,r,xNe(n),a)},"defineMetadata")});var LNe=D(),N1=Qn(),jNe=te(),NNe=N1.toKey,DNe=N1.getMap,C6=N1.store;LNe({target:"Reflect",stat:!0},{deleteMetadata:i(function(e,r){var n=arguments.length<3?void 0:NNe(arguments[2]),a=DNe(jNe(r),n,!1);if(a===void 0||!a.delete(e))return!1;if(a.size)return!0;var o=C6.get(r);return o.delete(n),!!o.size||C6.delete(r)},"deleteMetadata")});var UNe=D(),D1=Qn(),MNe=te(),BNe=Bt(),$Ne=D1.has,zNe=D1.get,GNe=D1.toKey,HNe=i(function t(e,r,n){var a=$Ne(e,r,n);if(a)return zNe(e,r,n);var o=BNe(r);return o!==null?t(e,o,n):void 0},"ordinaryGetMetadata");UNe({target:"Reflect",stat:!0},{getMetadata:i(function(e,r){var n=arguments.length<3?void 0:GNe(arguments[2]);return HNe(e,MNe(r),n)},"getMetadata")});var VNe=D(),F6=le(),L6=Qn(),WNe=te(),KNe=Bt(),YNe=oy(),XNe=F6(YNe),JNe=F6([].concat),QNe=L6.keys,ZNe=L6.toKey,eDe=i(function t(e,r){var n=QNe(e,r),a=KNe(e);if(a===null)return n;var o=t(a,r);return o.length?n.length?XNe(JNe(n,o)):o:n},"ordinaryMetadataKeys");VNe({target:"Reflect",stat:!0},{getMetadataKeys:i(function(e){var r=arguments.length<2?void 0:ZNe(arguments[1]);return eDe(WNe(e),r)},"getMetadataKeys")});var tDe=D(),j6=Qn(),rDe=te(),nDe=j6.get,iDe=j6.toKey;tDe({target:"Reflect",stat:!0},{getOwnMetadata:i(function(e,r){var n=arguments.length<3?void 0:iDe(arguments[2]);return nDe(e,rDe(r),n)},"getOwnMetadata")});var oDe=D(),N6=Qn(),aDe=te(),uDe=N6.keys,sDe=N6.toKey;oDe({target:"Reflect",stat:!0},{getOwnMetadataKeys:i(function(e){var r=arguments.length<2?void 0:sDe(arguments[1]);return uDe(aDe(e),r)},"getOwnMetadataKeys")});var lDe=D(),D6=Qn(),cDe=te(),fDe=Bt(),pDe=D6.has,hDe=D6.toKey,dDe=i(function t(e,r,n){var a=pDe(e,r,n);if(a)return!0;var o=fDe(r);return o!==null?t(e,o,n):!1},"ordinaryHasMetadata");lDe({target:"Reflect",stat:!0},{hasMetadata:i(function(e,r){var n=arguments.length<3?void 0:hDe(arguments[2]);return dDe(e,cDe(r),n)},"hasMetadata")});var vDe=D(),U6=Qn(),yDe=te(),mDe=U6.has,gDe=U6.toKey;vDe({target:"Reflect",stat:!0},{hasOwnMetadata:i(function(e,r){var n=arguments.length<3?void 0:gDe(arguments[2]);return mDe(e,yDe(r),n)},"hasOwnMetadata")});var bDe=D(),M6=Qn(),wDe=te(),ODe=M6.toKey,SDe=M6.set;bDe({target:"Reflect",stat:!0},{metadata:i(function(e,r){return i(function(a,o){SDe(e,r,wDe(a),ODe(o))},"decorator")},"metadata")});var RDe=D(),TDe=U1();RDe({target:"Set",proto:!0,real:!0,forced:!0},{addAll:TDe});var ADe=D(),IDe=Zc();ADe({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:IDe});var kDe=D(),qDe=me(),xDe=ce(),CDe=de(),FDe=te(),LDe=nr(),jDe=we();kDe({target:"Set",proto:!0,real:!0,forced:!0},{difference:i(function(e){var r=FDe(this),n=new(LDe(r,qDe("Set")))(r),a=CDe(n.delete);return jDe(e,function(o){xDe(a,n,o)}),n},"difference")});var DDe=D(),UDe=te(),MDe=Xe(),BDe=Ho(),$De=we();DDe({target:"Set",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=UDe(this),n=BDe(r),a=MDe(e,arguments.length>1?arguments[1]:void 0);return!$De(n,function(o,u){if(!a(o,o,r))return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"every")});var zDe=D(),GDe=me(),HDe=ce(),VDe=de(),WDe=te(),KDe=Xe(),YDe=nr(),XDe=Ho(),JDe=we();zDe({target:"Set",proto:!0,real:!0,forced:!0},{filter:i(function(e){var r=WDe(this),n=XDe(r),a=KDe(e,arguments.length>1?arguments[1]:void 0),o=new(YDe(r,GDe("Set"))),u=VDe(o.add);return JDe(n,function(s){a(s,s,r)&&HDe(u,o,s)},{IS_ITERATOR:!0}),o},"filter")});var QDe=D(),ZDe=te(),e3e=Xe(),t3e=Ho(),r3e=we();QDe({target:"Set",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=ZDe(this),n=t3e(r),a=e3e(e,arguments.length>1?arguments[1]:void 0);return r3e(n,function(o,u){if(a(o,o,r))return u(o)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result},"find")});var n3e=D(),i3e=ef();n3e({target:"Set",stat:!0,forced:!0},{from:i3e});var o3e=D(),a3e=me(),z6=ce(),G6=de(),u3e=te(),s3e=nr(),l3e=we();o3e({target:"Set",proto:!0,real:!0,forced:!0},{intersection:i(function(e){var r=u3e(this),n=new(s3e(r,a3e("Set"))),a=G6(r.has),o=G6(n.add);return l3e(e,function(u){z6(a,r,u)&&z6(o,n,u)}),n},"intersection")});var c3e=D(),f3e=ce(),p3e=de(),h3e=te(),d3e=we();c3e({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:i(function(e){var r=h3e(this),n=p3e(r.has);return!d3e(e,function(a,o){if(f3e(n,r,a)===!0)return o()},{INTERRUPTED:!0}).stopped},"isDisjointFrom")});var v3e=D(),y3e=me(),m3e=ce(),g3e=de(),b3e=Pe(),w3e=te(),O3e=tn(),S3e=we();v3e({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:i(function(e){var r=O3e(this),n=w3e(e),a=n.has;return b3e(a)||(n=new(y3e("Set"))(e),a=g3e(n.has)),!S3e(r,function(o,u){if(m3e(a,n,o)===!1)return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"isSubsetOf")});var _3e=D(),P3e=ce(),E3e=de(),R3e=te(),T3e=we();_3e({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:i(function(e){var r=R3e(this),n=E3e(r.has);return!T3e(e,function(a,o){if(P3e(n,r,a)===!1)return o()},{INTERRUPTED:!0}).stopped},"isSupersetOf")});var A3e=D(),I3e=le(),k3e=te(),q3e=je(),x3e=Ho(),C3e=we(),F3e=I3e([].join),L3e=[].push;A3e({target:"Set",proto:!0,real:!0,forced:!0},{join:i(function(e){var r=k3e(this),n=x3e(r),a=e===void 0?",":q3e(e),o=[];return C3e(n,L3e,{that:o,IS_ITERATOR:!0}),F3e(o,a)},"join")});var j3e=D(),N3e=me(),D3e=Xe(),U3e=ce(),M3e=de(),B3e=te(),$3e=nr(),z3e=Ho(),G3e=we();j3e({target:"Set",proto:!0,real:!0,forced:!0},{map:i(function(e){var r=B3e(this),n=z3e(r),a=D3e(e,arguments.length>1?arguments[1]:void 0),o=new($3e(r,N3e("Set"))),u=M3e(o.add);return G3e(n,function(s){U3e(u,o,a(s,s,r))},{IS_ITERATOR:!0}),o},"map")});var H3e=D(),V3e=tf();H3e({target:"Set",stat:!0,forced:!0},{of:V3e});var W3e=D(),K3e=de(),Y3e=te(),X3e=Ho(),J3e=we(),Q3e=TypeError;W3e({target:"Set",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=Y3e(this),n=X3e(r),a=arguments.length<2,o=a?void 0:arguments[1];if(K3e(e),J3e(n,function(u){a?(a=!1,o=u):o=e(o,u,u,r)},{IS_ITERATOR:!0}),a)throw Q3e("Reduce of empty set with no initial value");return o},"reduce")});var Z3e=D(),eUe=te(),tUe=Xe(),rUe=Ho(),nUe=we();Z3e({target:"Set",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=eUe(this),n=rUe(r),a=tUe(e,arguments.length>1?arguments[1]:void 0);return nUe(n,function(o,u){if(a(o,o,r))return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"some")});var iUe=D(),oUe=me(),H6=ce(),V6=de(),aUe=te(),uUe=nr(),sUe=we();iUe({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:i(function(e){var r=aUe(this),n=new(uUe(r,oUe("Set")))(r),a=V6(n.delete),o=V6(n.add);return sUe(e,function(u){H6(a,n,u)||H6(o,n,u)}),n},"symmetricDifference")});var lUe=D(),cUe=me(),fUe=de(),pUe=te(),hUe=nr(),dUe=we();lUe({target:"Set",proto:!0,real:!0,forced:!0},{union:i(function(e){var r=pUe(this),n=new(hUe(r,cUe("Set")))(r);return dUe(e,fUe(n.add),{that:n}),n},"union")});var vUe=D(),yUe=Ma().charAt,mUe=gt(),gUe=ut(),bUe=je();vUe({target:"String",proto:!0,forced:!0},{at:i(function(e){var r=bUe(mUe(this)),n=r.length,a=gUe(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:yUe(r,o)},"at")});var wUe=D(),Y6=le(),OUe=bt(),W6=je(),SUe=Le(),_Ue=TypeError,X6=Array.prototype,K6=Y6(X6.push),PUe=Y6(X6.join);wUe({target:"String",stat:!0,forced:!0},{cooked:i(function(e){for(var r=OUe(e),n=SUe(r),a=arguments.length,o=[],u=0;n>u;){var s=r[u++];if(s===void 0)throw _Ue("Incorrect template");if(K6(o,W6(s)),u===n)return PUe(o,"");u<a&&K6(o,W6(arguments[u]))}},"cooked")});var EUe=D(),RUe=To(),TUe=gt(),AUe=je(),J6=Ye(),Q6=Ma(),IUe=Q6.codeAt,kUe=Q6.charAt,Z6="String Iterator",qUe=J6.set,xUe=J6.getterFor(Z6),CUe=RUe(i(function(e){qUe(this,{type:Z6,string:e,index:0})},"StringIterator"),"String",i(function(){var e=xUe(this),r=e.string,n=e.index,a;return n>=r.length?{value:void 0,done:!0}:(a=kUe(r,n),e.index+=a.length,{value:{codePoint:IUe(a,0),position:n},done:!1})},"next"));EUe({target:"String",proto:!0,forced:!0},{codePoints:i(function(){return new CUe(AUe(TUe(this)))},"codePoints")});var FUe=st();FUe("asyncDispose");var LUe=st();LUe("dispose");var jUe=st();jUe("matcher");var NUe=st();NUe("metadata");var DUe=st();DUe("metadataKey");var UUe=st();UUe("observable");var MUe=st();MUe("patternMatch");var BUe=st();BUe("replaceAll");var $Ue=me(),zUe=ds(),GUe=r1(),e7=_e(),HUe=Fs(),VUe=e7.aTypedArrayConstructor,WUe=e7.exportTypedArrayStaticMethod;WUe("fromAsync",i(function(e){var r=this,n=arguments.length,a=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new($Ue("Promise"))(function(u){zUe(r),u(GUe(e,a,o))}).then(function(u){return HUe(VUe(r),u)})},"fromAsync"),!0);var t7=_e(),KUe=Ot().filterReject,YUe=zc(),XUe=t7.aTypedArray,JUe=t7.exportTypedArrayMethod;JUe("filterOut",i(function(e){var r=KUe(XUe(this),e,arguments.length>1?arguments[1]:void 0);return YUe(this,r)},"filterOut"),!0);var r7=_e(),QUe=Ot().filterReject,ZUe=zc(),eMe=r7.aTypedArray,tMe=r7.exportTypedArrayMethod;tMe("filterReject",i(function(e){var r=QUe(eMe(this),e,arguments.length>1?arguments[1]:void 0);return ZUe(this,r)},"filterReject"),!0);var n7=_e(),rMe=ry(),nMe=Ls(),iMe=n7.aTypedArray,oMe=n7.exportTypedArrayMethod;oMe("groupBy",i(function(e){var r=arguments.length>1?arguments[1]:void 0;return rMe(iMe(this),e,r,nMe)},"groupBy"),!0);var aMe=o1(),M1=_e(),uMe=M1.aTypedArray,sMe=M1.exportTypedArrayMethod,lMe=M1.getTypedArrayConstructor;sMe("toReversed",i(function(){return aMe(uMe(this),lMe(this))},"toReversed"));var Oy=_e(),cMe=le(),fMe=de(),pMe=Fs(),hMe=Oy.aTypedArray,dMe=Oy.getTypedArrayConstructor,vMe=Oy.exportTypedArrayMethod,yMe=cMe(Oy.TypedArrayPrototype.sort);vMe("toSorted",i(function(e){e!==void 0&&fMe(e);var r=hMe(this),n=pMe(dMe(r),r);return yMe(n,e)},"toSorted"));var B1=_e(),mMe=Le(),gMe=On(),bMe=ut(),wMe=se(),OMe=B1.aTypedArray,SMe=B1.getTypedArrayConstructor,_Me=B1.exportTypedArrayMethod,PMe=Math.max,EMe=Math.min,RMe=!wMe(function(){var t=new Int8Array([1]),e=t.toSpliced(1,0,{valueOf:i(function(){return t[0]=2,3},"valueOf")});return e[0]!==2||e[1]!==3});_Me("toSpliced",i(function(e,r){var n=OMe(this),a=SMe(n),o=mMe(n),u=gMe(e,o),s=arguments.length,c=0,p,h,y,m,w;if(s===0)p=h=0;else if(s===1)p=0,h=o-u;else if(h=EMe(PMe(bMe(r),0),o-u),p=s-2,p){y=new a(p);for(var _=2;_<s;_++)y[_-2]=arguments[_]}for(m=o+p-h,w=new a(m);c<u;c++)w[c]=n[c];for(;c<u+p;c++)w[c]=y[c-u];for(;c<m;c++)w[c]=n[c+h-p];return w},"toSpliced"),!RMe);var TMe=le(),i7=_e(),AMe=oy(),IMe=zc(),kMe=i7.aTypedArray,qMe=i7.exportTypedArrayMethod,xMe=TMe(AMe);qMe("uniqueBy",i(function(e){return IMe(this,xMe(kMe(this),e))},"uniqueBy"),!0);var jMe=u1(),$1=_e(),NMe=a7(),DMe=ut(),UMe=C_(),MMe=$1.aTypedArray,BMe=$1.getTypedArrayConstructor,$Me=$1.exportTypedArrayMethod,zMe=!!function(){try{new Int8Array(1).with(2,{valueOf:i(function(){throw 8},"valueOf")})}catch(t){return t===8}}();$Me("with",i(function(e,r){var n=MMe(this),a=DMe(e),o=NMe(n)?UMe(r):+r;return jMe(n,BMe(n),a,o)},"_with"),!zMe);var GMe=D(),HMe=Zc();GMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:HMe});var VMe=D(),WMe=ef();VMe({target:"WeakMap",stat:!0,forced:!0},{from:WMe});var KMe=D(),YMe=tf();KMe({target:"WeakMap",stat:!0,forced:!0},{of:YMe});var XMe=D(),JMe=S1();XMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:JMe});var QMe=D(),ZMe=hy();QMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:ZMe});var e5e=D(),t5e=U1();e5e({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:t5e});var r5e=D(),n5e=Zc();r5e({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:n5e});var i5e=D(),o5e=ef();i5e({target:"WeakSet",stat:!0,forced:!0},{from:o5e});var a5e=D(),u5e=tf();a5e({target:"WeakSet",stat:!0,forced:!0},{of:u5e});var s5e=D(),h7=me(),H1=le(),V1=se(),l5e=je(),c5e=Ae(),f5e=Lo(),G1=z1().ctoi,d7=/[^\d+/a-z]/i,p5e=/[\t\n\f\r ]+/g,h5e=/[=]+$/,lf=h7("atob"),d5e=String.fromCharCode,v5e=H1("".charAt),c7=H1("".replace),y5e=H1(d7.exec),W1=V1(function(){return lf(" ")!==""}),K1=!V1(function(){lf("a")}),f7=!W1&&!K1&&!V1(function(){lf()}),p7=!W1&&!K1&&lf.length!==1;s5e({global:!0,enumerable:!0,forced:W1||K1||f7||p7},{atob:i(function(e){if(f5e(arguments.length,1),f7||p7)return lf(e);var r=c7(l5e(e),p5e,""),n="",a=0,o=0,u,s;if(r.length%4==0&&(r=c7(r,h5e,"")),r.length%4==1||y5e(d7,r))throw new(h7("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;u=v5e(r,a++);)c5e(G1,u)&&(s=o%4?s*64+G1[u]:G1[u],o++%4&&(n+=d5e(255&s>>(-2*o&6))));return n},"atob")});var m5e=D(),w7=me(),O7=le(),S7=se(),v7=je(),g5e=Lo(),b5e=z1().itoc,Ha=w7("btoa"),y7=O7("".charAt),w5e=O7("".charCodeAt),m7=!!Ha&&!S7(function(){Ha()}),g7=!!Ha&&S7(function(){return Ha(null)!=="bnVsbA=="}),b7=!!Ha&&Ha.length!==1;m5e({global:!0,enumerable:!0,forced:m7||g7||b7},{btoa:i(function(e){if(g5e(arguments.length,1),m7||g7||b7)return Ha(v7(e));for(var r=v7(e),n="",a=0,o=b5e,u,s;y7(r,a)||(o="=",a%1);){if(s=w5e(r,a+=3/4),s>255)throw new(w7("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|s,n+=y7(o,63&u>>8-a%1*8)}return n},"btoa")});var A7=ve(),I7=Y1(),E5e=J1(),Q1=T7(),R5e=kt(),k7=i(function(e){if(e&&e.forEach!==Q1)try{R5e(e,"forEach",Q1)}catch(r){e.forEach=Q1}},"handlePrototype");for(Sy in I7)I7[Sy]&&k7(A7[Sy]&&A7[Sy].prototype);var Sy;k7(E5e);var q7=ve(),C7=Y1(),T5e=J1(),cf=dc(),Z1=kt(),F7=be(),eP=F7("iterator"),x7=F7("toStringTag"),tP=cf.values,L7=i(function(e,r){if(e){if(e[eP]!==tP)try{Z1(e,eP,tP)}catch(a){e[eP]=tP}if(e[x7]||Z1(e,x7,r),C7[r]){for(var n in cf)if(e[n]!==cf[n])try{Z1(e,n,cf[n])}catch(a){e[n]=cf[n]}}}},"handlePrototype");for(_y in C7)L7(q7[_y]&&q7[_y].prototype,_y);var _y;L7(T5e,"DOMTokenList");var F5e=D(),L5e=N7(),Ty=me(),sP=se(),j5e=wt(),lP=Cr(),Ay=We().f,N5e=nt(),Ey=Ii(),Ry=Ae(),D5e=Or(),U5e=te(),G7=M7(),$7=is(),$s=rP(),M5e=sc(),H7=Ye(),cP=Oe(),V7=rt(),zs="DOMException",uP="DATA_CLONE_ERR",ky=Ty("Error"),xi=Ty(zs)||function(){try{var t=Ty("MessageChannel")||L5e("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(e){if(e.name==uP&&e.code==25)return e.constructor}}(),B5e=xi&&xi.prototype,W7=ky.prototype,$5e=H7.set,z5e=H7.getterFor(zs),G5e="stack"in ky(zs),K7=i(function(e){return Ry($s,e)&&$s[e].m?$s[e].c:0},"codeFor"),fP=i(function(){D5e(this,pf);var e=arguments.length,r=$7(e<1?void 0:arguments[0]),n=$7(e<2?void 0:arguments[1],"Error"),a=K7(n);if($5e(this,{type:zs,name:n,message:r,code:a}),cP||(this.name=n,this.message=r,this.code=a),G5e){var o=ky(r);o.name=zs,Ay(this,"stack",lP(1,M5e(o.stack,1)))}},"DOMException"),pf=fP.prototype=j5e(W7),Y7=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),nP=i(function(e){return Y7(function(){return z5e(this)[e]})},"getterFor");cP&&(Ey(pf,"code",nP("code")),Ey(pf,"message",nP("message")),Ey(pf,"name",nP("name")));Ay(pf,"constructor",lP(1,fP));var qy=sP(function(){return!(new xi instanceof ky)}),X7=qy||sP(function(){return W7.toString!==G7||String(new xi(1,2))!=="2: 1"}),J7=qy||sP(function(){return new xi(1,"DataCloneError").code!==25}),H5e=qy||xi[uP]!==25||B5e[uP]!==25,z7=V7?X7||J7||H5e:qy;F5e({global:!0,constructor:!0,forced:z7},{DOMException:z7?fP:xi});var hf=Ty(zs),Iy=hf.prototype;X7&&(V7||xi===hf)&&N5e(Iy,"toString",G7);J7&&cP&&xi===hf&&Ey(Iy,"code",Y7(function(){return K7(U5e(this).name)}));for(iP in $s)Ry($s,iP)&&(oP=$s[iP],ff=oP.s,aP=lP(6,oP.c),Ry(hf,ff)||Ay(hf,ff,aP),Ry(Iy,ff)||Ay(Iy,ff,aP));var oP,ff,aP,iP;var V5e=D(),W5e=ve(),bP=me(),mP=Cr(),gP=We().f,Q7=Ae(),K5e=Or(),Y5e=Ra(),Z7=is(),pP=rP(),X5e=sc(),J5e=Oe(),r9=rt(),vf="DOMException",n9=bP("Error"),yf=bP(vf),wP=i(function(){K5e(this,Q5e);var e=arguments.length,r=Z7(e<1?void 0:arguments[0]),n=Z7(e<2?void 0:arguments[1],"Error"),a=new yf(r,n),o=n9(r);return o.name=vf,gP(a,"stack",mP(1,X5e(o.stack,1))),Y5e(a,this,wP),a},"DOMException"),Q5e=wP.prototype=yf.prototype,Z5e="stack"in n9(vf),eBe="stack"in new yf(1,2),hP=yf&&J5e&&Object.getOwnPropertyDescriptor(W5e,vf),tBe=!!hP&&!(hP.writable&&hP.configurable),e9=Z5e&&!tBe&&!eBe;V5e({global:!0,constructor:!0,forced:r9||e9},{DOMException:e9?wP:yf});var df=bP(vf),t9=df.prototype;if(t9.constructor!==df){r9||gP(t9,"constructor",mP(1,df));for(dP in pP)Q7(pP,dP)&&(vP=pP[dP],yP=vP.s,Q7(df,yP)||gP(df,yP,mP(6,vP.c)))}var vP,yP,dP;var rBe=me(),nBe=gr(),i9="DOMException";nBe(rBe(i9),i9);var iBe=D(),oBe=ve(),aBe=fS(),uBe=de(),sBe=Lo(),lBe=Fo(),cBe=oBe.process;iBe({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:i(function(e){sBe(arguments.length,1),uBe(e);var r=lBe&&cBe.domain;aBe(r?r.bind(e):e)},"queueMicrotask")});function EP(t){return EP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EP(t)}i(EP,"_typeof");var fBe=rt(),pBe=D(),vt=ve(),bf=me(),Ci=le(),Fy=se(),hBe=ma(),RP=Pe(),a9=_n(),TP=Re(),dBe=bo(),vBe=we(),u9=te(),s9=Sn(),yBe=Ae(),mBe=$n(),OP=kt(),AP=Le(),gBe=Lo(),bBe=Ss(),wBe=Td(),SP=go(),OBe=hS(),SBe=hv(),_Be=Fo(),mf=vt.Object,l9=vt.Date,wf=vt.Error,PBe=vt.EvalError,EBe=vt.RangeError,RBe=vt.ReferenceError,TBe=vt.SyntaxError,c9=vt.TypeError,ABe=vt.URIError,IBe=vt.PerformanceMark,Gs=vt.WebAssembly,kBe=Gs&&Gs.CompileError||wf,qBe=Gs&&Gs.LinkError||wf,xBe=Gs&&Gs.RuntimeError||wf,Va=bf("DOMException"),f9=bf("Set"),xy=bf("Map"),kP=xy.prototype,p9=Ci(kP.has),CBe=Ci(kP.get),Cy=Ci(kP.set),FBe=Ci(f9.prototype.add),LBe=bf("Object","keys"),jBe=Ci([].push),NBe=Ci((!0).valueOf),DBe=Ci(1 .valueOf),UBe=Ci("".valueOf),MBe=Ci(l9.prototype.getTime),IP=hBe("structuredClone"),gf="DataCloneError",_P="Transferring",h9=i(function(e){return!Fy(function(){var r=new vt.Set([7]),n=e(r),a=e(mf(7));return n==r||!n.has(7)||EP(a)!="object"||a!=7})&&e},"checkBasicSemantic"),o9=i(function(e,r){return!Fy(function(){var n=new r,a=e({a:n,b:n});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===n.stack)})},"checkErrorsCloning"),BBe=i(function(e){return!Fy(function(){var r=e(new vt.AggregateError([1],IP,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=IP||r.cause!=3})},"checkNewErrorsCloningSemantic"),Wo=vt.structuredClone,$Be=fBe||!o9(Wo,wf)||!o9(Wo,Va)||!BBe(Wo),zBe=!Wo&&h9(function(t){return new IBe(IP,{detail:t}).detail}),Vo=h9(Wo)||zBe,PP=i(function(e){throw new Va("Uncloneable type: "+e,gf)},"throwUncloneable"),or=i(function(e,r){throw new Va((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",gf)},"throwUnpolyfillable"),GBe=i(function t(e,r){if(dBe(e)&&PP("Symbol"),!TP(e))return e;if(r){if(p9(r,e))return CBe(r,e)}else r=new xy;var n=s9(e),a=!1,o,u,s,c,p,h,y,m,w,_;switch(n){case"Array":s=[],a=!0;break;case"Object":s={},a=!0;break;case"Map":s=new xy,a=!0;break;case"Set":s=new f9,a=!0;break;case"RegExp":s=new RegExp(e.source,bBe(e));break;case"Error":switch(u=e.name,u){case"AggregateError":s=bf("AggregateError")([]);break;case"EvalError":s=PBe();break;case"RangeError":s=EBe();break;case"ReferenceError":s=RBe();break;case"SyntaxError":s=TBe();break;case"TypeError":s=c9();break;case"URIError":s=ABe();break;case"CompileError":s=kBe();break;case"LinkError":s=qBe();break;case"RuntimeError":s=xBe();break;default:s=wf()}a=!0;break;case"DOMException":s=new Va(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":o=vt[n],TP(o)||or(n),s=new o(t(e.buffer,r),e.byteOffset,n==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{s=new DOMQuad(t(e.p1,r),t(e.p2,r),t(e.p3,r),t(e.p4,r))}catch(R){Vo?s=Vo(e):or(n)}break;case"FileList":if(o=vt.DataTransfer,a9(o)){for(c=new o,p=0,h=AP(e);p<h;p++)c.items.add(t(e[p],r));s=c.files}else Vo?s=Vo(e):or(n);break;case"ImageData":try{s=new ImageData(t(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(R){Vo?s=Vo(e):or(n)}break;default:if(Vo)s=Vo(e);else switch(n){case"BigInt":s=mf(e.valueOf());break;case"Boolean":s=mf(NBe(e));break;case"Number":s=mf(DBe(e));break;case"String":s=mf(UBe(e));break;case"Date":s=new l9(MBe(e));break;case"ArrayBuffer":o=vt.DataView,!o&&typeof e.slice!="function"&&or(n);try{if(typeof e.slice=="function")s=e.slice(0);else for(h=e.byteLength,s=new ArrayBuffer(h),w=new o(e),_=new o(s),p=0;p<h;p++)_.setUint8(p,w.getUint8(p))}catch(R){throw new Va("ArrayBuffer is detached",gf)}break;case"SharedArrayBuffer":s=e;break;case"Blob":try{s=e.slice(0,e.size,e.type)}catch(R){or(n)}break;case"DOMPoint":case"DOMPointReadOnly":o=vt[n];try{s=o.fromPoint?o.fromPoint(e):new o(e.x,e.y,e.z,e.w)}catch(R){or(n)}break;case"DOMRect":case"DOMRectReadOnly":o=vt[n];try{s=o.fromRect?o.fromRect(e):new o(e.x,e.y,e.width,e.height)}catch(R){or(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":o=vt[n];try{s=o.fromMatrix?o.fromMatrix(e):new o(e)}catch(R){or(n)}break;case"AudioData":case"VideoFrame":RP(e.clone)||or(n);try{s=e.clone()}catch(R){PP(n)}break;case"File":try{s=new File([e],e.name,e)}catch(R){or(n)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":or(n);default:PP(n)}}if(Cy(r,e,s),a)switch(n){case"Array":case"Object":for(y=LBe(e),p=0,h=AP(y);p<h;p++)m=y[p],mBe(s,m,t(e[m],r));break;case"Map":e.forEach(function(R,T){Cy(s,t(T,r),t(R,r))});break;case"Set":e.forEach(function(R){FBe(s,t(R,r))});break;case"Error":OP(s,"message",t(e.message,r)),yBe(e,"cause")&&OP(s,"cause",t(e.cause,r)),u=="AggregateError"&&(s.errors=t(e.errors,r));case"DOMException":wBe&&OP(s,"stack",t(e.stack,r))}return s},"structuredCloneInternal"),d9=Wo&&!Fy(function(){if(SBe&&SP>92||_Be&&SP>94||OBe&&SP>97)return!1;var t=new ArrayBuffer(8),e=Wo(t,{transfer:[t]});return t.byteLength!=0||e.byteLength!=8}),HBe=i(function(e,r){if(!TP(e))throw c9("Transfer option cannot be converted to a sequence");var n=[];vBe(e,function(w){jBe(n,u9(w))});var a=0,o=AP(n),u,s,c,p,h,y,m;if(d9)for(p=Wo(n,{transfer:n});a<o;)Cy(r,n[a],p[a++]);else for(;a<o;){if(u=n[a++],p9(r,u))throw new Va("Duplicate transferable",gf);switch(s=s9(u),s){case"ImageBitmap":c=vt.OffscreenCanvas,a9(c)||or(s,_P);try{y=new c(u.width,u.height),m=y.getContext("bitmaprenderer"),m.transferFromImageBitmap(u),h=y.transferToImageBitmap()}catch(w){}break;case"AudioData":case"VideoFrame":(!RP(u.clone)||!RP(u.close))&&or(s,_P);try{h=u.clone(),u.close()}catch(w){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":or(s,_P)}if(h===void 0)throw new Va("This object cannot be transferred: "+s,gf);Cy(r,u,h)}},"tryToTransfer");pBe({global:!0,enumerable:!0,sham:!d9,forced:$Be},{structuredClone:i(function(e){var r=gBe(arguments.length,1)>1&&arguments[1]!=null?u9(arguments[1]):void 0,n=r?r.transfer:void 0,a;return n!==void 0&&(a=new xy,HBe(n,a)),GBe(e,a)},"structuredClone")});c$();var p4e=D(),h4e=ce();p4e({target:"URL",proto:!0,enumerable:!0},{toJSON:i(function(){return h4e(URL.prototype.toString,this)},"toJSON")});HP();function pE(t){return pE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(t)}i(pE,"_typeof");var Qt=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof Qt!="undefined"&&Qt,Er={searchParams:"URLSearchParams"in Qt,iterable:"Symbol"in Qt&&"iterator"in Symbol,blob:"FileReader"in Qt&&"Blob"in Qt&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in Qt,arrayBuffer:"ArrayBuffer"in Qt};function d4e(t){return t&&DataView.prototype.isPrototypeOf(t)}i(d4e,"isDataView");Er.arrayBuffer&&(f$=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h$=ArrayBuffer.isView||function(t){return t&&f$.indexOf(Object.prototype.toString.call(t))>-1});var f$,h$;function kf(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}i(kf,"normalizeName");function hE(t){return typeof t!="string"&&(t=String(t)),t}i(hE,"normalizeValue");function dE(t){var e={next:i(function(){var n=t.shift();return{done:n===void 0,value:n}},"next")};return Er.iterable&&(e[Symbol.iterator]=function(){return e}),e}i(dE,"iteratorFor");function qt(t){this.map={},t instanceof qt?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}i(qt,"Headers");qt.prototype.append=function(t,e){t=kf(t),e=hE(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};qt.prototype.delete=function(t){delete this.map[kf(t)]};qt.prototype.get=function(t){return t=kf(t),this.has(t)?this.map[t]:null};qt.prototype.has=function(t){return this.map.hasOwnProperty(kf(t))};qt.prototype.set=function(t,e){this.map[kf(t)]=hE(e)};qt.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};qt.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),dE(t)};qt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),dE(t)};qt.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),dE(t)};Er.iterable&&(qt.prototype[Symbol.iterator]=qt.prototype.entries);function fE(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}i(fE,"consumed");function d$(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}i(d$,"fileReaderReady");function v4e(t){var e=new FileReader,r=d$(e);return e.readAsArrayBuffer(t),r}i(v4e,"readBlobAsArrayBuffer");function y4e(t){var e=new FileReader,r=d$(e);return e.readAsText(t),r}i(y4e,"readBlobAsText");function m4e(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}i(m4e,"readArrayBufferAsText");function p$(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}i(p$,"bufferClone");function v$(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:Er.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Er.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Er.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Er.arrayBuffer&&Er.blob&&d4e(t)?(this._bodyArrayBuffer=p$(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Er.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||h$(t))?this._bodyArrayBuffer=p$(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Er.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Er.blob&&(this.blob=function(){var t=fE(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=fE(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v4e)}),this.text=function(){var t=fE(this);if(t)return t;if(this._bodyBlob)return y4e(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m4e(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Er.formData&&(this.formData=function(){return this.text().then(w4e)}),this.json=function(){return this.text().then(JSON.parse)},this}i(v$,"Body");var g4e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b4e(t){var e=t.toUpperCase();return g4e.indexOf(e)>-1?e:t}i(b4e,"normalizeMethod");function Qa(t,e){if(!(this instanceof Qa))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof Qa){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new qt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new qt(e.headers)),this.method=b4e(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}i(Qa,"Request");Qa.prototype.clone=function(){return new Qa(this,{body:this._bodyInit})};function w4e(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),a=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(a),decodeURIComponent(o))}}),e}i(w4e,"decode");function O4e(t){var e=new qt,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf("\n")===0?n.substr(1,n.length):n}).forEach(function(n){var a=n.split(":"),o=a.shift().trim();if(o){var u=a.join(":").trim();e.append(o,u)}}),e}i(O4e,"parseHeaders");v$.call(Qa.prototype);function ti(t,e){if(!(this instanceof ti))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new qt(e.headers),this.url=e.url||"",this._initBody(t)}i(ti,"Response");v$.call(ti.prototype);ti.prototype.clone=function(){return new ti(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new qt(this.headers),url:this.url})};ti.error=function(){var t=new ti(null,{status:0,statusText:""});return t.type="error",t};var S4e=[301,302,303,307,308];ti.redirect=function(t,e){if(S4e.indexOf(e)===-1)throw new RangeError("Invalid status code");return new ti(null,{status:e,headers:{location:t}})};var Ja=Qt.DOMException;try{new Ja}catch(t){Ja=i(function(r,n){this.message=r,this.name=n;var a=Error(r);this.stack=a.stack},"DOMException"),Ja.prototype=Object.create(Error.prototype),Ja.prototype.constructor=Ja}function y$(t,e){return new Promise(function(r,n){var a=new Qa(t,e);if(a.signal&&a.signal.aborted)return n(new Ja("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}i(u,"abortXhr"),o.onload=function(){var c={status:o.status,statusText:o.statusText,headers:O4e(o.getAllResponseHeaders()||"")};c.url="responseURL"in o?o.responseURL:c.headers.get("X-Request-URL");var p="response"in o?o.response:o.responseText;setTimeout(function(){r(new ti(p,c))},0)},o.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){n(new Ja("Aborted","AbortError"))},0)};function s(c){try{return c===""&&Qt.location.href?Qt.location.href:c}catch(p){return c}}i(s,"fixUrl"),o.open(a.method,s(a.url),!0),a.credentials==="include"?o.withCredentials=!0:a.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(Er.blob?o.responseType="blob":Er.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),e&&pE(e.headers)==="object"&&!(e.headers instanceof qt)?Object.getOwnPropertyNames(e.headers).forEach(function(c){o.setRequestHeader(c,hE(e.headers[c]))}):a.headers.forEach(function(c,p){o.setRequestHeader(p,c)}),a.signal&&(a.signal.addEventListener("abort",u),o.onreadystatechange=function(){o.readyState===4&&a.signal.removeEventListener("abort",u)}),o.send(typeof a._bodyInit=="undefined"?null:a._bodyInit)})}i(y$,"fetch");y$.polyfill=!0;Qt.fetch||(Qt.fetch=y$,Qt.Headers=qt,Qt.Request=Qa,Qt.Response=ti);function vE(t){return vE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vE(t)}i(vE,"_typeof");(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";function t(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}i(t,"_classCallCheck");function e(E,A){for(var C=0;C<A.length;C++){var U=A[C];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}i(e,"_defineProperties");function r(E,A,C){return A&&e(E.prototype,A),C&&e(E,C),E}i(r,"_createClass");function n(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&o(E,A)}i(n,"_inherits");function a(E){return a=Object.setPrototypeOf?Object.getPrototypeOf:i(function(C){return C.__proto__||Object.getPrototypeOf(C)},"_getPrototypeOf"),a(E)}i(a,"_getPrototypeOf");function o(E,A){return o=Object.setPrototypeOf||i(function(U,G){return U.__proto__=G,U},"_setPrototypeOf"),o(E,A)}i(o,"_setPrototypeOf");function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}i(u,"_isNativeReflectConstruct");function s(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}i(s,"_assertThisInitialized");function c(E,A){return A&&(vE(A)==="object"||typeof A=="function")?A:s(E)}i(c,"_possibleConstructorReturn");function p(E){var A=u();return i(function(){var U=a(E),G;if(A){var M=a(this).constructor;G=Reflect.construct(U,arguments,M)}else G=U.apply(this,arguments);return c(this,G)},"_createSuperInternal")}i(p,"_createSuper");function h(E,A){for(;!Object.prototype.hasOwnProperty.call(E,A)&&(E=a(E),E!==null););return E}i(h,"_superPropBase");function y(E,A,C){return typeof Reflect!="undefined"&&Reflect.get?y=Reflect.get:y=i(function(G,M,z){var W=h(G,M);if(!!W){var Y=Object.getOwnPropertyDescriptor(W,M);return Y.get?Y.get.call(z):Y.value}},"_get"),y(E,A,C||E)}i(y,"_get");var m=function(){function E(){t(this,E),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(E,"Emitter"),r(E,[{key:"addEventListener",value:i(function(C,U,G){C in this.listeners||(this.listeners[C]=[]),this.listeners[C].push({callback:U,options:G})},"addEventListener")},{key:"removeEventListener",value:i(function(C,U){if(C in this.listeners){for(var G=this.listeners[C],M=0,z=G.length;M<z;M++)if(G[M].callback===U){G.splice(M,1);return}}},"removeEventListener")},{key:"dispatchEvent",value:i(function(C){if(C.type in this.listeners){for(var U=this.listeners[C.type],G=U.slice(),M=0,z=G.length;M<z;M++){var W=G[M];try{W.callback.call(this,C)}catch(Y){Promise.resolve().then(function(){throw Y})}W.options&&W.options.once&&this.removeEventListener(C.type,W.callback)}return!C.defaultPrevented}},"dispatchEvent")}]),E}(),w=function(E){n(C,E);var A=p(C);function C(){var U;return t(this,C),U=A.call(this),U.listeners||m.call(s(U)),Object.defineProperty(s(U),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(U),"onabort",{value:null,writable:!0,configurable:!0}),U}return i(C,"AbortSignal"),r(C,[{key:"toString",value:i(function(){return"[object AbortSignal]"},"toString")},{key:"dispatchEvent",value:i(function(G){G.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,G)),y(a(C.prototype),"dispatchEvent",this).call(this,G)},"dispatchEvent")}]),C}(m),_=function(){function E(){t(this,E),Object.defineProperty(this,"signal",{value:new w,writable:!0,configurable:!0})}return i(E,"AbortController"),r(E,[{key:"abort",value:i(function(){var C;try{C=new Event("abort")}catch(U){typeof document!="undefined"?document.createEvent?(C=document.createEvent("Event"),C.initEvent("abort",!1,!1)):(C=document.createEventObject(),C.type="abort"):C={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(C)},"abort")},{key:"toString",value:i(function(){return"[object AbortController]"},"toString")}]),E}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",w.prototype[Symbol.toStringTag]="AbortSignal");function R(E){return E.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof E.Request=="function"&&!E.Request.prototype.hasOwnProperty("signal")||!E.AbortController}i(R,"polyfillNeeded");function T(E){typeof E=="function"&&(E={fetch:E});var A=E,C=A.fetch,U=A.Request,G=U===void 0?C.Request:U,M=A.AbortController,z=A.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,W=z===void 0?!1:z;if(!R({fetch:C,Request:G,AbortController:M,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:W}))return{fetch:C,Request:Y};var Y=G;(Y&&!Y.prototype.hasOwnProperty("signal")||W)&&(Y=i(function(v,g){var b;g&&g.signal&&(b=g.signal,delete g.signal);var P=new G(v,g);return b&&Object.defineProperty(P,"signal",{writable:!1,enumerable:!1,configurable:!0,value:b}),P},"Request"),Y.prototype=G.prototype);var f=C,l=i(function(v,g){var b=Y&&Y.prototype.isPrototypeOf(v)?v.signal:g?g.signal:void 0;if(b){var P;try{P=new DOMException("Aborted","AbortError")}catch(L){P=new Error("Aborted"),P.name="AbortError"}if(b.aborted)return Promise.reject(P);var q=new Promise(function(L,O){b.addEventListener("abort",function(){return O(P)},{once:!0})});return g&&g.signal&&delete g.signal,Promise.race([q,f(v,g)])}return f(v,g)},"abortableFetch");return{fetch:l,Request:Y}}i(T,"abortableFetchDecorator"),function(E){if(!!R(E)){if(!E.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var A=T(E),C=A.fetch,U=A.Request;E.fetch=C,E.Request=U,Object.defineProperty(E,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:_}),Object.defineProperty(E,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:w})}}(typeof self!="undefined"?self:global)});(function(){var t=i(function(r,n,a){var o=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return o?new Promise(function(u,s){o.call(navigator,r,u,s)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))},"promisifiedOldGUM");navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=t)})();var g$=function(){if(typeof Map!="undefined")return Map;function t(e,r){var n=-1;return e.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return i(t,"getIndex"),function(){function e(){this.__entries__=[]}return i(e,"class_1"),Object.defineProperty(e.prototype,"size",{get:i(function(){return this.__entries__.length},"get"),enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(r,n){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,a=t(n,r);~a&&n.splice(a,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var u=o[a];r.call(n,u[1],u[0])}},e}()}(),yE=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Wy=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),_4e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wy):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),P4e=2;function E4e(t,e){var r=!1,n=!1,a=0;function o(){r&&(r=!1,t()),n&&s()}i(o,"resolvePending");function u(){_4e(o)}i(u,"timeoutCallback");function s(){var c=Date.now();if(r){if(c-a<P4e)return;n=!0}else r=!0,n=!1,setTimeout(u,e);a=c}return i(s,"proxy"),s}i(E4e,"throttle");var R4e=20,T4e=["top","right","bottom","left","width","height","size","weight"],A4e=typeof MutationObserver!="undefined",I4e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=E4e(this.refresh.bind(this),R4e)}return i(t,"ResizeObserverController"),t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!yE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),A4e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!yE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,a=T4e.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),b$=i(function(e,r){for(var n=0,a=Object.keys(r);n<a.length;n++){var o=a[n];Object.defineProperty(e,o,{value:r[o],enumerable:!1,writable:!1,configurable:!0})}return e},"defineConfigurable"),Qs=i(function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||Wy},"getWindowOf"),w$=Yy(0,0,0,0);function Ky(t){return parseFloat(t)||0}i(Ky,"toFloat");function m$(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,a){var o=t["border-"+a+"-width"];return n+Ky(o)},0)}i(m$,"getBordersSize");function k4e(t){for(var e=["top","right","bottom","left"],r={},n=0,a=e;n<a.length;n++){var o=a[n],u=t["padding-"+o];r[o]=Ky(u)}return r}i(k4e,"getPaddings");function q4e(t){var e=t.getBBox();return Yy(0,0,e.width,e.height)}i(q4e,"getSVGContentRect");function x4e(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return w$;var n=Qs(t).getComputedStyle(t),a=k4e(n),o=a.left+a.right,u=a.top+a.bottom,s=Ky(n.width),c=Ky(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=m$(n,"left","right")+o),Math.round(c+u)!==r&&(c-=m$(n,"top","bottom")+u)),!F4e(t)){var p=Math.round(s+o)-e,h=Math.round(c+u)-r;Math.abs(p)!==1&&(s-=p),Math.abs(h)!==1&&(c-=h)}return Yy(a.left,a.top,s,c)}i(x4e,"getHTMLElementContentRect");var C4e=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof Qs(t).SVGGraphicsElement}:function(t){return t instanceof Qs(t).SVGElement&&typeof t.getBBox=="function"}}();function F4e(t){return t===Qs(t).document.documentElement}i(F4e,"isDocumentElement");function L4e(t){return yE?C4e(t)?q4e(t):x4e(t):w$}i(L4e,"getContentRect");function j4e(t){var e=t.x,r=t.y,n=t.width,a=t.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return b$(u,{x:e,y:r,width:n,height:a,top:r,right:e+n,bottom:a+r,left:e}),u}i(j4e,"createReadOnlyRect");function Yy(t,e,r,n){return{x:t,y:e,width:r,height:n}}i(Yy,"createRectInit");var N4e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Yy(0,0,0,0),this.target=e}return i(t,"ResizeObservation"),t.prototype.isActive=function(){var e=L4e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),D4e=function(){function t(e,r){var n=j4e(r);b$(this,{target:e,contentRect:n})}return i(t,"ResizeObserverEntry"),t}(),U4e=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new g$,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return i(t,"ResizeObserverSPI"),t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Qs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new N4e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Qs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(e)||(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new D4e(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),O$=typeof WeakMap!="undefined"?new WeakMap:new g$,S$=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=I4e.getInstance(),n=new U4e(e,r,this);O$.set(this,n)}return i(t,"ResizeObserver"),t}();["observe","unobserve","disconnect"].forEach(function(t){S$.prototype[t]=function(){var e;return(e=O$.get(this))[t].apply(e,arguments)}});var M4e=function(){return typeof Wy.ResizeObserver!="undefined"?Wy.ResizeObserver:S$}(),_$=M4e;var dkt=Te(P$(),1);var r2={};Hl(r2,{Audio:function(){return Cg},AwsS3:function(){return zI},AwsS3Multipart:function(){return sk},Box:function(){return yl},Compressor:function(){return PQ},Core:function(){return mit},Dashboard:function(){return vl},DefaultStore:function(){return tm},DragDrop:function(){return mg},DropTarget:function(){return rA},Dropbox:function(){return ml},Facebook:function(){return gl},FileInput:function(){return Sg},Form:function(){return Kq},GoldenRetriever:function(){return Jq},GoogleDrive:function(){return wl},ImageEditor:function(){return Rg},Informer:function(){return ol},Instagram:function(){return Ol},OneDrive:function(){return Sl},ProgressBar:function(){return Ag},ReduxDevTools:function(){return t2},ReduxStore:function(){return LG},RemoteSources:function(){return uI},ScreenCapture:function(){return ob},StatusBar:function(){return il},ThumbnailGenerator:function(){return _p},Transloadit:function(){return ca},Tus:function(){return Cl},Unsplash:function(){return _l},Uppy:function(){return am},Url:function(){return bu},Webcam:function(){return fb},XHRUpload:function(){return $q},Zoom:function(){return Pl},debugLogger:function(){return Nf},locales:function(){return bit},server:function(){return tR},views:function(){return git}});function Dr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i(Dr,"has");function E$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(E$,"ownKeys");function Jy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(r),!0).forEach(function(n){B4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Jy,"_objectSpread");function B4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(B4e,"_defineProperty");function gE(t){return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(t)}i(gE,"_typeof");function $4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($4e,"_classCallCheck");function R$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(R$,"_defineProperties");function z4e(t,e,r){return e&&R$(t.prototype,e),r&&R$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(z4e,"_createClass");function T$(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(T$,"_classPrivateFieldLooseBase");var G4e=0;function H4e(t){return"__private_"+G4e+++"_"+t}i(H4e,"_classPrivateFieldLooseKey");function V4e(t,e,r){var n=[];return t.forEach(function(a){return typeof a!="string"?n.push(a):e[Symbol.split](a).forEach(function(o,u,s){o!==""&&n.push(o),u<s.length-1&&n.push(r)})}),n}i(V4e,"insertReplacement");function A$(t,e){var r=/\$/g,n="$$$$",a=[t];if(e==null)return a;for(var o=0,u=Object.keys(e);o<u.length;o++){var s=u[o];if(s!=="_"){var c=e[s];typeof c=="string"&&(c=r[Symbol.replace](c,n)),a=V4e(a,new RegExp("%\\{".concat(s,"\\}"),"g"),c)}}return a}i(A$,"interpolate");var xf=H4e("apply"),Qy=function(){function t(e){$4e(this,t),Object.defineProperty(this,xf,{value:W4e}),this.locale={strings:{},pluralize:i(function(n){return n===1?0:1},"pluralize")},Array.isArray(e)?e.forEach(T$(this,xf)[xf],this):T$(this,xf)[xf](e)}return i(t,"Translator"),z4e(t,[{key:"translate",value:i(function(r,n){return this.translateArray(r,n).join("")},"translate")},{key:"translateArray",value:i(function(r,n){if(!Dr(this.locale.strings,r))throw new Error("missing string: ".concat(r));var a=this.locale.strings[r],o=gE(a)==="object";if(o){if(n&&typeof n.smart_count!="undefined"){var u=this.locale.pluralize(n.smart_count);return A$(a[u],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return A$(a,n)},"translateArray")}]),t}();function W4e(t){if(!!(t!=null&&t.strings)){var e=this.locale;this.locale=Jy(Jy({},e),{},{strings:Jy(Jy({},e.strings),t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}i(W4e,"_apply2");var uz=Te(bE(),1);var K4e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var sn=i(function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=e;n--;)r+=K4e[Math.random()*64|0];return r},"nanoid");var sz=Te(Cf(),1);function F$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(F$,"ownKeys");function OE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(r),!0).forEach(function(n){p6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(OE,"_objectSpread");function p6e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(p6e,"_defineProperty");function h6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(h6e,"_classCallCheck");function L$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(L$,"_defineProperties");function d6e(t,e,r){return e&&L$(t.prototype,e),r&&L$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(d6e,"_createClass");function em(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(em,"_classPrivateFieldLooseBase");var v6e=0;function j$(t){return"__private_"+v6e+++"_"+t}i(j$,"_classPrivateFieldLooseKey");var y6e={version:"3.0.2"},eu=j$("callbacks"),SE=j$("publish"),N$=function(){function t(){h6e(this,t),Object.defineProperty(this,SE,{value:m6e}),Object.defineProperty(this,eu,{writable:!0,value:new Set}),this.state={}}return i(t,"DefaultStore"),d6e(t,[{key:"getState",value:i(function(){return this.state},"getState")},{key:"setState",value:i(function(r){var n=OE({},this.state),a=OE(OE({},this.state),r);this.state=a,em(this,SE)[SE](n,a,r)},"setState")},{key:"subscribe",value:i(function(r){var n=this;return em(this,eu)[eu].add(r),function(){em(n,eu)[eu].delete(r)}},"subscribe")}]),t}();function m6e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];em(this,eu)[eu].forEach(function(n){n.apply(void 0,e)})}i(m6e,"_publish2");N$.VERSION=y6e.version;var tm=N$;function ji(t){var e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}i(ji,"getFileNameAndExtension");var Ff={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Lf(t){var e;if(t.type)return t.type;var r=t.name?(e=ji(t.name).extension)==null?void 0:e.toLowerCase():null;return r&&r in Ff?Ff[r]:"application/octet-stream"}i(Lf,"getFileType");function g6e(t){return t.charCodeAt(0).toString(32)}i(g6e,"encodeCharacter");function D$(t){var e="";return t.replace(/[^A-Z0-9]/ig,function(r){return e+="-".concat(g6e(r)),"/"})+e}i(D$,"encodeFilename");function jf(t){var e="uppy";return typeof t.name=="string"&&(e+="-".concat(D$(t.name.toLowerCase()))),t.type!==void 0&&(e+="-".concat(t.type)),t.meta&&typeof t.meta.relativePath=="string"&&(e+="-".concat(D$(t.meta.relativePath.toLowerCase()))),t.data.size!==void 0&&(e+="-".concat(t.data.size)),t.data.lastModified!==void 0&&(e+="-".concat(t.data.lastModified)),e}i(jf,"generateFileID");function b6e(t,e){return _6e(t)||S6e(t,e)||O6e(t,e)||w6e()}i(b6e,"_slicedToArray");function w6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(w6e,"_nonIterableRest");function O6e(t,e){if(!!t){if(typeof t=="string")return U$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U$(t,e)}}i(O6e,"_unsupportedIterableToArray");function U$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(U$,"_arrayLikeToArray");function S6e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(S6e,"_iterableToArrayLimit");function _6e(t){if(Array.isArray(t))return t}i(_6e,"_arrayWithHoles");function _E(t){if(t==null&&typeof navigator!="undefined"&&(t=navigator.userAgent),!t)return!0;var e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;var r=e[1],n=r.split("."),a=b6e(n,2),o=a[0],u=a[1];return o=parseInt(o,10),u=parseInt(u,10),o<15||o===15&&u<15063||o>18||o===18&&u>=18218}i(_E,"supportsUploadProgress");function PE(t,e){return e.name?e.name:t.split("/")[0]==="image"?"".concat(t.split("/")[0],".").concat(t.split("/")[1]):"noname"}i(PE,"getFileName");function EE(t){return t<10?"0".concat(t):t.toString()}i(EE,"pad");function Zs(){var t=new Date,e=EE(t.getHours()),r=EE(t.getMinutes()),n=EE(t.getSeconds());return"".concat(e,":").concat(r,":").concat(n)}i(Zs,"getTimeStamp");var M$={debug:i(function(){},"debug"),warn:i(function(){},"warn"),error:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).error.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"error")},Nf={debug:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).debug.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"debug"),warn:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).warn.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"warn"),error:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).error.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"error")};var im=Te(rm(),1),Q$=Te(V$(),1);function AE(t){return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(t)}i(AE,"_typeof");function R6e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=T6e(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(R6e,"_createForOfIteratorHelper");function T6e(t,e){if(!!t){if(typeof t=="string")return W$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W$(t,e)}}i(T6e,"_unsupportedIterableToArray");function W$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(W$,"_arrayLikeToArray");function K$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(K$,"_defineProperties");function Y$(t,e,r){return e&&K$(t.prototype,e),r&&K$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Y$,"_createClass");function X$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(X$,"_classCallCheck");function A6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Df(t,e)}i(A6e,"_inherits");function I6e(t){var e=J$();return i(function(){var n=Uf(t),a;if(e){var o=Uf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return k6e(this,a)},"_createSuperInternal")}i(I6e,"_createSuper");function k6e(t,e){if(e&&(AE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6e(t)}i(k6e,"_possibleConstructorReturn");function q6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(q6e,"_assertThisInitialized");function IE(t){var e=typeof Map=="function"?new Map:void 0;return IE=i(function(n){if(n===null||!x6e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return nm(n,arguments,Uf(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Df(a,n)},"_wrapNativeSuper"),IE(t)}i(IE,"_wrapNativeSuper");function nm(t,e,r){return J$()?nm=Reflect.construct.bind():nm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&Df(p,u.prototype),p},"_construct"),nm.apply(null,arguments)}i(nm,"_construct");function J$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(J$,"_isNativeReflectConstruct");function x6e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(x6e,"_isNativeFunction");function Df(t,e){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Df(t,e)}i(Df,"_setPrototypeOf");function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Uf(t)}i(Uf,"_getPrototypeOf");var Z$={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},ln=function(t){A6e(r,t);var e=I6e(r);function r(){var n;return X$(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return i(r,"RestrictionError"),Y$(r)}(IE(Error)),ez=function(){function t(e,r){X$(this,t),this.i18n=r,this.getOpts=function(){var n=e();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return i(t,"Restricter"),Y$(t,[{key:"validate",value:i(function(r,n){var a=this.getOpts().restrictions,o=a.maxFileSize,u=a.minFileSize,s=a.maxTotalFileSize,c=a.maxNumberOfFiles,p=a.allowedFileTypes;if(c){var h=n.filter(function(_){return!_.isGhost});if(h.length+1>c)throw new ln("".concat(this.i18n("youCanOnlyUploadX",{smart_count:c})))}if(p){var y=p.some(function(_){return _.includes("/")?r.type?(0,Q$.default)(r.type.replace(/;.*?$/,""),_):!1:_[0]==="."&&r.extension?r.extension.toLowerCase()===_.slice(1).toLowerCase():!1});if(!y){var m=p.join(", ");throw new ln(this.i18n("youCanOnlyUploadFileTypes",{types:m}))}}if(s&&r.size!=null){var w=n.reduce(function(_,R){return _+R.size},r.size);if(w>s)throw new ln(this.i18n("exceedsSize",{size:(0,im.default)(s),file:r.name}))}if(o&&r.size!=null&&r.size>o)throw new ln(this.i18n("exceedsSize",{size:(0,im.default)(o),file:r.name}));if(u&&r.size!=null&&r.size<u)throw new ln(this.i18n("inferiorSize",{size:(0,im.default)(u)}))},"validate")},{key:"validateMinNumberOfFiles",value:i(function(r){var n=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(r).length<n)throw new ln(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))},"validateMinNumberOfFiles")},{key:"getMissingRequiredMetaFields",value:i(function(r){var n=new ln(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),a=this.getOpts().restrictions.requiredMetaFields,o=[],u=R6e(a),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;(!Object.hasOwn(r.meta,c)||r.meta[c]==="")&&o.push(c)}}catch(p){u.e(p)}finally{u.f()}return{missingFields:o,error:n}},"getMissingRequiredMetaFields")}]),t}();var tz={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};function CE(){"use strict";CE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Xo(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(CE,"_regeneratorRuntime");function rz(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(rz,"asyncGeneratorStep");function C6e(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){rz(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){rz(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(C6e,"_asyncToGenerator");function om(t){return N6e(t)||j6e(t)||L6e(t)||F6e()}i(om,"_toConsumableArray");function F6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(F6e,"_nonIterableSpread");function L6e(t,e){if(!!t){if(typeof t=="string")return FE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(t,e)}}i(L6e,"_unsupportedIterableToArray");function j6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(j6e,"_iterableToArray");function N6e(t){if(Array.isArray(t))return FE(t)}i(N6e,"_arrayWithoutHoles");function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(FE,"_arrayLikeToArray");function Xo(t){return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}i(Xo,"_typeof");function nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(nz,"ownKeys");function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(r),!0).forEach(function(n){nu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ae,"_objectSpread");function nu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(nu,"_defineProperty");function D6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(D6e,"_classCallCheck");function iz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iz,"_defineProperties");function U6e(t,e,r){return e&&iz(t.prototype,e),r&&iz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(U6e,"_createClass");var oz,az;function pe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pe,"_classPrivateFieldLooseBase");var M6e=0;function xt(t){return"__private_"+M6e+++"_"+t}i(xt,"_classPrivateFieldLooseKey");var B6e={version:"3.0.2"},$t=xt("plugins"),kn=xt("restricter"),Mf=xt("storeUnsubscribe"),Ni=xt("emitter"),tu=xt("preProcessors"),ru=xt("uploaders"),Mi=xt("postProcessors"),Ur=xt("informAndEmit"),Gf=xt("checkRequiredMetaFieldsOnFile"),kE=xt("checkRequiredMetaFields"),Bf=xt("assertNewUploadAllowed"),$f=xt("checkAndCreateFileStateObject"),zf=xt("startIfAutoProceed"),qE=xt("addListeners"),qn=xt("updateOnlineStatus"),Di=xt("createUpload"),xE=xt("getUpload"),iu=xt("removeUpload"),Ui=xt("runUpload");oz=Symbol.for("uppy test: getPlugins");az=Symbol.for("uppy test: createUpload");var lz=function(t,e){function r(n){var a=this;D6e(this,r),Object.defineProperty(this,Ui,{value:Q6e}),Object.defineProperty(this,iu,{value:J6e}),Object.defineProperty(this,xE,{value:X6e}),Object.defineProperty(this,Di,{value:Y6e}),Object.defineProperty(this,qE,{value:K6e}),Object.defineProperty(this,zf,{value:W6e}),Object.defineProperty(this,$f,{value:V6e}),Object.defineProperty(this,Bf,{value:H6e}),Object.defineProperty(this,kE,{value:G6e}),Object.defineProperty(this,Gf,{value:z6e}),Object.defineProperty(this,Ur,{value:$6e}),Object.defineProperty(this,$t,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,kn,{writable:!0,value:void 0}),Object.defineProperty(this,Mf,{writable:!0,value:void 0}),Object.defineProperty(this,Ni,{writable:!0,value:(0,uz.default)()}),Object.defineProperty(this,tu,{writable:!0,value:new Set}),Object.defineProperty(this,ru,{writable:!0,value:new Set}),Object.defineProperty(this,Mi,{writable:!0,value:new Set}),Object.defineProperty(this,qn,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=tz;var o={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Z$,meta:{},onBeforeFileAdded:i(function(s){return s},"onBeforeFileAdded"),onBeforeUpload:i(function(s){return s},"onBeforeUpload"),store:new tm,logger:M$,infoTimeout:5e3};this.opts=ae(ae(ae({},o),n),{},{restrictions:ae(ae({},o.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=Nf),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=(0,sz.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:_E(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:ae({},this.opts.meta),info:[],recoveredState:null}),pe(this,kn)[kn]=new ez(function(){return a.opts},this.i18n),pe(this,Mf)[Mf]=this.store.subscribe(function(u,s,c){a.emit("state-update",u,s,c),a.updateAll(s)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),pe(this,qE)[qE]()}return i(r,"Uppy"),U6e(r,[{key:"emit",value:i(function(a){for(var o,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];(o=pe(this,Ni)[Ni]).emit.apply(o,[a].concat(s))},"emit")},{key:"on",value:i(function(a,o){return pe(this,Ni)[Ni].on(a,o),this},"on")},{key:"once",value:i(function(a,o){return pe(this,Ni)[Ni].once(a,o),this},"once")},{key:"off",value:i(function(a,o){return pe(this,Ni)[Ni].off(a,o),this},"off")},{key:"updateAll",value:i(function(a){this.iteratePlugins(function(o){o.update(a)})},"updateAll")},{key:"setState",value:i(function(a){this.store.setState(a)},"setState")},{key:"getState",value:i(function(){return this.store.getState()},"getState")},{key:"setFileState",value:i(function(a,o){if(!this.getState().files[a])throw new Error("Can\u2019t set state for ".concat(a," (the file could have been removed)"));this.setState({files:ae(ae({},this.getState().files),{},nu({},a,ae(ae({},this.getState().files[a]),o)))})},"setFileState")},{key:"i18nInit",value:i(function(){var a=new Qy([this.defaultLocale,this.opts.locale]);this.i18n=a.translate.bind(a),this.i18nArray=a.translateArray.bind(a),this.locale=a.locale},"i18nInit")},{key:"setOptions",value:i(function(a){this.opts=ae(ae(ae({},this.opts),a),{},{restrictions:ae(ae({},this.opts.restrictions),a&&a.restrictions)}),a.meta&&this.setMeta(a.meta),this.i18nInit(),a.locale&&this.iteratePlugins(function(o){o.setOptions()}),this.setState()},"setOptions")},{key:"resetProgress",value:i(function(){var a={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},o=ae({},this.getState().files),u={};Object.keys(o).forEach(function(s){var c=ae({},o[s]);c.progress=ae(ae({},c.progress),a),u[s]=c}),this.setState({files:u,totalProgress:0}),this.emit("reset-progress")},"resetProgress")},{key:"addPreProcessor",value:i(function(a){pe(this,tu)[tu].add(a)},"addPreProcessor")},{key:"removePreProcessor",value:i(function(a){return pe(this,tu)[tu].delete(a)},"removePreProcessor")},{key:"addPostProcessor",value:i(function(a){pe(this,Mi)[Mi].add(a)},"addPostProcessor")},{key:"removePostProcessor",value:i(function(a){return pe(this,Mi)[Mi].delete(a)},"removePostProcessor")},{key:"addUploader",value:i(function(a){pe(this,ru)[ru].add(a)},"addUploader")},{key:"removeUploader",value:i(function(a){return pe(this,ru)[ru].delete(a)},"removeUploader")},{key:"setMeta",value:i(function(a){var o=ae(ae({},this.getState().meta),a),u=ae({},this.getState().files);Object.keys(u).forEach(function(s){u[s]=ae(ae({},u[s]),{},{meta:ae(ae({},u[s].meta),a)})}),this.log("Adding metadata:"),this.log(a),this.setState({meta:o,files:u})},"setMeta")},{key:"setFileMeta",value:i(function(a,o){var u=ae({},this.getState().files);if(!u[a]){this.log("Was trying to set metadata for a file that has been removed: ",a);return}var s=ae(ae({},u[a].meta),o);u[a]=ae(ae({},u[a]),{},{meta:s}),this.setState({files:u})},"setFileMeta")},{key:"getFile",value:i(function(a){return this.getState().files[a]},"getFile")},{key:"getFiles",value:i(function(){var a=this.getState(),o=a.files;return Object.values(o)},"getFiles")},{key:"getObjectOfFilesPerState",value:i(function(){var a=this.getState(),o=a.files,u=a.totalProgress,s=a.error,c=Object.values(o),p=c.filter(function(A){var C=A.progress;return!C.uploadComplete&&C.uploadStarted}),h=c.filter(function(A){return!A.progress.uploadStarted}),y=c.filter(function(A){return A.progress.uploadStarted||A.progress.preprocess||A.progress.postprocess}),m=c.filter(function(A){return A.progress.uploadStarted}),w=c.filter(function(A){return A.isPaused}),_=c.filter(function(A){return A.progress.uploadComplete}),R=c.filter(function(A){return A.error}),T=p.filter(function(A){return!A.isPaused}),E=c.filter(function(A){return A.progress.preprocess||A.progress.postprocess});return{newFiles:h,startedFiles:y,uploadStartedFiles:m,pausedFiles:w,completeFiles:_,erroredFiles:R,inProgressFiles:p,inProgressNotPausedFiles:T,processingFiles:E,isUploadStarted:m.length>0,isAllComplete:u===100&&_.length===c.length&&E.length===0,isAllErrored:!!s&&R.length===c.length,isAllPaused:p.length!==0&&w.length===p.length,isUploadInProgress:p.length>0,isSomeGhost:c.some(function(A){return A.isGhost})}},"getObjectOfFilesPerState")},{key:"validateRestrictions",value:i(function(a,o){o===void 0&&(o=this.getFiles());try{pe(this,kn)[kn].validate(a,o)}catch(u){return u}return null},"validateRestrictions")},{key:"checkIfFileAlreadyExists",value:i(function(a){var o=this.getState(),u=o.files;return!!(u[a]&&!u[a].isGhost)},"checkIfFileAlreadyExists")},{key:"addFile",value:i(function(a){pe(this,Bf)[Bf](a);var o=this.getState(),u=o.files,s=pe(this,$f)[$f](u,a);return u[s.id]&&u[s.id].isGhost&&(s=ae(ae({},u[s.id]),{},{data:a.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(s.name,", ").concat(s.id))),this.setState({files:ae(ae({},u),{},nu({},s.id,s))}),this.emit("file-added",s),this.emit("files-added",[s]),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),pe(this,zf)[zf](),s.id},"addFile")},{key:"addFiles",value:i(function(a){var o=this;pe(this,Bf)[Bf]();for(var u=ae({},this.getState().files),s=[],c=[],p=0;p<a.length;p++)try{var h=pe(this,$f)[$f](u,a[p]);u[h.id]&&u[h.id].isGhost&&(h=ae(ae({},u[h.id]),{},{data:a[p].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(h.name,", ").concat(h.id))),u[h.id]=h,s.push(h)}catch(w){w.isRestriction||c.push(w)}if(this.setState({files:u}),s.forEach(function(w){o.emit("file-added",w)}),this.emit("files-added",s),s.length>5?this.log("Added batch of ".concat(s.length," files")):Object.keys(s).forEach(function(w){o.log("Added file: ".concat(s[w].name,"\n id: ").concat(s[w].id,"\n type: ").concat(s[w].type))}),s.length>0&&pe(this,zf)[zf](),c.length>0){var y="Multiple errors occurred while adding files:\n";if(c.forEach(function(w){y+="\n * ".concat(w.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:c.length}),details:y},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(c,y);var m=new Error(y);throw m.errors=c,m}},"addFiles")},{key:"removeFiles",value:i(function(a,o){var u=this,s=this.getState(),c=s.files,p=s.currentUploads,h=ae({},c),y=ae({},p),m=Object.create(null);a.forEach(function(T){c[T]&&(m[T]=c[T],delete h[T])});function w(T){return m[T]===void 0}i(w,"fileIsNotRemoved"),Object.keys(y).forEach(function(T){var E=p[T].fileIDs.filter(w);if(E.length===0){delete y[T];return}var A=u.getState(),C=A.capabilities;if(E.length!==p[T].fileIDs.length&&!C.individualCancellation)throw new Error("individualCancellation is disabled");y[T]=ae(ae({},p[T]),{},{fileIDs:E})});var _={currentUploads:y,files:h};Object.keys(h).length===0&&(_.allowNewUpload=!0,_.error=null,_.recoveredState=null),this.setState(_),this.calculateTotalProgress();var R=Object.keys(m);R.forEach(function(T){u.emit("file-removed",m[T],o)}),R.length>5?this.log("Removed ".concat(R.length," files")):this.log("Removed files: ".concat(R.join(", ")))},"removeFiles")},{key:"removeFile",value:i(function(a,o){o===void 0&&(o=null),this.removeFiles([a],o)},"removeFile")},{key:"pauseResume",value:i(function(a){if(!(!this.getState().capabilities.resumableUploads||this.getFile(a).uploadComplete)){var o=this.getFile(a).isPaused||!1,u=!o;return this.setFileState(a,{isPaused:u}),this.emit("upload-pause",a,u),u}},"pauseResume")},{key:"pauseAll",value:i(function(){var a=ae({},this.getState().files),o=Object.keys(a).filter(function(u){return!a[u].progress.uploadComplete&&a[u].progress.uploadStarted});o.forEach(function(u){var s=ae(ae({},a[u]),{},{isPaused:!0});a[u]=s}),this.setState({files:a}),this.emit("pause-all")},"pauseAll")},{key:"resumeAll",value:i(function(){var a=ae({},this.getState().files),o=Object.keys(a).filter(function(u){return!a[u].progress.uploadComplete&&a[u].progress.uploadStarted});o.forEach(function(u){var s=ae(ae({},a[u]),{},{isPaused:!1,error:null});a[u]=s}),this.setState({files:a}),this.emit("resume-all")},"resumeAll")},{key:"retryAll",value:i(function(){var a=ae({},this.getState().files),o=Object.keys(a).filter(function(s){return a[s].error});if(o.forEach(function(s){var c=ae(ae({},a[s]),{},{isPaused:!1,error:null});a[s]=c}),this.setState({files:a,error:null}),this.emit("retry-all",o),o.length===0)return Promise.resolve({successful:[],failed:[]});var u=pe(this,Di)[Di](o,{forceAllowNewUpload:!0});return pe(this,Ui)[Ui](u)},"retryAll")},{key:"cancelAll",value:i(function(a){var o=a===void 0?{}:a,u=o.reason,s=u===void 0?"user":u;if(this.emit("cancel-all",{reason:s}),s==="user"){var c=this.getState(),p=c.files,h=Object.keys(p);h.length&&this.removeFiles(h,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}},"cancelAll")},{key:"retryUpload",value:i(function(a){this.setFileState(a,{error:null,isPaused:!1}),this.emit("upload-retry",a);var o=pe(this,Di)[Di]([a],{forceAllowNewUpload:!0});return pe(this,Ui)[Ui](o)},"retryUpload")},{key:"logout",value:i(function(){this.iteratePlugins(function(a){a.provider&&a.provider.logout&&a.provider.logout()})},"logout")},{key:"calculateProgress",value:i(function(a,o){if(a==null||!this.getFile(a.id)){this.log("Not setting progress for a file that has been removed: ".concat(a==null?void 0:a.id));return}var u=Number.isFinite(o.bytesTotal)&&o.bytesTotal>0;this.setFileState(a.id,{progress:ae(ae({},this.getFile(a.id).progress),{},{bytesUploaded:o.bytesUploaded,bytesTotal:o.bytesTotal,percentage:u?Math.round(o.bytesUploaded/o.bytesTotal*100):0})}),this.calculateTotalProgress()},"calculateProgress")},{key:"calculateTotalProgress",value:i(function(){var a=this.getFiles(),o=a.filter(function(R){return R.progress.uploadStarted||R.progress.preprocess||R.progress.postprocess});if(o.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var u=o.filter(function(R){return R.progress.bytesTotal!=null}),s=o.filter(function(R){return R.progress.bytesTotal==null});if(u.length===0){var c=o.length*100,p=s.reduce(function(R,T){return R+T.progress.percentage},0),h=Math.round(p/c*100);this.setState({totalProgress:h});return}var y=u.reduce(function(R,T){return R+T.progress.bytesTotal},0),m=y/u.length;y+=m*s.length;var w=0;u.forEach(function(R){w+=R.progress.bytesUploaded}),s.forEach(function(R){w+=m*(R.progress.percentage||0)/100});var _=y===0?0:Math.round(w/y*100);_>100&&(_=100),this.setState({totalProgress:_}),this.emit("progress",_)},"calculateTotalProgress")},{key:"updateOnlineStatus",value:i(function(){var a=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;a?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},"updateOnlineStatus")},{key:"getID",value:i(function(){return this.opts.id},"getID")},{key:"use",value:i(function(a,o){if(typeof a!="function"){var u="Expected a plugin class, but got ".concat(a===null?"null":Xo(a),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(u)}var s=new a(this,o),c=s.id;if(!c)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");var p=this.getPlugin(c);if(p){var h="Already found a plugin named '".concat(p.id,"'. ")+"Tried to use: '".concat(c,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(h)}return a.VERSION&&this.log("Using ".concat(c," v").concat(a.VERSION)),s.type in pe(this,$t)[$t]?pe(this,$t)[$t][s.type].push(s):pe(this,$t)[$t][s.type]=[s],s.install(),this},"use")},{key:"getPlugin",value:i(function(a){for(var o=0,u=Object.values(pe(this,$t)[$t]);o<u.length;o++){var s=u[o],c=s.find(function(p){return p.id===a});if(c!=null)return c}},"getPlugin")},{key:t,value:i(function(a){return pe(this,$t)[$t][a]},"value")},{key:"iteratePlugins",value:i(function(a){Object.values(pe(this,$t)[$t]).flat(1).forEach(a)},"iteratePlugins")},{key:"removePlugin",value:i(function(a){this.log("Removing plugin ".concat(a.id)),this.emit("plugin-remove",a),a.uninstall&&a.uninstall();var o=pe(this,$t)[$t][a.type],u=o.findIndex(function(p){return p.id===a.id});u!==-1&&o.splice(u,1);var s=this.getState(),c={plugins:ae(ae({},s.plugins),{},nu({},a.id,void 0))};this.setState(c)},"removePlugin")},{key:"close",value:i(function(a){var o=this,u=a===void 0?{}:a,s=u.reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:s}),pe(this,Mf)[Mf](),this.iteratePlugins(function(c){o.removePlugin(c)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",pe(this,qn)[qn]),window.removeEventListener("offline",pe(this,qn)[qn]))},"close")},{key:"hideInfo",value:i(function(){var a=this.getState(),o=a.info;this.setState({info:o.slice(1)}),this.emit("info-hidden")},"hideInfo")},{key:"info",value:i(function(a,o,u){var s=this;o===void 0&&(o="info"),u===void 0&&(u=3e3);var c=Xo(a)==="object";this.setState({info:[].concat(om(this.getState().info),[{type:o,message:c?a.message:a,details:c?a.details:null}])}),setTimeout(function(){return s.hideInfo()},u),this.emit("info-visible")},"info")},{key:"log",value:i(function(a,o){var u=this.opts.logger;switch(o){case"error":u.error(a);break;case"warning":u.warn(a);break;default:u.debug(a);break}},"log")},{key:"restore",value:i(function(a){return this.log('Core: attempting to restore upload "'.concat(a,'"')),this.getState().currentUploads[a]?pe(this,Ui)[Ui](a):(pe(this,iu)[iu](a),Promise.reject(new Error("Nonexistent upload")))},"restore")},{key:e,value:i(function(){var a;return(a=pe(this,Di))[Di].apply(a,arguments)},"value")},{key:"addResultData",value:i(function(a,o){if(!pe(this,xE)[xE](a)){this.log("Not setting result for an upload that has been removed: ".concat(a));return}var u=this.getState(),s=u.currentUploads,c=ae(ae({},s[a]),{},{result:ae(ae({},s[a].result),o)});this.setState({currentUploads:ae(ae({},s),{},nu({},a,c))})},"addResultData")},{key:"upload",value:i(function(){var a=this,o;(o=pe(this,$t)[$t].uploader)!=null&&o.length||this.log("No uploader type plugins are used","warning");var u=this.getState(),s=u.files,c=this.opts.onBeforeUpload(s);return c===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(c&&Xo(c)==="object"&&(s=c,this.setState({files:s})),Promise.resolve().then(function(){return pe(a,kn)[kn].validateMinNumberOfFiles(s)}).catch(function(p){throw pe(a,Ur)[Ur](p),p}).then(function(){if(!pe(a,kE)[kE](s))throw new ln(a.i18n("missingRequiredMetaField"))}).catch(function(p){throw p}).then(function(){var p=a.getState(),h=p.currentUploads,y=Object.values(h).flatMap(function(_){return _.fileIDs}),m=[];Object.keys(s).forEach(function(_){var R=a.getFile(_);!R.progress.uploadStarted&&y.indexOf(_)===-1&&m.push(R.id)});var w=pe(a,Di)[Di](m);return pe(a,Ui)[Ui](w)}).catch(function(p){throw a.emit("error",p),a.log(p,"error"),p}))},"upload")}]),r}(oz,az);function $6e(t,e){var r=t.message,n=t.details,a=n===void 0?"":n;t.isRestriction?this.emit("restriction-failed",e,t):this.emit("error",t),this.info({message:r,details:a},"error",this.opts.infoTimeout),this.log("".concat(r," ").concat(a).trim(),"error")}i($6e,"_informAndEmit2");function z6e(t){var e=pe(this,kn)[kn].getMissingRequiredMetaFields(t),r=e.missingFields,n=e.error;return r.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}i(z6e,"_checkRequiredMetaFieldsOnFile2");function G6e(t){for(var e=!0,r=0,n=Object.values(t);r<n.length;r++){var a=n[r];pe(this,Gf)[Gf](a)||(e=!1)}return e}i(G6e,"_checkRequiredMetaFields2");function H6e(t){var e=this.getState(),r=e.allowNewUpload;if(r===!1){var n=new ln(this.i18n("noMoreFilesAllowed"));throw pe(this,Ur)[Ur](n,t),n}}i(H6e,"_assertNewUploadAllowed2");function V6e(t,e){e instanceof File&&(e={name:e.name,type:e.type,size:e.size,data:e});var r=Lf(e),n=PE(r,e),a=ji(n).extension,o=Boolean(e.isRemote),u=jf(ae(ae({},e),{},{type:r}));if(this.checkIfFileAlreadyExists(u)){var s=new ln(this.i18n("noDuplicates",{fileName:n}));throw pe(this,Ur)[Ur](s,e),s}var c=e.meta||{};c.name=n,c.type=r;var p=Number.isFinite(e.data.size)?e.data.size:null,h={source:e.source||"",id:u,name:n,extension:a||"",meta:ae(ae({},this.getState().meta),c),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:p,uploadComplete:!1,uploadStarted:null},size:p,isRemote:o,remote:e.remote||"",preview:e.preview},y=this.opts.onBeforeFileAdded(h,t);if(y===!1){var m=new ln("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,m),m}else Xo(y)==="object"&&y!==null&&(h=y);try{var w=Object.keys(t).map(function(_){return t[_]});pe(this,kn)[kn].validate(h,w)}catch(_){throw pe(this,Ur)[Ur](_,h),_}return h}i(V6e,"_checkAndCreateFileStateObject2");function W6e(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))}i(W6e,"_startIfAutoProceed2");function K6e(){var t=this,e=i(function(n,a,o){var u=n.message||"Unknown error";n.details&&(u+=" ".concat(n.details)),t.setState({error:u}),a!=null&&a.id in t.getState().files&&t.setFileState(a.id,{error:u,response:o})},"errorHandler");this.on("error",e),this.on("upload-error",function(r,n,a){if(e(n,r,a),Xo(n)==="object"&&n.message){var o=new Error(n.message);o.details=n.message,n.details&&(o.details+=" ".concat(n.details)),o.message=t.i18n("failedToUpload",{file:r==null?void 0:r.name}),pe(t,Ur)[Ur](o)}else pe(t,Ur)[Ur](n)}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var a=t.getFile(r.id).progress;t.setFileState(r.id,{progress:ae(ae({},a),{},{postprocess:pe(t,Mi)[Mi].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&t.setFileState(r.id,{size:n.bytesUploaded||a.bytesTotal}),t.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:ae(ae({},t.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=ae({},t.getState().files);n[r.id]=ae(ae({},n[r.id]),{},{progress:ae({},n[r.id].progress)}),delete n[r.id].progress.preprocess,t.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:ae(ae({},t.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=ae({},t.getState().files);n[r.id]=ae(ae({},n[r.id]),{},{progress:ae({},n[r.id].progress)}),delete n[r.id].progress.postprocess,t.setState({files:n})}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&pe(t,Gf)[Gf](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",pe(this,qn)[qn]),window.addEventListener("offline",pe(this,qn)[qn]),setTimeout(pe(this,qn)[qn],3e3))}i(K6e,"_addListeners2");function Y6e(t,e){e===void 0&&(e={});var r=e,n=r.forceAllowNewUpload,a=n===void 0?!1:n,o=this.getState(),u=o.allowNewUpload,s=o.currentUploads;if(!u&&!a)throw new Error("Cannot create a new upload: already uploading.");var c=sn();return this.emit("upload",{id:c,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:ae(ae({},s),{},nu({},c,{fileIDs:t,step:0,result:{}}))}),c}i(Y6e,"_createUpload2");function X6e(t){var e=this.getState(),r=e.currentUploads;return r[t]}i(X6e,"_getUpload2");function J6e(t){var e=ae({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}i(J6e,"_removeUpload2");function Q6e(t){return LE.apply(this,arguments)}i(Q6e,"_runUpload2");function LE(){return LE=C6e(CE().mark(i(function t(e){var r=this,n,a,o,u,s,c,p,h,y,m,w,_;return CE().wrap(i(function(T){for(;;)switch(T.prev=T.next){case 0:n=this.getState(),a=n.currentUploads,o=a[e],u=o.step||0,s=[].concat(om(pe(this,tu)[tu]),om(pe(this,ru)[ru]),om(pe(this,Mi)[Mi])),T.prev=4,c=u;case 6:if(!(c<s.length)){T.next=19;break}if(o){T.next=9;break}return T.abrupt("break",19);case 9:return p=s[c],h=ae(ae({},o),{},{step:c}),this.setState({currentUploads:ae(ae({},a),{},nu({},e,h))}),T.next=14,p(h.fileIDs,e);case 14:a=this.getState().currentUploads,o=a[e];case 16:c++,T.next=6;break;case 19:T.next=25;break;case 21:throw T.prev=21,T.t0=T.catch(4),pe(this,iu)[iu](e),T.t0;case 25:if(!o){T.next=34;break}return o.fileIDs.forEach(function(E){var A=r.getFile(E);A&&A.progress.postprocess&&r.emit("postprocess-complete",A)}),y=o.fileIDs.map(function(E){return r.getFile(E)}),m=y.filter(function(E){return!E.error}),w=y.filter(function(E){return E.error}),T.next=32,this.addResultData(e,{successful:m,failed:w,uploadID:e});case 32:a=this.getState().currentUploads,o=a[e];case 34:return o&&(_=o.result,this.emit("complete",_),pe(this,iu)[iu](e)),_==null&&this.log("Not setting result for an upload that has been removed: ".concat(e)),T.abrupt("return",_);case 37:case"end":return T.stop()}},"_callee$"),t,this,[[4,21]])},"_callee"))),LE.apply(this,arguments)}i(LE,"_runUpload3");lz.VERSION=B6e.version;var am=lz;var Wf,Ee,vz,Z6e,Hf,cz,e7e,um={},yz=[],t7e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Bi(t,e){for(var r in e)t[r]=e[r];return t}i(Bi,"s");function mz(t){var e=t.parentNode;e&&e.removeChild(t)}i(mz,"a");function S(t,e,r){var n,a,o,u={};for(o in e)o=="key"?n=e[o]:o=="ref"?a=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?Wf.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)u[o]===void 0&&(u[o]=t.defaultProps[o]);return Vf(t,u,n,a,null)}i(S,"h");function Vf(t,e,r,n,a){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++vz:a};return a==null&&Ee.vnode!=null&&Ee.vnode(o),o}i(Vf,"v");function gz(){return{current:null}}i(gz,"y");function ri(t){return t.children}i(ri,"p");function Be(t,e){this.props=t,this.context=e}i(Be,"d");function el(t,e){if(e==null)return t.__?el(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?el(t):null}i(el,"_");function bz(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return bz(t)}}i(bz,"k");function fz(t){(!t.__d&&(t.__d=!0)&&Hf.push(t)&&!sm.__r++||cz!==Ee.debounceRendering)&&((cz=Ee.debounceRendering)||setTimeout)(sm)}i(fz,"b");function sm(){for(var t;sm.__r=Hf.length;)t=Hf.sort(function(e,r){return e.__v.__b-r.__v.__b}),Hf=[],t.some(function(e){var r,n,a,o,u,s;e.__d&&(u=(o=(r=e).__v).__e,(s=r.__P)&&(n=[],(a=Bi({},o)).__v=o.__v+1,jE(s,o,a,r.__n,s.ownerSVGElement!==void 0,o.__h!=null?[u]:null,n,u==null?el(o):u,o.__h),_z(n,o),o.__e!=u&&bz(o)))})}i(sm,"g");function wz(t,e,r,n,a,o,u,s,c,p){var h,y,m,w,_,R,T,E=n&&n.__k||yz,A=E.length;for(r.__k=[],h=0;h<e.length;h++)if((w=r.__k[h]=(w=e[h])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?Vf(null,w,null,null,w):Array.isArray(w)?Vf(ri,{children:w},null,null,null):w.__b>0?Vf(w.type,w.props,w.key,null,w.__v):w)!=null){if(w.__=r,w.__b=r.__b+1,(m=E[h])===null||m&&w.key==m.key&&w.type===m.type)E[h]=void 0;else for(y=0;y<A;y++){if((m=E[y])&&w.key==m.key&&w.type===m.type){E[y]=void 0;break}m=null}jE(t,w,m=m||um,a,o,u,s,c,p),_=w.__e,(y=w.ref)&&m.ref!=y&&(T||(T=[]),m.ref&&T.push(m.ref,null,w),T.push(y,w.__c||_,w)),_!=null?(R==null&&(R=_),typeof w.type=="function"&&w.__k===m.__k?w.__d=c=Oz(w,c,t):c=Sz(t,w,m,E,_,c),typeof r.type=="function"&&(r.__d=c)):c&&m.__e==c&&c.parentNode!=t&&(c=el(m))}for(r.__e=R,h=A;h--;)E[h]!=null&&(typeof r.type=="function"&&E[h].__e!=null&&E[h].__e==r.__d&&(r.__d=el(n,h+1)),Ez(E[h],E[h]));if(T)for(h=0;h<T.length;h++)Pz(T[h],T[++h],T[++h])}i(wz,"w");function Oz(t,e,r){for(var n,a=t.__k,o=0;a&&o<a.length;o++)(n=a[o])&&(n.__=t,e=typeof n.type=="function"?Oz(n,e,r):Sz(r,n,n,a,n.__e,e));return e}i(Oz,"m");function cn(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){cn(r,e)}):e.push(t)),e}i(cn,"x");function Sz(t,e,r,n,a,o){var u,s,c;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(r==null||a!=o||a.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(a),u=null;else{for(s=o,c=0;(s=s.nextSibling)&&c<n.length;c+=2)if(s==a)break e;t.insertBefore(a,o),u=o}return u!==void 0?u:a.nextSibling}i(Sz,"A");function r7e(t,e,r,n,a){var o;for(o in r)o==="children"||o==="key"||o in e||lm(t,o,null,r[o],n);for(o in e)a&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||lm(t,o,e[o],r[o],n)}i(r7e,"C");function pz(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||t7e.test(e)?r:r+"px"}i(pz,"$");function lm(t,e,r,n,a){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||pz(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||pz(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?dz:hz,o):t.removeEventListener(e,o?dz:hz,o);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(u){}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}i(lm,"H");function hz(t){this.l[t.type+!1](Ee.event?Ee.event(t):t)}i(hz,"I");function dz(t){this.l[t.type+!0](Ee.event?Ee.event(t):t)}i(dz,"T");function jE(t,e,r,n,a,o,u,s,c){var p,h,y,m,w,_,R,T,E,A,C,U,G,M=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,s=e.__e=r.__e,e.__h=null,o=[s]),(p=Ee.__b)&&p(e);try{e:if(typeof M=="function"){if(T=e.props,E=(p=M.contextType)&&n[p.__c],A=p?E?E.props.value:p.__:n,r.__c?R=(h=e.__c=r.__c).__=h.__E:("prototype"in M&&M.prototype.render?e.__c=h=new M(T,A):(e.__c=h=new Be(T,A),h.constructor=M,h.render=i7e),E&&E.sub(h),h.props=T,h.state||(h.state={}),h.context=A,h.__n=n,y=h.__d=!0,h.__h=[]),h.__s==null&&(h.__s=h.state),M.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Bi({},h.__s)),Bi(h.__s,M.getDerivedStateFromProps(T,h.__s))),m=h.props,w=h.state,y)M.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(M.getDerivedStateFromProps==null&&T!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(T,A),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(T,h.__s,A)===!1||e.__v===r.__v){h.props=T,h.state=h.__s,e.__v!==r.__v&&(h.__d=!1),h.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(z){z&&(z.__=e)}),h.__h.length&&u.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(T,h.__s,A),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,w,_)})}if(h.context=A,h.props=T,h.__v=e,h.__P=t,C=Ee.__r,U=0,"prototype"in M&&M.prototype.render)h.state=h.__s,h.__d=!1,C&&C(e),p=h.render(h.props,h.state,h.context);else do h.__d=!1,C&&C(e),p=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++U<25);h.state=h.__s,h.getChildContext!=null&&(n=Bi(Bi({},n),h.getChildContext())),y||h.getSnapshotBeforeUpdate==null||(_=h.getSnapshotBeforeUpdate(m,w)),G=p!=null&&p.type===ri&&p.key==null?p.props.children:p,wz(t,Array.isArray(G)?G:[G],e,r,n,a,o,u,s,c),h.base=e.__e,e.__h=null,h.__h.length&&u.push(h),R&&(h.__E=h.__=null),h.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=n7e(r.__e,e,r,n,a,o,u,c);(p=Ee.diffed)&&p(e)}catch(z){e.__v=null,(c||o!=null)&&(e.__e=s,e.__h=!!c,o[o.indexOf(s)]=null),Ee.__e(z,e,r)}}i(jE,"j");function _z(t,e){Ee.__c&&Ee.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){Ee.__e(n,r.__v)}})}i(_z,"z");function n7e(t,e,r,n,a,o,u,s){var c,p,h,y=r.props,m=e.props,w=e.type,_=0;if(w==="svg"&&(a=!0),o!=null){for(;_<o.length;_++)if((c=o[_])&&"setAttribute"in c==!!w&&(w?c.localName===w:c.nodeType===3)){t=c,o[_]=null;break}}if(t==null){if(w===null)return document.createTextNode(m);t=a?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,m.is&&m),o=null,s=!1}if(w===null)y===m||s&&t.data===m||(t.data=m);else{if(o=o&&Wf.call(t.childNodes),p=(y=r.props||um).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!s){if(o!=null)for(y={},_=0;_<t.attributes.length;_++)y[t.attributes[_].name]=t.attributes[_].value;(h||p)&&(h&&(p&&h.__html==p.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(r7e(t,m,y,a,s),h)e.__k=[];else if(_=e.props.children,wz(t,Array.isArray(_)?_:[_],e,r,n,a&&w!=="foreignObject",o,u,o?o[0]:r.__k&&el(r,0),s),o!=null)for(_=o.length;_--;)o[_]!=null&&mz(o[_]);s||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||w==="progress"&&!_||w==="option"&&_!==y.value)&&lm(t,"value",_,y.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&lm(t,"checked",_,y.checked,!1))}return t}i(n7e,"L");function Pz(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Ee.__e(n,r)}}i(Pz,"M");function Ez(t,e,r){var n,a;if(Ee.unmount&&Ee.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Pz(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){Ee.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&Ez(n[a],e,typeof t.type!="function");r||t.__e==null||mz(t.__e),t.__e=t.__d=void 0}i(Ez,"N");function i7e(t,e,r){return this.constructor(t,r)}i(i7e,"O");function NE(t,e,r){var n,a,o;Ee.__&&Ee.__(t,e),a=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],jE(e,t=(!n&&r||e).__k=S(ri,null,[t]),a||um,um,e.ownerSVGElement!==void 0,!n&&r?[r]:a?null:e.firstChild?Wf.call(e.childNodes):null,o,!n&&r?r:a?a.__e:e.firstChild,n),_z(o,t)}i(NE,"P");function cm(t,e,r){var n,a,o,u=Bi({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?a=e[o]:u[o]=e[o];return arguments.length>2&&(u.children=arguments.length>3?Wf.call(arguments,2):r),Vf(t.type,u,n||t.key,a||t.ref,null)}i(cm,"q");Wf=yz.slice,Ee={__e:i(function(e,r,n,a){for(var o,u,s;r=r.__;)if((o=r.__c)&&!o.__)try{if((u=o.constructor)&&u.getDerivedStateFromError!=null&&(o.setState(u.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,a||{}),s=o.__d),s)return o.__E=o}catch(c){e=c}throw e},"__e")},vz=0,Z6e=i(function(e){return e!=null&&e.constructor===void 0},"i"),Be.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bi({},this.state),typeof t=="function"&&(t=t(Bi({},r),this.props)),t&&Bi(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),fz(this))},Be.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fz(this))},Be.prototype.render=ri,Hf=[],sm.__r=0,e7e=0;function Kf(t){return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE}i(Kf,"isDOMElement");function Yf(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):Kf(t)?t:null}i(Yf,"findDOMElement");function o7e(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}i(o7e,"getTextDirection");var fm=o7e;function Rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(Rz,"ownKeys");function tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(r),!0).forEach(function(n){Az(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(tl,"_objectSpread");function Az(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Az,"_defineProperty");function a7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(a7e,"_classCallCheck");function Tz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Tz,"_defineProperties");function u7e(t,e,r){return e&&Tz(t.prototype,e),r&&Tz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(u7e,"_createClass");var lt=function(){function t(e,r){a7e(this,t),r===void 0&&(r={}),this.uppy=e,this.opts=r}return i(t,"BasePlugin"),u7e(t,[{key:"getPluginState",value:i(function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}},"getPluginState")},{key:"setPluginState",value:i(function(r){var n=this.uppy.getState(),a=n.plugins;this.uppy.setState({plugins:tl(tl({},a),{},Az({},this.id,tl(tl({},a[this.id]),r)))})},"setPluginState")},{key:"setOptions",value:i(function(r){this.opts=tl(tl({},this.opts),r),this.setPluginState(),this.i18nInit()},"setOptions")},{key:"i18nInit",value:i(function(){var r=new Qy([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()},"i18nInit")},{key:"addTarget",value:i(function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},"addTarget")},{key:"install",value:i(function(){},"install")},{key:"uninstall",value:i(function(){},"uninstall")},{key:"render",value:i(function(){throw new Error("Extend the render method to add your plugin to a DOM element")},"render")},{key:"update",value:i(function(){},"update")},{key:"afterUpdate",value:i(function(){},"afterUpdate")}]),t}();function pm(t){return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}i(pm,"_typeof");function s7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(s7e,"_classCallCheck");function Iz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Iz,"_defineProperties");function l7e(t,e,r){return e&&Iz(t.prototype,e),r&&Iz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(l7e,"_createClass");function c7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}i(c7e,"_inherits");function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),DE(t,e)}i(DE,"_setPrototypeOf");function f7e(t){var e=h7e();return i(function(){var n=hm(t),a;if(e){var o=hm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return p7e(this,a)},"_createSuperInternal")}i(f7e,"_createSuper");function p7e(t,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qz(t)}i(p7e,"_possibleConstructorReturn");function qz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qz,"_assertThisInitialized");function h7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(h7e,"_isNativeReflectConstruct");function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),hm(t)}i(hm,"_getPrototypeOf");function d7e(t){return g7e(t)||m7e(t)||y7e(t)||v7e()}i(d7e,"_toConsumableArray");function v7e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(v7e,"_nonIterableSpread");function y7e(t,e){if(!!t){if(typeof t=="string")return UE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(t,e)}}i(y7e,"_unsupportedIterableToArray");function m7e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(m7e,"_iterableToArray");function g7e(t){if(Array.isArray(t))return UE(t)}i(g7e,"_arrayWithoutHoles");function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(UE,"_arrayLikeToArray");function kz(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(kz,"_classPrivateFieldLooseBase");var b7e=0;function w7e(t){return"__private_"+b7e+++"_"+t}i(w7e,"_classPrivateFieldLooseKey");function O7e(t){var e=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=a,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,d7e(r))})),e}}i(O7e,"debounce");var Xf=w7e("updateUI"),S7e=function(t){c7e(r,t);var e=f7e(r);function r(){var n;return s7e(this,r),n=e.apply(this,arguments),Object.defineProperty(qz(n),Xf,{writable:!0,value:void 0}),n}return i(r,"UIPlugin"),l7e(r,[{key:"mount",value:i(function(a,o){var u=this,s=o.id,c=Yf(a);if(c){this.isTargetDOMEl=!0;var p=document.createElement("div");return p.classList.add("uppy-Root"),kz(this,Xf)[Xf]=O7e(function(w){!u.uppy.getPlugin(u.id)||(NE(u.render(w),p),u.afterUpdate())}),this.uppy.log("Installing ".concat(s," to a DOM element '").concat(a,"'")),this.opts.replaceTargetContent&&(c.innerHTML=""),NE(this.render(this.uppy.getState()),p),this.el=p,c.appendChild(p),p.dir=this.opts.direction||fm(p)||"ltr",this.onMount(),this.el}var h;if(pm(a)==="object"&&a instanceof r)h=a;else if(typeof a=="function"){var y=a;this.uppy.iteratePlugins(function(w){w instanceof y&&(h=w)})}if(h)return this.uppy.log("Installing ".concat(s," to ").concat(h.id)),this.parent=h,this.el=h.addTarget(o),this.onMount(),this.el;this.uppy.log("Not installing ".concat(s));var m="Invalid target option given to ".concat(s,".");throw typeof a=="function"?m+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":m+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(m)},"mount")},{key:"update",value:i(function(a){if(this.el!=null){var o,u;(o=(u=kz(this,Xf))[Xf])==null||o.call(u,a)}},"update")},{key:"unmount",value:i(function(){if(this.isTargetDOMEl){var a;(a=this.el)==null||a.remove()}this.onUnmount()},"unmount")},{key:"onMount",value:i(function(){},"onMount")},{key:"onUnmount",value:i(function(){},"onUnmount")}]),r}(lt),Se=S7e;var tR={};Hl(tR,{Provider:function(){return Me},RequestClient:function(){return ht},SearchProvider:function(){return Sm},Socket:function(){return ii}});function ME(t){return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}i(ME,"_typeof");function xz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(xz,"_defineProperties");function _7e(t,e,r){return e&&xz(t.prototype,e),r&&xz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(_7e,"_createClass");function P7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(P7e,"_classCallCheck");function E7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jf(t,e)}i(E7e,"_inherits");function R7e(t){var e=Cz();return i(function(){var n=Qf(t),a;if(e){var o=Qf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return T7e(this,a)},"_createSuperInternal")}i(R7e,"_createSuper");function T7e(t,e){if(e&&(ME(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A7e(t)}i(T7e,"_possibleConstructorReturn");function A7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(A7e,"_assertThisInitialized");function BE(t){var e=typeof Map=="function"?new Map:void 0;return BE=i(function(n){if(n===null||!I7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return dm(n,arguments,Qf(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Jf(a,n)},"_wrapNativeSuper"),BE(t)}i(BE,"_wrapNativeSuper");function dm(t,e,r){return Cz()?dm=Reflect.construct.bind():dm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&Jf(p,u.prototype),p},"_construct"),dm.apply(null,arguments)}i(dm,"_construct");function Cz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Cz,"_isNativeReflectConstruct");function I7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(I7e,"_isNativeFunction");function Jf(t,e){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Jf(t,e)}i(Jf,"_setPrototypeOf");function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Qf(t)}i(Qf,"_getPrototypeOf");var k7e=function(t){E7e(r,t);var e=R7e(r);function r(n,a){var o;return P7e(this,r),a===void 0&&(a=null),o=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),o.cause=n,o.isNetworkError=!0,o.request=a,o}return i(r,"NetworkError"),_7e(r)}(BE(Error)),xn=k7e;function $i(){return fetch.apply(void 0,arguments).catch(function(t){throw t.name==="AbortError"?t:new xn(t)})}i($i,"fetchWithNetworkError");function $E(t){return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}i($E,"_typeof");function Fz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Fz,"_defineProperties");function q7e(t,e,r){return e&&Fz(t.prototype,e),r&&Fz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(q7e,"_createClass");function x7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(x7e,"_classCallCheck");function C7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zf(t,e)}i(C7e,"_inherits");function F7e(t){var e=Lz();return i(function(){var n=ep(t),a;if(e){var o=ep(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return L7e(this,a)},"_createSuperInternal")}i(F7e,"_createSuper");function L7e(t,e){if(e&&($E(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7e(t)}i(L7e,"_possibleConstructorReturn");function j7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(j7e,"_assertThisInitialized");function zE(t){var e=typeof Map=="function"?new Map:void 0;return zE=i(function(n){if(n===null||!N7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return vm(n,arguments,ep(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Zf(a,n)},"_wrapNativeSuper"),zE(t)}i(zE,"_wrapNativeSuper");function vm(t,e,r){return Lz()?vm=Reflect.construct.bind():vm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&Zf(p,u.prototype),p},"_construct"),vm.apply(null,arguments)}i(vm,"_construct");function Lz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Lz,"_isNativeReflectConstruct");function N7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(N7e,"_isNativeFunction");function Zf(t,e){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Zf(t,e)}i(Zf,"_setPrototypeOf");function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ep(t)}i(ep,"_getPrototypeOf");var D7e=function(t){C7e(r,t);var e=F7e(r);function r(n,a){var o;return x7e(this,r),a===void 0&&(a={}),o=e.call(this,n),o.cause=a.cause,o.cause&&Dr(o.cause,"isNetworkError")&&(o.isNetworkError=o.cause.isNetworkError),o}return i(r,"ErrorWithCause"),q7e(r)}(zE(Error)),ni=D7e;function GE(t){return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(t)}i(GE,"_typeof");function jz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(jz,"_defineProperties");function U7e(t,e,r){return e&&jz(t.prototype,e),r&&jz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(U7e,"_createClass");function M7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(M7e,"_classCallCheck");function B7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tp(t,e)}i(B7e,"_inherits");function $7e(t){var e=Nz();return i(function(){var n=rp(t),a;if(e){var o=rp(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return z7e(this,a)},"_createSuperInternal")}i($7e,"_createSuper");function z7e(t,e){if(e&&(GE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G7e(t)}i(z7e,"_possibleConstructorReturn");function G7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(G7e,"_assertThisInitialized");function HE(t){var e=typeof Map=="function"?new Map:void 0;return HE=i(function(n){if(n===null||!H7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return ym(n,arguments,rp(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),tp(a,n)},"_wrapNativeSuper"),HE(t)}i(HE,"_wrapNativeSuper");function ym(t,e,r){return Nz()?ym=Reflect.construct.bind():ym=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&tp(p,u.prototype),p},"_construct"),ym.apply(null,arguments)}i(ym,"_construct");function Nz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Nz,"_isNativeReflectConstruct");function H7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(H7e,"_isNativeFunction");function tp(t,e){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),tp(t,e)}i(tp,"_setPrototypeOf");function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),rp(t)}i(rp,"_getPrototypeOf");var V7e=function(t){B7e(r,t);var e=$7e(r);function r(){var n;return M7e(this,r),n=e.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return i(r,"AuthError"),U7e(r)}(HE(Error)),Dz=V7e;function WE(t){return WE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WE(t)}i(WE,"_typeof");function KE(){"use strict";KE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&WE(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(KE,"_regeneratorRuntime");function W7e(t,e){return J7e(t)||X7e(t,e)||Y7e(t,e)||K7e()}i(W7e,"_slicedToArray");function K7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(K7e,"_nonIterableRest");function Y7e(t,e){if(!!t){if(typeof t=="string")return Uz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uz(t,e)}}i(Y7e,"_unsupportedIterableToArray");function Uz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(Uz,"_arrayLikeToArray");function X7e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(X7e,"_iterableToArrayLimit");function J7e(t){if(Array.isArray(t))return t}i(J7e,"_arrayWithHoles");function Mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(Mz,"ownKeys");function mm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(r),!0).forEach(function(n){zz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(mm,"_objectSpread");function zz(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(zz,"_defineProperty");function Q7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Q7e,"_classCallCheck");function Bz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Bz,"_defineProperties");function Z7e(t,e,r){return e&&Bz(t.prototype,e),r&&Bz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Z7e,"_createClass");function $z(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i($z,"asyncGeneratorStep");function e9e(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){$z(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){$z(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(e9e,"_asyncToGenerator");var Gz;function Rr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Rr,"_classPrivateFieldLooseBase");var t9e=0;function gm(t){return"__private_"+t9e+++"_"+t}i(gm,"_classPrivateFieldLooseKey");var r9e={version:"3.0.2"};function n9e(t){return t.replace(/\/$/,"")}i(n9e,"stripSlash");function VE(t){return YE.apply(this,arguments)}i(VE,"handleJSONResponse");function YE(){return YE=e9e(KE().mark(i(function t(e){var r,n,a;return KE().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:if(e.status!==401){u.next=2;break}throw new Dz;case 2:if(r=e.json(),!(e.status<200||e.status>300)){u.next=14;break}return n="Failed request with status: ".concat(e.status,". ").concat(e.statusText),u.prev=5,u.next=8,r;case 8:a=u.sent,n=a.message?"".concat(n," message: ").concat(a.message):n,n=a.requestId?"".concat(n," request-Id: ").concat(a.requestId):n;case 11:throw u.prev=11,new Error(n);case 14:return u.abrupt("return",r);case 15:case"end":return u.stop()}},"_callee$"),t,null,[[5,,11,14]])},"_callee"))),YE.apply(this,arguments)}i(YE,"_handleJSONResponse");var zi=gm("companionHeaders"),ou=gm("getPostResponseFunc"),Gi=gm("getUrl"),au=gm("errorHandler");Gz=Symbol.for("uppy test: getCompanionHeaders");var ht=function(t){function e(r,n){var a=this;Q7e(this,e),Object.defineProperty(this,au,{value:o9e}),Object.defineProperty(this,Gi,{value:i9e}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,ou,{writable:!0,value:i(function(u){return function(s){return u?s:a.onReceiveResponse(s)}},"value")}),this.uppy=r,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,Rr(this,zi)[zi]=n==null?void 0:n.companionHeaders}return i(e,"RequestClient"),Z7e(e,[{key:"setCompanionHeaders",value:i(function(n){Rr(this,zi)[zi]=n},"setCompanionHeaders")},{key:t,value:i(function(){return Rr(this,zi)[zi]},"value")},{key:"hostname",get:i(function(){var n=this.uppy.getState(),a=n.companion,o=this.opts.companionUrl;return n9e(a&&a[o]?a[o]:o)},"get")},{key:"headers",value:i(function(){return Promise.resolve(mm(mm({},e.defaultHeaders),Rr(this,zi)[zi]))},"headers")},{key:"onReceiveResponse",value:i(function(n){var a=this.uppy.getState(),o=a.companion||{},u=this.opts.companionUrl,s=n.headers;return s.has("i-am")&&s.get("i-am")!==o[u]&&this.uppy.setState({companion:mm(mm({},o),{},zz({},u,s.get("i-am")))}),n},"onReceiveResponse")},{key:"preflight",value:i(function(n){var a=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Rr(this,Gi)[Gi](n),{method:"OPTIONS"}).then(function(o){return o.headers.has("access-control-allow-headers")&&(a.allowedHeaders=o.headers.get("access-control-allow-headers").split(",").map(function(u){return u.trim().toLowerCase()})),a.preflightDone=!0,a.allowedHeaders.slice()}).catch(function(o){return a.uppy.log("[CompanionClient] unable to make preflight request ".concat(o),"warning"),a.preflightDone=!0,a.allowedHeaders.slice()})},"preflight")},{key:"preflightAndHeaders",value:i(function(n){var a=this;return Promise.all([this.preflight(n),this.headers()]).then(function(o){var u=W7e(o,2),s=u[0],c=u[1];return Object.keys(c).forEach(function(p){s.includes(p.toLowerCase())||(a.uppy.log("[CompanionClient] excluding disallowed header ".concat(p)),delete c[p])}),c})},"preflightAndHeaders")},{key:"get",value:i(function(n,a){var o=this,u="get";return this.preflightAndHeaders(n).then(function(s){return $i(Rr(o,Gi)[Gi](n),{method:u,headers:s,credentials:o.opts.companionCookiesRule||"same-origin"})}).then(Rr(this,ou)[ou](a)).then(VE).catch(Rr(this,au)[au](u,n))},"get")},{key:"post",value:i(function(n,a,o){var u=this,s="post";return this.preflightAndHeaders(n).then(function(c){return $i(Rr(u,Gi)[Gi](n),{method:s,headers:c,credentials:u.opts.companionCookiesRule||"same-origin",body:JSON.stringify(a)})}).then(Rr(this,ou)[ou](o)).then(VE).catch(Rr(this,au)[au](s,n))},"post")},{key:"delete",value:i(function(n,a,o){var u=this,s="delete";return this.preflightAndHeaders(n).then(function(c){return $i("".concat(u.hostname,"/").concat(n),{method:s,headers:c,credentials:u.opts.companionCookiesRule||"same-origin",body:a?JSON.stringify(a):null})}).then(Rr(this,ou)[ou](o)).then(VE).catch(Rr(this,au)[au](s,n))},"_delete")}]),e}(Gz);function i9e(t){return/^(https?:|)\/\//.test(t)?t:"".concat(this.hostname,"/").concat(t)}i(i9e,"_getUrl2");function o9e(t,e){var r=this;return function(n){var a;return(a=n)!=null&&a.isAuthError||(n=new ni("Could not ".concat(t," ").concat(Rr(r,Gi)[Gi](e)),{cause:n})),Promise.reject(n)}}i(o9e,"_errorHandler2");ht.VERSION=r9e.version;ht.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(ht.VERSION)};var XE={};Hl(XE,{getItem:function(){return u9e},removeItem:function(){return s9e},setItem:function(){return a9e}});function a9e(t,e){return new Promise(function(r){localStorage.setItem(t,e),r()})}i(a9e,"setItem");function u9e(t){return Promise.resolve(localStorage.getItem(t))}i(u9e,"getItem");function s9e(t){return new Promise(function(e){localStorage.removeItem(t),e()})}i(s9e,"removeItem");function wm(t){return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}i(wm,"_typeof");function np(){"use strict";np=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&wm(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(np,"_regeneratorRuntime");function Hz(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(Hz,"asyncGeneratorStep");function Vz(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){Hz(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){Hz(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(Vz,"_asyncToGenerator");function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(Wz,"ownKeys");function bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){l9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(bm,"_objectSpread");function l9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(l9e,"_defineProperty");function Kz(t,e){return h9e(t)||p9e(t,e)||f9e(t,e)||c9e()}i(Kz,"_slicedToArray");function c9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(c9e,"_nonIterableRest");function f9e(t,e){if(!!t){if(typeof t=="string")return Yz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yz(t,e)}}i(f9e,"_unsupportedIterableToArray");function Yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(Yz,"_arrayLikeToArray");function p9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(p9e,"_iterableToArrayLimit");function h9e(t){if(Array.isArray(t))return t}i(h9e,"_arrayWithHoles");function d9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(d9e,"_classCallCheck");function Xz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Xz,"_defineProperties");function v9e(t,e,r){return e&&Xz(t.prototype,e),r&&Xz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(v9e,"_createClass");function ip(){return typeof Reflect!="undefined"&&Reflect.get?ip=Reflect.get.bind():ip=i(function(e,r,n){var a=y9e(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),ip.apply(this,arguments)}i(ip,"_get");function y9e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=uu(t),t!==null););return t}i(y9e,"_superPropBase");function m9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}i(m9e,"_inherits");function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),JE(t,e)}i(JE,"_setPrototypeOf");function g9e(t){var e=O9e();return i(function(){var n=uu(t),a;if(e){var o=uu(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return b9e(this,a)},"_createSuperInternal")}i(g9e,"_createSuper");function b9e(t,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w9e(t)}i(b9e,"_possibleConstructorReturn");function w9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(w9e,"_assertThisInitialized");function O9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(O9e,"_isNativeReflectConstruct");function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),uu(t)}i(uu,"_getPrototypeOf");var S9e=i(function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},"getName"),Me=function(t){m9e(r,t);var e=g9e(r);function r(n,a){var o;return d9e(this,r),o=e.call(this,n,a),o.provider=a.provider,o.id=o.provider,o.name=o.opts.name||S9e(o.id),o.pluginId=o.opts.pluginId,o.tokenKey="companion-".concat(o.pluginId,"-auth-token"),o.companionKeysParams=o.opts.companionKeysParams,o.preAuthToken=null,o}return i(r,"Provider"),v9e(r,[{key:"headers",value:i(function(){var a=this;return Promise.all([ip(uu(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(o){var u=Kz(o,2),s=u[0],c=u[1],p={};return c&&(p["uppy-auth-token"]=c),a.companionKeysParams&&(p["uppy-credentials-params"]=btoa(JSON.stringify({params:a.companionKeysParams}))),bm(bm({},s),p)})},"headers")},{key:"onReceiveResponse",value:i(function(a){a=ip(uu(r.prototype),"onReceiveResponse",this).call(this,a);var o=this.uppy.getPlugin(this.pluginId),u=o.getPluginState().authenticated,s=u?a.status!==401:a.status<400;return o.setPluginState({authenticated:s}),a},"onReceiveResponse")},{key:"setAuthToken",value:i(function(a){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,a)},"setAuthToken")},{key:"getAuthToken",value:i(function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},"getAuthToken")},{key:"ensurePreAuth",value:function(){var n=Vz(np().mark(i(function o(){return np().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(this.companionKeysParams&&!this.preAuthToken)){s.next=5;break}return s.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){s.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return s.stop()}},"_callee$"),o,this)},"_callee")));function a(){return n.apply(this,arguments)}return i(a,"ensurePreAuth"),a}()},{key:"authUrl",value:i(function(a){a===void 0&&(a={});var o=new URLSearchParams(a);return this.preAuthToken&&o.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(o)},"authUrl")},{key:"fileUrl",value:i(function(a){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(a)},"fileUrl")},{key:"fetchPreAuthToken",value:function(){var n=Vz(np().mark(i(function o(){var u;return np().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.companionKeysParams){c.next=2;break}return c.abrupt("return");case 2:return c.prev=2,c.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:u=c.sent,this.preAuthToken=u.token,c.next=12;break;case 9:c.prev=9,c.t0=c.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(c.t0),"warning");case 12:case"end":return c.stop()}},"_callee2$"),o,this,[[2,9]])},"_callee2")));function a(){return n.apply(this,arguments)}return i(a,"fetchPreAuthToken"),a}()},{key:"list",value:i(function(a){return this.get("".concat(this.id,"/list/").concat(a||""))},"list")},{key:"logout",value:i(function(){var a=this;return this.get("".concat(this.id,"/logout")).then(function(o){return Promise.all([o,a.uppy.getPlugin(a.pluginId).storage.removeItem(a.tokenKey)])}).then(function(o){var u=Kz(o,1),s=u[0];return s})},"logout")}],[{key:"initPlugin",value:i(function(a,o,u){if(a.type="acquirer",a.files=[],u&&(a.opts=bm(bm({},u),o)),o.serverUrl||o.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(o.companionAllowedHosts){var s=o.companionAllowedHosts;if(typeof s!="string"&&!Array.isArray(s)&&!(s instanceof RegExp))throw new TypeError("".concat(a.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));a.opts.companionAllowedHosts=s}else/^(?!https?:\/\/).*$/i.test(o.companionUrl)?a.opts.companionAllowedHosts="https://".concat(o.companionUrl.replace(/^\/\//,"")):a.opts.companionAllowedHosts=new URL(o.companionUrl).origin;a.storage=a.opts.storage||XE},"initPlugin")}]),r}(ht);function QE(t){return QE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QE(t)}i(QE,"_typeof");function _9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_9e,"_classCallCheck");function Jz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Jz,"_defineProperties");function P9e(t,e,r){return e&&Jz(t.prototype,e),r&&Jz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(P9e,"_createClass");function E9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}i(E9e,"_inherits");function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),ZE(t,e)}i(ZE,"_setPrototypeOf");function R9e(t){var e=I9e();return i(function(){var n=Om(t),a;if(e){var o=Om(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return T9e(this,a)},"_createSuperInternal")}i(R9e,"_createSuper");function T9e(t,e){if(e&&(QE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A9e(t)}i(T9e,"_possibleConstructorReturn");function A9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(A9e,"_assertThisInitialized");function I9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(I9e,"_isNativeReflectConstruct");function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Om(t)}i(Om,"_getPrototypeOf");var k9e=i(function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},"getName"),Sm=function(t){E9e(r,t);var e=R9e(r);function r(n,a){var o;return _9e(this,r),o=e.call(this,n,a),o.provider=a.provider,o.id=o.provider,o.name=o.opts.name||k9e(o.id),o.pluginId=o.opts.pluginId,o}return i(r,"SearchProvider"),P9e(r,[{key:"fileUrl",value:i(function(a){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(a)},"fileUrl")},{key:"search",value:i(function(a,o){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(a)).concat(o?"&".concat(o):""))},"search")}]),r}(ht);var tG=Te(bE(),1);function q9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(q9e,"_classCallCheck");function Qz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Qz,"_defineProperties");function x9e(t,e,r){return e&&Qz(t.prototype,e),r&&Qz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(x9e,"_createClass");var Zz,eG;function St(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(St,"_classPrivateFieldLooseBase");var C9e=0;function op(t){return"__private_"+C9e+++"_"+t}i(op,"_classPrivateFieldLooseKey");var Hi=op("queued"),su=op("emitter"),Cn=op("isOpen"),ur=op("socket"),eR=op("handleMessage");Zz=Symbol.for("uppy test: getSocket");eG=Symbol.for("uppy test: getQueued");var ii=function(t,e){function r(n){var a=this;q9e(this,r),Object.defineProperty(this,Hi,{writable:!0,value:[]}),Object.defineProperty(this,su,{writable:!0,value:(0,tG.default)()}),Object.defineProperty(this,Cn,{writable:!0,value:!1}),Object.defineProperty(this,ur,{writable:!0,value:void 0}),Object.defineProperty(this,eR,{writable:!0,value:i(function(u){try{var s=JSON.parse(u.data);a.emit(s.action,s.payload)}catch(c){console.log(c)}},"value")}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return i(r,"UppySocket"),x9e(r,[{key:"isOpen",get:i(function(){return St(this,Cn)[Cn]},"get")},{key:t,value:i(function(){return St(this,ur)[ur]},"value")},{key:e,value:i(function(){return St(this,Hi)[Hi]},"value")},{key:"open",value:i(function(){var a=this;St(this,ur)[ur]=new WebSocket(this.opts.target),St(this,ur)[ur].onopen=function(){for(St(a,Cn)[Cn]=!0;St(a,Hi)[Hi].length>0&&St(a,Cn)[Cn];){var o=St(a,Hi)[Hi].shift();a.send(o.action,o.payload)}},St(this,ur)[ur].onclose=function(){St(a,Cn)[Cn]=!1},St(this,ur)[ur].onmessage=St(this,eR)[eR]},"open")},{key:"close",value:i(function(){var a;(a=St(this,ur)[ur])==null||a.close()},"close")},{key:"send",value:i(function(a,o){if(!St(this,Cn)[Cn]){St(this,Hi)[Hi].push({action:a,payload:o});return}St(this,ur)[ur].send(JSON.stringify({action:a,payload:o}))},"send")},{key:"on",value:i(function(a,o){St(this,su)[su].on(a,o)},"on")},{key:"emit",value:i(function(a,o){St(this,su)[su].emit(a,o)},"emit")},{key:"once",value:i(function(a,o){St(this,su)[su].once(a,o)},"once")}]),r}(Zz,eG);var vR={};Hl(vR,{ProviderViews:function(){return Dt},SearchProviderViews:function(){return nl}});function F9e(){return S("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},S("g",{fill:"none","fill-rule":"evenodd"},S("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),S("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),S("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),S("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),S("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),S("path",{d:"M4 4h18v18H4z"})))}i(F9e,"GoogleIcon");function L9e(t){var e=t.pluginName,r=t.pluginIcon,n=t.i18nArray,a=t.handleAuth,o=e==="Google Drive",u=S("span",{className:"uppy-Provider-authTitleName"},e,S("br",null));return S("div",{className:"uppy-Provider-auth"},S("div",{className:"uppy-Provider-authIcon"},r()),S("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:u})),o?S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:a,"data-uppy-super-focusable":!0},S(F9e,null),n("signInWithGoogle")):S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:a,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:e})))}i(L9e,"AuthView");var rG=L9e;var nG=i(function(t){var e=t.i18n,r=t.logout,n=t.username;return[S("span",{className:"uppy-ProviderBrowser-user",key:"username"},n),S("button",{type:"button",onClick:r,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut"))]},"default");var j9e=i(function(e){var r=e.getFolder,n=e.title,a=e.isLast;return S(ri,null,S("button",{type:"button",className:"uppy-u-reset",onClick:r},n),a?"":" / ")},"Breadcrumb"),iG=i(function(t){var e=t.getFolder,r=t.title,n=t.breadcrumbsIcon,a=t.directories;return S("div",{className:"uppy-Provider-breadcrumbs"},S("div",{className:"uppy-Provider-breadcrumbsIcon"},n),a.map(function(o,u){return S(j9e,{key:o.id,getFolder:i(function(){return e(o.id)},"getFolder"),title:u===0?r:o.title,isLast:u+1===a.length})}))},"default");var oG=i(function(t){var e=[];return t.showBreadcrumbs&&e.push(iG({getFolder:t.getFolder,directories:t.directories,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(nG({logout:t.logout,username:t.username,i18n:t.i18n})),e},"default");var uR=Te(Mr(),1);function aG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(aG,"ownKeys");function uG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(r),!0).forEach(function(n){N9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(uG,"_objectSpread");function N9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(N9e,"_defineProperty");function ap(t){return uG(uG({},t),{},{type:t.mimeType,extension:t.name?ji(t.name).extension:null})}i(ap,"remoteFileObjToLocal");function rR(t){return rR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rR(t)}i(rR,"_typeof");function D9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(D9e,"_classCallCheck");function sG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(sG,"_defineProperties");function U9e(t,e,r){return e&&sG(t.prototype,e),r&&sG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(U9e,"_createClass");function M9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nR(t,e)}i(M9e,"_inherits");function nR(t,e){return nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),nR(t,e)}i(nR,"_setPrototypeOf");function B9e(t){var e=z9e();return i(function(){var n=Em(t),a;if(e){var o=Em(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return $9e(this,a)},"_createSuperInternal")}i(B9e,"_createSuper");function $9e(t,e){if(e&&(rR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}i($9e,"_possibleConstructorReturn");function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(lG,"_assertThisInitialized");function z9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(z9e,"_isNativeReflectConstruct");function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Em(t)}i(Em,"_getPrototypeOf");var cG=function(t){M9e(r,t);var e=B9e(r);function r(n){var a;return D9e(this,r),a=e.call(this,n),a.preventEnterPress=a.preventEnterPress.bind(lG(a)),a}return i(r,"Filter"),U9e(r,[{key:"preventEnterPress",value:i(function(a){a.keyCode===13&&(a.stopPropagation(),a.preventDefault())},"preventEnterPress")},{key:"render",value:i(function(){var a=this.props,o=a.i18n,u=a.filterInput,s=a.filterQuery;return S("div",{className:"uppy-ProviderBrowser-filter"},S("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:o("filter"),"aria-label":o("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:i(function(p){return s(p)},"onInput"),value:u}),S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},S("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),u&&S("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":o("resetFilter"),title:o("resetFilter"),onClick:s},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},S("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},"render")}]),r}(Be);var fG=i(function(t){var e=t.cancel,r=t.done,n=t.i18n,a=t.selected;return S("div",{className:"uppy-ProviderBrowser-footer"},S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:r,type:"button"},n("selectX",{smart_count:a})),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},n("cancel")))},"default");var dG=Te(Mr(),1);function G9e(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},S("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}i(G9e,"FileIcon");function H9e(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},S("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}i(H9e,"FolderIcon");function V9e(){return S("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},S("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),S("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}i(V9e,"VideoIcon");var pG=i(function(t){var e=t.itemIconString;if(e!==null)switch(e){case"file":return S(G9e,null);case"folder":return S(H9e,null);case"video":return S(V9e,null);default:{var r=t.alt;return S("img",{src:e,alt:r})}}},"default");function W9e(t){var e=t.className,r=t.isDisabled,n=t.restrictionError,a=t.isChecked,o=t.title,u=t.itemIconEl,s=t.showTitles,c=t.toggleCheckbox,p=t.recordShiftKeyPress,h=t.id,y=t.children;return S("li",{className:e,title:r?n==null?void 0:n.message:null},S("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:c,onKeyDown:p,name:"listitem",id:h,checked:a,disabled:r,"data-uppy-super-focusable":!0}),S("label",{htmlFor:h,"aria-label":o,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},S("span",{className:"uppy-ProviderBrowserItem-inner-relative"},u,s&&o,y)))}i(W9e,"GridListItem");var iR=W9e;function K9e(t){var e=t.className,r=t.isDisabled,n=t.restrictionError,a=t.isCheckboxDisabled,o=t.isChecked,u=t.toggleCheckbox,s=t.recordShiftKeyPress,c=t.type,p=t.id,h=t.itemIconEl,y=t.title,m=t.handleFolderClick,w=t.showTitles,_=t.i18n;return S("li",{className:e,title:r?n==null?void 0:n.message:null},a?null:S("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(o?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:u,onKeyDown:s,name:"listitem",id:p,checked:o,"aria-label":c==="file"?null:_("allFilesFromFolderNamed",{name:y}),disabled:r,"data-uppy-super-focusable":!0}),c==="file"?S("label",{htmlFor:p,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},S("div",{className:"uppy-ProviderBrowserItem-iconWrap"},h),w&&y):S("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:m,"aria-label":_("openFolderNamed",{name:y})},S("div",{className:"uppy-ProviderBrowserItem-iconWrap"},h),w&&S("span",null,y)))}i(K9e,"ListItem");var hG=K9e;function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},up.apply(this,arguments)}i(up,"_extends");var oR=i(function(t){var e=t.author,r=t.getItemIcon,n=t.isChecked,a=t.isDisabled,o=t.viewType,u=r(),s=(0,dG.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":n},{"uppy-ProviderBrowserItem--disabled":a},{"uppy-ProviderBrowserItem--noPreview":u==="video"}),c=S(pG,{itemIconString:u});switch(o){case"grid":return S(iR,up({},t,{className:s,itemIconEl:c}));case"list":return S(hG,up({},t,{className:s,itemIconEl:c}));case"unsplash":return S(iR,up({},t,{className:s,itemIconEl:c}),S("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(o))}},"default");function vG(t){return Q9e(t)||J9e(t)||X9e(t)||Y9e()}i(vG,"_toConsumableArray");function Y9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Y9e,"_nonIterableSpread");function X9e(t,e){if(!!t){if(typeof t=="string")return aR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(t,e)}}i(X9e,"_unsupportedIterableToArray");function J9e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(J9e,"_iterableToArray");function Q9e(t){if(Array.isArray(t))return aR(t)}i(Q9e,"_arrayWithoutHoles");function aR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(aR,"_arrayLikeToArray");var Z9e="shared-with-me";function e$e(t){var e=t.currentSelection,r=t.folders,n=t.files,a=t.uppyFiles,o=t.viewType,u=t.headerComponent,s=t.showBreadcrumbs,c=t.isChecked,p=t.toggleCheckbox,h=t.recordShiftKeyPress,y=t.handleScroll,m=t.showTitles,w=t.i18n,_=t.validateRestrictions,R=t.showFilter,T=t.filterQuery,E=t.filterInput,A=t.getNextFolder,C=t.cancel,U=t.done,G=t.columns,M=e.length;return S("div",{className:(0,uR.default)("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(o))},S("div",{className:"uppy-ProviderBrowser-header"},S("div",{className:(0,uR.default)("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},u)),R&&S(cG,{i18n:w,filterQuery:T,filterInput:E}),function(){return!r.length&&!n.length?S("div",{className:"uppy-Provider-empty"},w("noFilesFound")):S("div",{className:"uppy-ProviderBrowser-body"},S("ul",{className:"uppy-ProviderBrowser-list",onScroll:y,role:"listbox",tabIndex:"-1"},r.map(function(z){var W;return oR({columns:G,showTitles:m,viewType:o,i18n:w,id:z.id,title:z.name,getItemIcon:i(function(){return z.icon},"getItemIcon"),isChecked:c(z),toggleCheckbox:i(function(f){return p(f,z)},"toggleCheckbox"),recordShiftKeyPress:h,type:"folder",isDisabled:(W=c(z))==null?void 0:W.loading,isCheckboxDisabled:z.id===Z9e,handleFolderClick:i(function(){return A(z)},"handleFolderClick")})}),n.map(function(z){var W=_(ap(z),[].concat(vG(a),vG(e)));return oR({id:z.id,title:z.name,author:z.author,getItemIcon:i(function(){return z.icon},"getItemIcon"),isChecked:c(z),toggleCheckbox:i(function(f){return p(f,z)},"toggleCheckbox"),recordShiftKeyPress:h,columns:G,showTitles:m,viewType:o,i18n:w,type:"file",isDisabled:W&&!c(z),restrictionError:W})})))}(),M>0&&S(fG,{selected:M,done:U,cancel:C,i18n:w}))}i(e$e,"Browser");var Rm=e$e;var Tm=i(function(t){var e=t.i18n;return S("div",{className:"uppy-Provider-loading"},S("span",null,e("loading")))},"default");function sR(t){return sR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sR(t)}i(sR,"_typeof");function t$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(t$e,"_classCallCheck");function yG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(yG,"_defineProperties");function r$e(t,e,r){return e&&yG(t.prototype,e),r&&yG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(r$e,"_createClass");function n$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lR(t,e)}i(n$e,"_inherits");function lR(t,e){return lR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),lR(t,e)}i(lR,"_setPrototypeOf");function i$e(t){var e=u$e();return i(function(){var n=Am(t),a;if(e){var o=Am(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return o$e(this,a)},"_createSuperInternal")}i(i$e,"_createSuper");function o$e(t,e){if(e&&(sR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a$e(t)}i(o$e,"_possibleConstructorReturn");function a$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(a$e,"_assertThisInitialized");function u$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(u$e,"_isNativeReflectConstruct");function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Am(t)}i(Am,"_getPrototypeOf");var Jo=function(t){n$e(r,t);var e=i$e(r);function r(){return t$e(this,r),e.apply(this,arguments)}return i(r,"CloseWrapper"),r$e(r,[{key:"componentWillUnmount",value:i(function(){var a=this.props.onUnmount;a()},"componentWillUnmount")},{key:"render",value:i(function(){var a=this.props.children;return cn(a)[0]},"render")}]),r}(Be);function rl(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}i(rl,"isPreviewSupported");function s$e(t){return f$e(t)||c$e(t)||gG(t)||l$e()}i(s$e,"_toConsumableArray");function l$e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(l$e,"_nonIterableSpread");function c$e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(c$e,"_iterableToArray");function f$e(t){if(Array.isArray(t))return cR(t)}i(f$e,"_arrayWithoutHoles");function p$e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gG(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(p$e,"_createForOfIteratorHelper");function gG(t,e){if(!!t){if(typeof t=="string")return cR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(t,e)}}i(gG,"_unsupportedIterableToArray");function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(cR,"_arrayLikeToArray");function h$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(h$e,"_classCallCheck");function mG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(mG,"_defineProperties");function d$e(t,e,r){return e&&mG(t.prototype,e),r&&mG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(d$e,"_createClass");var bG=function(){function t(e){h$e(this,t),this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return i(t,"SharedHandler"),d$e(t,[{key:"filterItems",value:i(function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(a){return a.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})},"filterItems")},{key:"recordShiftKeyPress",value:i(function(r){this.isShiftKeyPressed=r.shiftKey},"recordShiftKeyPress")},{key:"toggleCheckbox",value:i(function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var a=this.plugin.getPluginState(),o=a.folders,u=a.files,s=this.filterItems(o.concat(u));if(this.lastCheckbox&&this.isShiftKeyPressed){var c=s.indexOf(this.lastCheckbox),p=s.indexOf(n),h=c<p?s.slice(c,p+1):s.slice(p,c+1),y=[],m=p$e(h),w;try{for(m.s();!(w=m.n()).done;){var _=w.value,R=this.plugin.uppy,T=R.validateRestrictions(ap(_),[].concat(s$e(R.getFiles()),y));T?R.info({message:T.message},"error",R.opts.infoTimeout):y.push(_)}}catch(C){m.e(C)}finally{m.f()}this.plugin.setPluginState({currentSelection:y});return}this.lastCheckbox=n;var E=this.plugin.getPluginState(),A=E.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:A.filter(function(C){return C.id!==n.id})}):this.plugin.setPluginState({currentSelection:A.concat([n])})},"toggleCheckbox")},{key:"isChecked",value:i(function(r){var n=this.plugin.getPluginState(),a=n.currentSelection;return a.some(function(o){return o.id===r.id})},"isChecked")},{key:"loaderWrapper",value:i(function(r,n,a){var o=this;r.then(function(u){o.plugin.setPluginState({loading:!1}),n(u)}).catch(function(u){o.plugin.setPluginState({loading:!1}),a(u)}),this.plugin.setPluginState({loading:!0})},"loaderWrapper")}]),t}();function v$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(v$e,"_classCallCheck");function wG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wG,"_defineProperties");function y$e(t,e,r){return e&&wG(t.prototype,e),r&&wG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(y$e,"_createClass");var Im=function(){function t(e,r){v$e(this,t),this.plugin=e,this.provider=r.provider,this.sharedHandler=new bG(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return i(t,"View"),y$e(t,[{key:"providerFileToId",value:i(function(r){return jf({data:r,name:r.name||r.id,type:r.mimetype})},"providerFileToId")},{key:"preFirstRender",value:i(function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()},"preFirstRender")},{key:"shouldHandleScroll",value:i(function(r){var n=r.target,a=n.scrollHeight,o=n.scrollTop,u=n.offsetHeight,s=a-(o+u);return s<50&&!this.isHandlingScroll},"shouldHandleScroll")},{key:"clearSelection",value:i(function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})},"clearSelection")},{key:"cancelPicking",value:i(function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()},"cancelPicking")},{key:"handleError",value:i(function(r){var n=this.plugin.uppy,a=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:a,details:r.toString()},"error",5e3)},"handleError")},{key:"addFile",value:i(function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},a=Lf(n);a&&rl(a)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(o){return o.isRestriction||this.plugin.uppy.log(o),!1}},"addFile")}]),t}();function km(t){return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}i(km,"_typeof");function lu(){"use strict";lu=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&km(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(lu,"_regeneratorRuntime");function OG(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(OG,"asyncGeneratorStep");function fR(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){OG(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){OG(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(fR,"_asyncToGenerator");function SG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(SG,"ownKeys");function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SG(Object(r),!0).forEach(function(n){m$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Vi,"_objectSpread");function m$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(m$e,"_defineProperty");function g$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(g$e,"_classCallCheck");function _G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_G,"_defineProperties");function b$e(t,e,r){return e&&_G(t.prototype,e),r&&_G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(b$e,"_createClass");function w$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pR(t,e)}i(w$e,"_inherits");function pR(t,e){return pR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),pR(t,e)}i(pR,"_setPrototypeOf");function O$e(t){var e=_$e();return i(function(){var n=qm(t),a;if(e){var o=qm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return S$e(this,a)},"_createSuperInternal")}i(O$e,"_createSuper");function S$e(t,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}i(S$e,"_possibleConstructorReturn");function Fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Fn,"_assertThisInitialized");function _$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(_$e,"_isNativeReflectConstruct");function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),qm(t)}i(qm,"_getPrototypeOf");function PG(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(PG,"_classPrivateFieldLooseBase");var P$e=0;function E$e(t){return"__private_"+P$e+++"_"+t}i(E$e,"_classPrivateFieldLooseKey");var R$e={version:"3.0.1"};function T$e(){return location.origin}i(T$e,"getOrigin");function EG(t){if(typeof t=="string")return new RegExp("^".concat(t,"$"));if(t instanceof RegExp)return t}i(EG,"getRegex");function A$e(t,e){var r=Array.isArray(e)?e.map(EG):[EG(e)];return r.some(function(n){return(n==null?void 0:n.test(t))||(n==null?void 0:n.test("".concat(t,"/")))})}i(A$e,"isOriginAllowed");var sp=E$e("updateFilesAndFolders"),Dt=function(t){w$e(r,t);var e=O$e(r);function r(n,a){var o;g$e(this,r),o=e.call(this,n,a),Object.defineProperty(Fn(o),sp,{value:I$e});var u={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return o.opts=Vi(Vi({},u),a),o.filterQuery=o.filterQuery.bind(Fn(o)),o.getFolder=o.getFolder.bind(Fn(o)),o.getNextFolder=o.getNextFolder.bind(Fn(o)),o.logout=o.logout.bind(Fn(o)),o.handleAuth=o.handleAuth.bind(Fn(o)),o.handleScroll=o.handleScroll.bind(Fn(o)),o.listAllFiles=o.listAllFiles.bind(Fn(o)),o.donePicking=o.donePicking.bind(Fn(o)),o.render=o.render.bind(Fn(o)),o.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),o}return i(r,"ProviderView"),b$e(r,[{key:"tearDown",value:i(function(){},"tearDown")},{key:"getFolder",value:i(function(a,o){var u=this;return this.sharedHandler.loaderWrapper(this.provider.list(a),function(s){var c=[],p=[],h,y=u.plugin.getPluginState(),m=y.directories.findIndex(function(w){return a===w.id});m!==-1?h=y.directories.slice(0,m+1):h=y.directories.concat([{id:a,title:o}]),u.username=s.username||u.username,PG(u,sp)[sp](s,p,c),u.plugin.setPluginState({directories:h,filterInput:""})},this.handleError)},"getFolder")},{key:"getNextFolder",value:i(function(a){this.getFolder(a.requestPath,a.name),this.lastCheckbox=void 0},"getNextFolder")},{key:"logout",value:i(function(){var a=this;this.provider.logout().then(function(o){if(o.ok){if(!o.revoked){var u=a.plugin.uppy.i18n("companionUnauthorizeHint",{provider:a.plugin.title,url:o.manual_revoke_url});a.plugin.uppy.info(u,"info",7e3)}var s={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};a.plugin.setPluginState(s)}}).catch(this.handleError)},"logout")},{key:"filterQuery",value:i(function(a){var o=this.plugin.getPluginState();this.plugin.setPluginState(Vi(Vi({},o),{},{filterInput:a?a.target.value:""}))},"filterQuery")},{key:"addFolder",value:i(function(a){var o=this,u=this.providerFileToId(a),s=Vi({},this.plugin.getPluginState().selectedFolders);if(!(u in s&&s[u].loading))return s[u]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:Vi({},s)}),this.listAllFiles(a.requestPath).then(function(c){var p=0;c.forEach(function(m){var w=o.providerFileToId(m);o.plugin.uppy.checkIfFileAlreadyExists(w)||p++}),p>0&&c.forEach(function(m){return o.addFile(m)});var h=c.map(o.providerFileToId);s[u]={loading:!1,files:h},o.plugin.setPluginState({selectedFolders:s,filterInput:""});var y;p===0?y=o.plugin.uppy.i18n("folderAlreadyAdded",{folder:a.name}):c.length?y=o.plugin.uppy.i18n("folderAdded",{smart_count:p,folder:a.name}):y=o.plugin.uppy.i18n("emptyFolderAdded"),o.plugin.uppy.info(y)}).catch(function(c){var p=Vi({},o.plugin.getPluginState().selectedFolders);delete p[u],o.plugin.setPluginState({selectedFolders:p}),o.handleError(c)})},"addFolder")},{key:"handleAuth",value:function(){var n=fR(lu().mark(i(function o(){var u=this,s,c,p,h,y;return lu().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.provider.ensurePreAuth();case 2:s=btoa(JSON.stringify({origin:T$e()})),c="@uppy/provider-views=".concat(r.VERSION),p=this.provider.authUrl({state:s,uppyVersions:c}),h=window.open(p,"_blank"),y=i(function _(R){if(R.source!==h){u.plugin.uppy.log("rejecting event from unknown source");return}(!A$e(R.origin,u.plugin.opts.companionAllowedHosts)||R.source!==h)&&u.plugin.uppy.log("rejecting event from ".concat(R.origin," vs allowed pattern ").concat(u.plugin.opts.companionAllowedHosts));var T=typeof R.data=="string"?JSON.parse(R.data):R.data;if(T.error){u.plugin.uppy.log("auth aborted","warning");var E=u.plugin.uppy,A=E.i18n("authAborted");E.info({message:A},"warning",5e3);return}if(!T.token){u.plugin.uppy.log("did not receive token from auth window","error");return}h.close(),window.removeEventListener("message",_),u.provider.setAuthToken(T.token),u.preFirstRender()},"handleToken"),window.addEventListener("message",y);case 8:case"end":return w.stop()}},"_callee$"),o,this)},"_callee")));function a(){return n.apply(this,arguments)}return i(a,"handleAuth"),a}()},{key:"handleScroll",value:function(){var n=fR(lu().mark(i(function o(u){var s,c,p,h,y;return lu().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.nextPagePath||null,!(this.shouldHandleScroll(u)&&s)){w.next=17;break}return this.isHandlingScroll=!0,w.prev=3,w.next=6,this.provider.list(s);case 6:c=w.sent,p=this.plugin.getPluginState(),h=p.files,y=p.folders,PG(this,sp)[sp](c,h,y),w.next=14;break;case 11:w.prev=11,w.t0=w.catch(3),this.handleError(w.t0);case 14:return w.prev=14,this.isHandlingScroll=!1,w.finish(14);case 17:case"end":return w.stop()}},"_callee2$"),o,this,[[3,11,14,17]])},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"handleScroll"),a}()},{key:"listAllFiles",value:function(){var n=fR(lu().mark(i(function o(u,s){var c=this,p,h;return lu().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:return s===void 0&&(s=null),s=s||[],m.next=4,this.provider.list(u);case 4:if(p=m.sent,p.items.forEach(function(w){w.isFolder?c.addFolder(w):s.push(w)}),h=p.nextPagePath,!h){m.next=9;break}return m.abrupt("return",this.listAllFiles(h,s));case 9:return m.abrupt("return",s);case 10:case"end":return m.stop()}},"_callee3$"),o,this)},"_callee3")));function a(o,u){return n.apply(this,arguments)}return i(a,"listAllFiles"),a}()},{key:"donePicking",value:i(function(){var a=this,o=this.plugin.getPluginState(),u=o.currentSelection,s=u.map(function(c){return c.isFolder?a.addFolder(c):a.addFile(c)});this.sharedHandler.loaderWrapper(Promise.all(s),function(){a.clearSelection()},function(){})},"donePicking")},{key:"render",value:i(function(a,o){var u=this;o===void 0&&(o={});var s=this.plugin.getPluginState(),c=s.authenticated,p=s.didFirstRender;p||this.preFirstRender();var h=Vi(Vi({},this.opts),o),y=this.plugin.getPluginState(),m=y.files,w=y.folders,_=y.filterInput,R=y.loading,T=y.currentSelection,E=this.sharedHandler,A=E.isChecked,C=E.toggleCheckbox,U=E.recordShiftKeyPress,G=E.filterItems,M=_!=="",z={showBreadcrumbs:h.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},W={isChecked:A,toggleCheckbox:C,recordShiftKeyPress:U,currentSelection:T,files:M?G(m):m,folders:M?G(w):w,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:oG(z),title:this.plugin.title,viewType:h.viewType,showTitles:h.showTitles,showFilter:h.showFilter,showBreadcrumbs:h.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:i(function(){var f;return(f=u.plugin.uppy).validateRestrictions.apply(f,arguments)},"validateRestrictions")};return R?S(Jo,{onUnmount:this.clearSelection},S(Tm,{i18n:this.plugin.uppy.i18n})):c?S(Jo,{onUnmount:this.clearSelection},S(Rm,W)):S(Jo,{onUnmount:this.clearSelection},S(rG,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))},"render")}]),r}(Im);function I$e(t,e,r){this.nextPagePath=t.nextPagePath,t.items.forEach(function(n){n.isFolder?r.push(n):e.push(n)}),this.plugin.setPluginState({folders:r,files:e})}i(I$e,"_updateFilesAndFolders2");Dt.VERSION=R$e.version;var RG=i(function(t){var e=t.i18n,r=t.search,n,a=i(function(){n.value&&r(n.value)},"validateAndSearch"),o=i(function(s){s.keyCode===13&&a()},"handleKeyPress");return S("div",{className:"uppy-SearchProvider"},S("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":e("enterTextToSearch"),placeholder:e("enterTextToSearch"),onKeyUp:o,ref:i(function(s){n=s},"ref"),"data-uppy-super-focusable":!0}),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:a},e("searchImages")))},"default");var k$e=13,TG=i(function(t){var e=t.searchTerm,r=t.i18n,n=t.search,a=i(function(u){u.keyCode===k$e&&(u.stopPropagation(),u.preventDefault(),n(u.target.value))},"handleKeyPress");return S("div",{class:"uppy-ProviderBrowser-search"},S("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:e,onKeyUp:a,"data-uppy-super-focusable":!0}),S("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},S("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))},"default");function Cm(t){return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}i(Cm,"_typeof");function hR(){"use strict";hR=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Cm(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(hR,"_regeneratorRuntime");function AG(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(AG,"asyncGeneratorStep");function q$e(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){AG(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){AG(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(q$e,"_asyncToGenerator");function IG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(IG,"ownKeys");function xm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IG(Object(r),!0).forEach(function(n){x$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(xm,"_objectSpread");function x$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(x$e,"_defineProperty");function C$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(C$e,"_classCallCheck");function kG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(kG,"_defineProperties");function F$e(t,e,r){return e&&kG(t.prototype,e),r&&kG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(F$e,"_createClass");function L$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dR(t,e)}i(L$e,"_inherits");function dR(t,e){return dR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),dR(t,e)}i(dR,"_setPrototypeOf");function j$e(t){var e=D$e();return i(function(){var n=Fm(t),a;if(e){var o=Fm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return N$e(this,a)},"_createSuperInternal")}i(j$e,"_createSuper");function N$e(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}i(N$e,"_possibleConstructorReturn");function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Qo,"_assertThisInitialized");function D$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(D$e,"_isNativeReflectConstruct");function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Fm(t)}i(Fm,"_getPrototypeOf");function qG(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(qG,"_classPrivateFieldLooseBase");var U$e=0;function M$e(t){return"__private_"+U$e+++"_"+t}i(M$e,"_classPrivateFieldLooseKey");var B$e={version:"3.0.1"},lp=M$e("updateFilesAndInputMode"),nl=function(t){L$e(r,t);var e=j$e(r);function r(n,a){var o;C$e(this,r),o=e.call(this,n,a),Object.defineProperty(Qo(o),lp,{value:$$e});var u={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return o.opts=xm(xm({},u),a),o.search=o.search.bind(Qo(o)),o.triggerSearchInput=o.triggerSearchInput.bind(Qo(o)),o.addFile=o.addFile.bind(Qo(o)),o.handleScroll=o.handleScroll.bind(Qo(o)),o.donePicking=o.donePicking.bind(Qo(o)),o.render=o.render.bind(Qo(o)),o.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),o}return i(r,"SearchProviderView"),F$e(r,[{key:"tearDown",value:i(function(){},"tearDown")},{key:"clearSelection",value:i(function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})},"clearSelection")},{key:"search",value:i(function(a){var o=this,u=this.plugin.getPluginState(),s=u.searchTerm;if(!(a&&a===s))return this.sharedHandler.loaderWrapper(this.provider.search(a),function(c){qG(o,lp)[lp](c,[])},this.handleError)},"search")},{key:"triggerSearchInput",value:i(function(){this.plugin.setPluginState({isInputMode:!0})},"triggerSearchInput")},{key:"handleScroll",value:function(){var n=q$e(hR().mark(i(function o(u){var s,c,p,h,y;return hR().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.nextPageQuery||null,!(this.shouldHandleScroll(u)&&s)){w.next=17;break}return this.isHandlingScroll=!0,w.prev=3,c=this.plugin.getPluginState(),p=c.files,h=c.searchTerm,w.next=7,this.provider.search(h,s);case 7:y=w.sent,qG(this,lp)[lp](y,p),w.next=14;break;case 11:w.prev=11,w.t0=w.catch(3),this.handleError(w.t0);case 14:return w.prev=14,this.isHandlingScroll=!1,w.finish(14);case 17:case"end":return w.stop()}},"_callee$"),o,this,[[3,11,14,17]])},"_callee")));function a(o){return n.apply(this,arguments)}return i(a,"handleScroll"),a}()},{key:"donePicking",value:i(function(){var a=this,o=this.plugin.getPluginState(),u=o.currentSelection,s=u.map(function(c){return a.addFile(c)});this.sharedHandler.loaderWrapper(Promise.all(s),function(){a.clearSelection()},function(){})},"donePicking")},{key:"render",value:i(function(a,o){var u=this;o===void 0&&(o={});var s=this.plugin.getPluginState(),c=s.didFirstRender,p=s.isInputMode,h=s.searchTerm;c||this.preFirstRender();var y=xm(xm({},this.opts),o),m=this.plugin.getPluginState(),w=m.files,_=m.folders,R=m.filterInput,T=m.loading,E=m.currentSelection,A=this.sharedHandler,C=A.isChecked,U=A.toggleCheckbox,G=A.filterItems,M=R!=="",z={isChecked:C,toggleCheckbox:U,currentSelection:E,files:M?G(w):w,folders:M?G(_):_,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:TG({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:h}),title:this.plugin.title,viewType:y.viewType,showTitles:y.showTitles,showFilter:y.showFilter,showBreadcrumbs:y.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:i(function(){var Y;return(Y=u.plugin.uppy).validateRestrictions.apply(Y,arguments)},"validateRestrictions")};return T?S(Jo,{onUnmount:this.clearSelection},S(Tm,{i18n:this.plugin.uppy.i18n})):p?S(Jo,{onUnmount:this.clearSelection},S(RG,{search:this.search,i18n:this.plugin.uppy.i18n})):S(Jo,{onUnmount:this.clearSelection},S(Rm,z))},"render")}]),r}(Im);function $$e(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(r){e.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:t.searchedFor})}i($$e,"_updateFilesAndInputMode2");nl.VERSION=B$e.version;function z$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(z$e,"_classCallCheck");function xG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(xG,"_defineProperties");function G$e(t,e,r){return e&&xG(t.prototype,e),r&&xG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(G$e,"_createClass");var CG;function oi(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(oi,"_classPrivateFieldLooseBase");var H$e=0;function yR(t){return"__private_"+H$e+++"_"+t}i(yR,"_classPrivateFieldLooseKey");var V$e={version:"3.0.2"},W$e="uppy/STATE_UPDATE",K$e=i(function(e){return function(r){return r.uppy[e]}},"defaultSelector");function Y$e(t,e){var r=Object.keys(e),n={};return r.forEach(function(a){t[a]!==e[a]&&(n[a]=e[a])}),n}i(Y$e,"getPatch");var Wi=yR("id"),cp=yR("selector"),Ki=yR("store");CG=Symbol.for("uppy test: get id");var FG=function(t){function e(r){z$e(this,e),Object.defineProperty(this,Wi,{writable:!0,value:void 0}),Object.defineProperty(this,cp,{writable:!0,value:void 0}),Object.defineProperty(this,Ki,{writable:!0,value:void 0}),oi(this,Ki)[Ki]=r.store,oi(this,Wi)[Wi]=r.id||sn(),oi(this,cp)[cp]=r.selector||K$e(oi(this,Wi)[Wi]),this.setState({})}return i(e,"ReduxStore"),G$e(e,[{key:"setState",value:i(function(n){oi(this,Ki)[Ki].dispatch({type:W$e,id:oi(this,Wi)[Wi],payload:n})},"setState")},{key:"getState",value:i(function(){return oi(this,cp)[cp](oi(this,Ki)[Ki].getState())},"getState")},{key:"subscribe",value:i(function(n){var a=this,o=this.getState();return oi(this,Ki)[Ki].subscribe(function(){var u=a.getState();if(o!==u){var s=Y$e(o,u);n(o,u,s),o=u}})},"subscribe")},{key:t,value:i(function(){return oi(this,Wi)[Wi]},"value")}]),e}(CG);FG.VERSION=V$e.version;var LG=FG;function mR(t){if(!t.bytesUploaded)return 0;var e=Date.now()-t.uploadStarted,r=t.bytesUploaded/(e/1e3);return r}i(mR,"getSpeed");function gR(t){return t.bytesTotal-t.bytesUploaded}i(gR,"getBytesRemaining");var _t={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var ER=Te(Mr(),1);function fp(t){for(var e=[],r,n,a=0,o=Object.values(t);a<o.length;a++){var u=o[a].progress,s=u.preprocess,c=u.postprocess;if(n==null&&(s||c)){var p=s||c;r=p.mode,n=p.message}(s==null?void 0:s.mode)==="determinate"&&e.push(s.value),(c==null?void 0:c.mode)==="determinate"&&e.push(c.value)}var h=e.reduce(function(y,m){return y+m/e.length},0);return{mode:r,message:n,value:h}}i(fp,"calculateProcessingProgress");var SR=Te(Mr(),1),NG=Te(Cf(),1),OR=Te(rm(),1);function bR(t){var e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}i(bR,"secondsToTime");function wR(t){var e=bR(t),r=e.hours===0?"":"".concat(e.hours,"h"),n=e.minutes===0?"":"".concat(e.hours===0?e.minutes:" ".concat(e.minutes.toString(10).padStart(2,"0")),"m"),a=e.hours!==0?"":"".concat(e.minutes===0?e.seconds:" ".concat(e.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(n).concat(a)}i(wR,"prettyETA");var X$e="\xB7",jG=i(function(){return" ".concat(X$e," ")},"renderDot");function DG(t){var e=t.newFiles,r=t.isUploadStarted,n=t.recoveredState,a=t.i18n,o=t.uploadState,u=t.isSomeGhost,s=t.startUpload,c=(0,SR.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":o===_t.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":u}),p=e&&r&&!n?a("uploadXNewFiles",{smart_count:e}):a("uploadXFiles",{smart_count:e});return S("button",{type:"button",className:c,"aria-label":a("uploadXFiles",{smart_count:e}),onClick:s,disabled:u,"data-uppy-super-focusable":!0},p)}i(DG,"UploadBtn");function UG(t){var e=t.i18n,r=t.uppy;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:i(function(){return r.retryAll()},"onClick"),"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},S("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}i(UG,"RetryBtn");function MG(t){var e=t.i18n,r=t.uppy;return S("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:i(function(){return r.cancelAll()},"onClick"),"data-cy":"cancel","data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},S("g",{fill:"none",fillRule:"evenodd"},S("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),S("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}i(MG,"CancelBtn");function BG(t){var e=t.isAllPaused,r=t.i18n,n=t.isAllComplete,a=t.resumableUploads,o=t.uppy,u=r(e?"resume":"pause");function s(){return n?null:a?e?o.resumeAll():o.pauseAll():o.cancelAll()}return i(s,"togglePauseResume"),S("button",{title:u,"aria-label":u,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:s,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},S("g",{fill:"none",fillRule:"evenodd"},S("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),S("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}i(BG,"PauseResumeButton");function $G(t){var e=t.i18n,r=t.doneButtonHandler;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}i($G,"DoneBtn");function zG(){return S("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},S("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}i(zG,"LoadingSpinner");function GG(t){var e=t.progress,r=e.value,n=e.mode,a=e.message,o=Math.round(r*100),u="\xB7";return S("div",{className:"uppy-StatusBar-content"},S(zG,null),n==="determinate"?"".concat(o,"% ").concat(u," "):"",a)}i(GG,"ProgressBarProcessing");function J$e(t){var e=t.numUploads,r=t.complete,n=t.totalUploadedSize,a=t.totalSize,o=t.totalETA,u=t.i18n,s=e>1;return S("div",{className:"uppy-StatusBar-statusSecondary"},s&&u("filesUploadedOfTotal",{complete:r,smart_count:e}),S("span",{className:"uppy-StatusBar-additionalInfo"},s&&jG(),u("dataUploadedOfTotal",{complete:(0,OR.default)(n),total:(0,OR.default)(a)}),jG(),u("xTimeLeft",{time:wR(o)})))}i(J$e,"ProgressDetails");function HG(t){var e=t.i18n,r=t.complete,n=t.numUploads;return S("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}i(HG,"FileUploadCount");function Q$e(t){var e=t.i18n,r=t.newFiles,n=t.startUpload,a=(0,SR.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return S("div",{className:"uppy-StatusBar-statusSecondary"},S("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),S("button",{type:"button",className:a,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}i(Q$e,"UploadNewlyAddedFiles");var Z$e=(0,NG.default)(J$e,500,{leading:!0,trailing:!0});function VG(t){var e=t.i18n,r=t.supportsUploadProgress,n=t.totalProgress,a=t.showProgressDetails,o=t.isUploadStarted,u=t.isAllComplete,s=t.isAllPaused,c=t.newFiles,p=t.numUploads,h=t.complete,y=t.totalUploadedSize,m=t.totalSize,w=t.totalETA,_=t.startUpload,R=c&&o;if(!o||u)return null;var T=e(s?"paused":"uploading");function E(){return!s&&!R&&a?r?S(Z$e,{numUploads:p,complete:h,totalUploadedSize:y,totalSize:m,totalETA:w,i18n:e}):S(HG,{i18n:e,complete:h,numUploads:p}):null}return i(E,"renderProgressDetails"),S("div",{className:"uppy-StatusBar-content","aria-label":T,title:T},s?null:S(zG,null),S("div",{className:"uppy-StatusBar-status"},S("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(T,": ").concat(n,"%"):T),E(),R?S(Q$e,{i18n:e,newFiles:c,startUpload:_}):null))}i(VG,"ProgressBarUploading");function WG(t){var e=t.i18n;return S("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},S("div",{className:"uppy-StatusBar-status"},S("div",{className:"uppy-StatusBar-statusPrimary"},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},S("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}i(WG,"ProgressBarComplete");function KG(t){var e=t.error,r=t.i18n,n=t.complete,a=t.numUploads;function o(){var u="".concat(r("uploadFailed")," \n\n ").concat(e);alert(u)}return i(o,"displayErrorAlert"),S("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},S("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),S("div",{className:"uppy-StatusBar-status"},S("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),S("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:o,type:"button"},"?")),S(HG,{i18n:r,complete:n,numUploads:a})))}i(KG,"ProgressBarError");var YG=_t.STATE_ERROR,XG=_t.STATE_WAITING,_R=_t.STATE_PREPROCESSING,Lm=_t.STATE_UPLOADING,PR=_t.STATE_POSTPROCESSING,jm=_t.STATE_COMPLETE;function RR(t){var e=t.newFiles,r=t.allowNewUpload,n=t.isUploadInProgress,a=t.isAllPaused,o=t.resumableUploads,u=t.error,s=t.hideUploadButton,c=t.hidePauseResumeButton,p=t.hideCancelButton,h=t.hideRetryButton,y=t.recoveredState,m=t.uploadState,w=t.totalProgress,_=t.files,R=t.supportsUploadProgress,T=t.hideAfterFinish,E=t.isSomeGhost,A=t.doneButtonHandler,C=t.isUploadStarted,U=t.i18n,G=t.startUpload,M=t.uppy,z=t.isAllComplete,W=t.showProgressDetails,Y=t.numUploads,f=t.complete,l=t.totalSize,d=t.totalETA,v=t.totalUploadedSize;function g(){switch(m){case PR:case _R:{var Ft=fp(_);return Ft.mode==="determinate"?Ft.value*100:w}case YG:return null;case Lm:return R?w:null;default:return w}}i(g,"getProgressValue");function b(){switch(m){case PR:case _R:{var Ft=fp(_),Jt=Ft.mode;return Jt==="indeterminate"}case Lm:return!R;default:return!1}}i(b,"getIsIndeterminate");function P(){if(y)return!1;switch(m){case XG:return s||e===0;case jm:return T;default:return!1}}i(P,"getIsHidden");var q=g(),L=P(),O=q!=null?q:100,I=!u&&e&&!n&&!a&&r&&!s,j=!p&&m!==XG&&m!==jm,re=o&&!c&&m===Lm,ne=u&&!z&&!h,Q=A&&m===jm,K=(0,ER.default)("uppy-StatusBar-progress",{"is-indeterminate":b()}),Xt=(0,ER.default)("uppy-StatusBar","is-".concat(m),{"has-ghosts":E});return S("div",{className:Xt,"aria-hidden":L},S("div",{className:K,style:{width:"".concat(O,"%")},role:"progressbar","aria-label":"".concat(O,"%"),"aria-valuetext":"".concat(O,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":q}),function(){switch(m){case _R:case PR:return S(GG,{progress:fp(_)});case jm:return S(WG,{i18n:U});case YG:return S(KG,{error:u,i18n:U,numUploads:Y,complete:f});case Lm:return S(VG,{i18n:U,supportsUploadProgress:R,totalProgress:w,showProgressDetails:W,isUploadStarted:C,isAllComplete:z,isAllPaused:a,newFiles:e,numUploads:Y,complete:f,totalUploadedSize:v,totalSize:l,totalETA:d,startUpload:G});default:return null}}(),S("div",{className:"uppy-StatusBar-actions"},y||I?S(DG,{newFiles:e,isUploadStarted:C,recoveredState:y,i18n:U,isSomeGhost:E,startUpload:G,uploadState:m}):null,ne?S(UG,{i18n:U,uppy:M}):null,re?S(BG,{isAllPaused:a,i18n:U,isAllComplete:z,resumableUploads:o,uppy:M}):null,j?S(MG,{i18n:U,uppy:M}):null,Q?S($G,{i18n:U,doneButtonHandler:A}):null))}i(RR,"StatusBar");var JG={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function TR(t){return TR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TR(t)}i(TR,"_typeof");function QG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(QG,"ownKeys");function ZG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QG(Object(r),!0).forEach(function(n){eze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ZG,"_objectSpread");function eze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(eze,"_defineProperty");function tze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(tze,"_classCallCheck");function eH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(eH,"_defineProperties");function rze(t,e,r){return e&&eH(t.prototype,e),r&&eH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(rze,"_createClass");function nze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AR(t,e)}i(nze,"_inherits");function AR(t,e){return AR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),AR(t,e)}i(AR,"_setPrototypeOf");function ize(t){var e=aze();return i(function(){var n=Nm(t),a;if(e){var o=Nm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return oze(this,a)},"_createSuperInternal")}i(ize,"_createSuper");function oze(t,e){if(e&&(TR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IR(t)}i(oze,"_possibleConstructorReturn");function IR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(IR,"_assertThisInitialized");function aze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(aze,"_isNativeReflectConstruct");function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Nm(t)}i(Nm,"_getPrototypeOf");var uze={version:"3.0.1"};function sze(t){var e=0;return t.forEach(function(r){e+=mR(r.progress)}),e}i(sze,"getTotalSpeed");function lze(t){var e=sze(t);if(e===0)return 0;var r=t.reduce(function(n,a){return n+gR(a.progress)},0);return Math.round(r/e*10)/10}i(lze,"getTotalETA");function cze(t,e,r,n){if(t&&!e)return _t.STATE_ERROR;if(e)return _t.STATE_COMPLETE;if(r)return _t.STATE_WAITING;for(var a=_t.STATE_WAITING,o=Object.keys(n),u=0;u<o.length;u++){var s=n[o[u]].progress;if(s.uploadStarted&&!s.uploadComplete)return _t.STATE_UPLOADING;s.preprocess&&a!==_t.STATE_UPLOADING&&(a=_t.STATE_PREPROCESSING),s.postprocess&&a!==_t.STATE_UPLOADING&&a!==_t.STATE_PREPROCESSING&&(a=_t.STATE_POSTPROCESSING)}return a}i(cze,"getUploadingState");var il=function(t){nze(r,t);var e=ize(r);function r(n,a){var o;tze(this,r),o=e.call(this,n,a),o.startUpload=function(){var s=o.uppy.getState(),c=s.recoveredState;if(c){o.uppy.emit("restore-confirmed");return}return o.uppy.upload().catch(function(){})},o.id=o.opts.id||"StatusBar",o.title="StatusBar",o.type="progressindicator",o.defaultLocale=JG;var u={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return o.opts=ZG(ZG({},u),a),o.i18nInit(),o.render=o.render.bind(IR(o)),o.install=o.install.bind(IR(o)),o}return i(r,"StatusBar"),rze(r,[{key:"render",value:i(function(a){var o=a.capabilities,u=a.files,s=a.allowNewUpload,c=a.totalProgress,p=a.error,h=a.recoveredState,y=this.uppy.getObjectOfFilesPerState(),m=y.newFiles,w=y.startedFiles,_=y.completeFiles,R=y.inProgressNotPausedFiles,T=y.isUploadStarted,E=y.isAllComplete,A=y.isAllErrored,C=y.isAllPaused,U=y.isUploadInProgress,G=y.isSomeGhost,M=h?Object.values(u):m,z=lze(R),W=!!o.resumableUploads,Y=o.uploadProgress!==!1,f=0,l=0;return w.forEach(function(d){f+=d.progress.bytesTotal||0,l+=d.progress.bytesUploaded||0}),RR({error:p,uploadState:cze(p,E,h,a.files||{}),allowNewUpload:s,totalProgress:c,totalSize:f,totalUploadedSize:l,isAllComplete:!1,isAllPaused:C,isAllErrored:A,isUploadStarted:T,isUploadInProgress:U,isSomeGhost:G,recoveredState:h,complete:_.length,newFiles:M.length,numUploads:w.length,totalETA:z,files:u,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:W,supportsUploadProgress:Y,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},"render")},{key:"onMount",value:i(function(){var a=this.el,o=fm(a);o||(a.dir="ltr")},"onMount")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);il.VERSION=uze.version;function kR(t){return kR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kR(t)}i(kR,"_typeof");function fze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(fze,"_classCallCheck");function tH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(tH,"_defineProperties");function pze(t,e,r){return e&&tH(t.prototype,e),r&&tH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(pze,"_createClass");function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qR(t,e)}i(hze,"_inherits");function qR(t,e){return qR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),qR(t,e)}i(qR,"_setPrototypeOf");function dze(t){var e=mze();return i(function(){var n=Dm(t),a;if(e){var o=Dm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return vze(this,a)},"_createSuperInternal")}i(dze,"_createSuper");function vze(t,e){if(e&&(kR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yze(t)}i(vze,"_possibleConstructorReturn");function yze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(yze,"_assertThisInitialized");function mze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(mze,"_isNativeReflectConstruct");function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Dm(t)}i(Dm,"_getPrototypeOf");var rH=300,nH=function(t){hze(r,t);var e=dze(r);function r(){var n;return fze(this,r),n=e.apply(this,arguments),n.ref=gz(),n}return i(r,"FadeIn"),pze(r,[{key:"componentWillEnter",value:i(function(a){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(a,rH)},"componentWillEnter")},{key:"componentWillLeave",value:i(function(a){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(a,rH)},"componentWillLeave")},{key:"render",value:i(function(){var a=this.props.children;return S("div",{className:"uppy-Informer-animated",ref:this.ref},a)},"render")}]),r}(Be);function xR(t){return xR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xR(t)}i(xR,"_typeof");var gze=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function bze(t,e){return _ze(t)||Sze(t,e)||Oze(t,e)||wze()}i(bze,"_slicedToArray");function wze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(wze,"_nonIterableRest");function Oze(t,e){if(!!t){if(typeof t=="string")return iH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iH(t,e)}}i(Oze,"_unsupportedIterableToArray");function iH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(iH,"_arrayLikeToArray");function Sze(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(Sze,"_iterableToArrayLimit");function _ze(t){if(Array.isArray(t))return t}i(_ze,"_arrayWithHoles");function Pze(t,e){if(t==null)return{};var r=Eze(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}i(Pze,"_objectWithoutProperties");function Eze(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}i(Eze,"_objectWithoutPropertiesLoose");function Rze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Rze,"_classCallCheck");function oH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(oH,"_defineProperties");function Tze(t,e,r){return e&&oH(t.prototype,e),r&&oH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Tze,"_createClass");function Aze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CR(t,e)}i(Aze,"_inherits");function CR(t,e){return CR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),CR(t,e)}i(CR,"_setPrototypeOf");function Ize(t){var e=qze();return i(function(){var n=Mm(t),a;if(e){var o=Mm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return kze(this,a)},"_createSuperInternal")}i(Ize,"_createSuper");function kze(t,e){if(e&&(xR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Um(t)}i(kze,"_possibleConstructorReturn");function Um(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Um,"_assertThisInitialized");function qze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(qze,"_isNativeReflectConstruct");function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Mm(t)}i(Mm,"_getPrototypeOf");function xze(t,e){return Object.assign(t,e)}i(xze,"assign");function Cze(t,e){var r;return(r=t==null?void 0:t.key)!=null?r:e}i(Cze,"getKey");function Fze(t,e){var r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=function(n){t.refs[e]=n})}i(Fze,"linkRef");function pp(t){for(var e={},r=0;r<t.length;r++)if(t[r]!=null){var n=Cze(t[r],r.toString(36));e[n]=t[r]}return e}i(pp,"getChildMapping");function Lze(t,e){t=t||{},e=e||{};var r=i(function(m){return e.hasOwnProperty(m)?e[m]:t[m]},"getValueForKey"),n={},a=[];for(var o in t)e.hasOwnProperty(o)?a.length&&(n[o]=a,a=[]):a.push(o);var u={};for(var s in e){if(n.hasOwnProperty(s))for(var c=0;c<n[s].length;c++){var p=n[s][c];u[n[s][c]]=r(p)}u[s]=r(s)}for(var h=0;h<a.length;h++)u[a[h]]=r(a[h]);return u}i(Lze,"mergeChildMappings");var jze=i(function(e){return e},"identity"),aH=function(t){Aze(r,t);var e=Ize(r);function r(n,a){var o;return Rze(this,r),o=e.call(this,n,a),o.refs={},o.state={children:pp(cn(cn(o.props.children))||[])},o.performAppear=o.performAppear.bind(Um(o)),o.performEnter=o.performEnter.bind(Um(o)),o.performLeave=o.performLeave.bind(Um(o)),o}return i(r,"TransitionGroup"),Tze(r,[{key:"componentWillMount",value:i(function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]},"componentWillMount")},{key:"componentDidMount",value:i(function(){var a=this.state.children;for(var o in a)a[o]&&this.performAppear(o)},"componentDidMount")},{key:"componentWillReceiveProps",value:i(function(a){var o=pp(cn(a.children)||[]),u=this.state.children;this.setState(function(h){return{children:Lze(h.children,o)}});var s;for(s in o)if(o.hasOwnProperty(s)){var c=u&&u.hasOwnProperty(s);o[s]&&c&&this.currentlyTransitioningKeys[s]?(this.keysToEnter.push(s),this.keysToAbortLeave.push(s)):o[s]&&!c&&!this.currentlyTransitioningKeys[s]&&this.keysToEnter.push(s)}for(s in u)if(u.hasOwnProperty(s)){var p=o&&o.hasOwnProperty(s);u[s]&&!p&&!this.currentlyTransitioningKeys[s]&&this.keysToLeave.push(s)}},"componentWillReceiveProps")},{key:"componentDidUpdate",value:i(function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var o=this.keysToLeave;this.keysToLeave=[],o.forEach(this.performLeave)},"componentDidUpdate")},{key:"_finishAbort",value:i(function(a){var o=this.keysToAbortLeave.indexOf(a);o!==-1&&this.keysToAbortLeave.splice(o,1)},"_finishAbort")},{key:"performAppear",value:i(function(a){this.currentlyTransitioningKeys[a]=!0;var o=this.refs[a];o.componentWillAppear?o.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},"performAppear")},{key:"_handleDoneAppearing",value:i(function(a){var o=this.refs[a];o.componentDidAppear&&o.componentDidAppear(),delete this.currentlyTransitioningKeys[a],this._finishAbort(a);var u=pp(cn(this.props.children)||[]);(!u||!u.hasOwnProperty(a))&&this.performLeave(a)},"_handleDoneAppearing")},{key:"performEnter",value:i(function(a){this.currentlyTransitioningKeys[a]=!0;var o=this.refs[a];o.componentWillEnter?o.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},"performEnter")},{key:"_handleDoneEntering",value:i(function(a){var o=this.refs[a];o.componentDidEnter&&o.componentDidEnter(),delete this.currentlyTransitioningKeys[a],this._finishAbort(a);var u=pp(cn(this.props.children)||[]);(!u||!u.hasOwnProperty(a))&&this.performLeave(a)},"_handleDoneEntering")},{key:"performLeave",value:i(function(a){var o=this.keysToAbortLeave.indexOf(a);if(o===-1){this.currentlyTransitioningKeys[a]=!0;var u=this.refs[a];u.componentWillLeave?u.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)}},"performLeave")},{key:"_handleDoneLeaving",value:i(function(a){var o=this.keysToAbortLeave.indexOf(a);if(o===-1){var u=this.refs[a];u.componentDidLeave&&u.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var s=pp(cn(this.props.children)||[]);if(s&&s.hasOwnProperty(a))this.performEnter(a);else{var c=xze({},this.state.children);delete c[a],this.setState({children:c})}}},"_handleDoneLeaving")},{key:"render",value:i(function(a,o){var u=this,s=a.childFactory,c=a.transitionLeave,p=a.transitionName,h=a.transitionAppear,y=a.transitionEnter,m=a.transitionLeaveTimeout,w=a.transitionEnterTimeout,_=a.transitionAppearTimeout,R=a.component,T=Pze(a,gze),E=o.children,A=Object.entries(E).map(function(C){var U=bze(C,2),G=U[0],M=U[1];if(!!M){var z=Fze(u,G);return cm(s(M),{ref:z,key:G})}}).filter(Boolean);return S(R,T,A)},"render")}]),r}(Be);aH.defaultProps={component:"span",childFactory:jze};var uH=aH;function FR(t){return FR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FR(t)}i(FR,"_typeof");function sH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(sH,"ownKeys");function lH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sH(Object(r),!0).forEach(function(n){Nze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(lH,"_objectSpread");function Nze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Nze,"_defineProperty");function Dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Dze,"_classCallCheck");function cH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(cH,"_defineProperties");function Uze(t,e,r){return e&&cH(t.prototype,e),r&&cH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Uze,"_createClass");function Mze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LR(t,e)}i(Mze,"_inherits");function LR(t,e){return LR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),LR(t,e)}i(LR,"_setPrototypeOf");function Bze(t){var e=Gze();return i(function(){var n=Bm(t),a;if(e){var o=Bm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return $ze(this,a)},"_createSuperInternal")}i(Bze,"_createSuper");function $ze(t,e){if(e&&(FR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zze(t)}i($ze,"_possibleConstructorReturn");function zze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(zze,"_assertThisInitialized");function Gze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Gze,"_isNativeReflectConstruct");function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Bm(t)}i(Bm,"_getPrototypeOf");var Hze={version:"3.0.1"},ol=function(t){Mze(r,t);var e=Bze(r);function r(n,a){var o;Dze(this,r),o=e.call(this,n,a),o.render=function(s){return S("div",{className:"uppy uppy-Informer"},S(uH,null,s.info.map(function(c){return S(nH,{key:c.message},S("p",{role:"alert"},c.message," ",c.details&&S("span",{"aria-label":c.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:i(function(){return alert("".concat(c.message," \n\n ").concat(c.details))},"onClick")},"?")))})))},o.type="progressindicator",o.id=o.opts.id||"Informer",o.title="Informer";var u={};return o.opts=lH(lH({},u),a),o}return i(r,"Informer"),Uze(r,[{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")}]),r}(Se);ol.VERSION=Hze.version;var Vze=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function jR(t,e,r){var n,a,o=Vze.exec(t),u=(n=(a=e.mimeType)!=null?a:o==null?void 0:o[1])!=null?n:"plain/text",s;if(o[2]!=null){for(var c=atob(decodeURIComponent(o[3])),p=new Uint8Array(c.length),h=0;h<c.length;h++)p[h]=c.charCodeAt(h);s=[p]}else s=[decodeURIComponent(o[3])];return r?new File(s,e.name||"",{type:u}):new Blob(s,{type:u})}i(jR,"dataURItoBlob");function $m(t){return t.startsWith("blob:")}i($m,"isObjectURL");function Wze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Wze,"_defineProperty");function he(){"use strict";he=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Zo(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(he,"_regeneratorRuntime");function Zo(t){return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}i(Zo,"_typeof");function fl(t){return Xze(t)||Yze(t)||JR(t)||Kze()}i(fl,"_toConsumableArray");function Kze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Kze,"_nonIterableSpread");function Yze(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(Yze,"_iterableToArray");function Xze(t){if(Array.isArray(t))return $R(t)}i(Xze,"_arrayWithoutHoles");function fn(t,e){return Zze(t)||Qze(t,e)||JR(t,e)||Jze()}i(fn,"_slicedToArray");function Jze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Jze,"_nonIterableRest");function Qze(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(Qze,"_iterableToArrayLimit");function Zze(t){if(Array.isArray(t))return t}i(Zze,"_arrayWithHoles");function Ie(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=JR(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Ie,"_createForOfIteratorHelper");function JR(t,e){if(!!t){if(typeof t=="string")return $R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $R(t,e)}}i(JR,"_unsupportedIterableToArray");function $R(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i($R,"_arrayLikeToArray");function fH(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(fH,"asyncGeneratorStep");function He(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){fH(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){fH(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(He,"_asyncToGenerator");function cu(){return typeof Reflect!="undefined"&&Reflect.get?cu=Reflect.get.bind():cu=i(function(e,r,n){var a=eGe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),cu.apply(this,arguments)}i(cu,"_get");function eGe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ui(t),t!==null););return t}i(eGe,"_superPropBase");function si(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yp(t,e)}i(si,"_inherits");function li(t){var e=CH();return i(function(){var n=ui(t),a;if(e){var o=ui(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return xH(this,a)},"_createSuperInternal")}i(li,"_createSuper");function xH(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Br(t)}i(xH,"_possibleConstructorReturn");function Br(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Br,"_assertThisInitialized");function Gm(t){var e=typeof Map=="function"?new Map:void 0;return Gm=i(function(n){if(n===null||!tGe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return zm(n,arguments,ui(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),yp(a,n)},"_wrapNativeSuper"),Gm(t)}i(Gm,"_wrapNativeSuper");function zm(t,e,r){return CH()?zm=Reflect.construct.bind():zm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&yp(p,u.prototype),p},"_construct"),zm.apply(null,arguments)}i(zm,"_construct");function CH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(CH,"_isNativeReflectConstruct");function tGe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(tGe,"_isNativeFunction");function yp(t,e){return yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),yp(t,e)}i(yp,"_setPrototypeOf");function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ui(t)}i(ui,"_getPrototypeOf");function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Zt,"_classCallCheck");function pH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(pH,"_defineProperties");function er(t,e,r){return e&&pH(t.prototype,e),r&&pH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(er,"_createClass");function Ve(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Ve,"e");var FH=typeof self!="undefined"?self:global,ea=typeof navigator!="undefined",Hm=ea&&typeof HTMLImageElement=="undefined",hH=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),LH=FH.Buffer,jH=!!LH,rGe=i(function(e){return e!==void 0},"h");function NH(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(rGe).length===0)}i(NH,"f");function Ut(t){var e=new Error(t);throw delete e.stack,e}i(Ut,"l");function dH(t){var e=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}i(dH,"o");var NR=i(function(e){return String.fromCharCode.apply(null,e)},"u"),vH=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,mp=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(Zt(this,t),typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);var o=new DataView(e,r,n);this._swapDataView(o)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof t){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Ut("Creating view outside of available memory in ArrayBuffer");var u=new DataView(e.buffer,r,n);this._swapDataView(u)}else if(typeof e=="number"){var s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else Ut("Invalid input argument for BufferView: "+e)}return i(t,"c"),er(t,[{key:"_swapArrayBuffer",value:i(function(r){this._swapDataView(new DataView(r))},"_swapArrayBuffer")},{key:"_swapBuffer",value:i(function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))},"_swapBuffer")},{key:"_swapDataView",value:i(function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength},"_swapDataView")},{key:"_lengthToEnd",value:i(function(r){return this.byteLength-r},"_lengthToEnd")},{key:"set",value:i(function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return r instanceof DataView||r instanceof t?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Ut("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new a(this,n,r.byteLength)},"set")},{key:"subarray",value:i(function(r,n){return n=n||this._lengthToEnd(r),new t(this,r,n)},"subarray")},{key:"toUint8",value:i(function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)},"toUint8")},{key:"getUint8Array",value:i(function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)},"getUint8Array")},{key:"getString",value:i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=this.getUint8Array(r,n);return o=a,vH?vH.decode(o):jH?Buffer.from(o).toString("utf8"):decodeURIComponent(escape(NR(o)));var o},"getString")},{key:"getLatin1String",value:i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=this.getUint8Array(r,n);return NR(a)},"getLatin1String")},{key:"getUnicodeString",value:i(function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=[],o=0;o<n&&r+o<this.byteLength;o+=2)a.push(this.getUint16(r+o));return NR(a)},"getUnicodeString")},{key:"getInt8",value:i(function(r){return this.dataView.getInt8(r)},"getInt8")},{key:"getUint8",value:i(function(r){return this.dataView.getUint8(r)},"getUint8")},{key:"getInt16",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)},"getInt16")},{key:"getInt32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)},"getInt32")},{key:"getUint16",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)},"getUint16")},{key:"getUint32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)},"getUint32")},{key:"getFloat32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)},"getFloat32")},{key:"getFloat64",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)},"getFloat64")},{key:"getFloat",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)},"getFloat")},{key:"getDouble",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)},"getDouble")},{key:"getUintBytes",value:i(function(r,n,a){switch(n){case 1:return this.getUint8(r,a);case 2:return this.getUint16(r,a);case 4:return this.getUint32(r,a);case 8:return this.getUint64&&this.getUint64(r,a)}},"getUintBytes")},{key:"getUint",value:i(function(r,n,a){switch(n){case 8:return this.getUint8(r,a);case 16:return this.getUint16(r,a);case 32:return this.getUint32(r,a);case 64:return this.getUint64&&this.getUint64(r,a)}},"getUint")},{key:"toString",value:i(function(r){return this.dataView.toString(r,this.constructor.name)},"toString")},{key:"ensureChunk",value:i(function(){},"ensureChunk")}],[{key:"from",value:i(function(r,n){return r instanceof this&&r.le===n?r:new t(r,void 0,void 0,n)},"from")}]),t}();function zR(t,e){Ut("".concat(t," '").concat(e,"' was not loaded, try using full build of exifr."))}i(zR,"p");var QR=function(t){si(r,t);var e=li(r);function r(n){var a;return Zt(this,r),a=e.call(this),a.kind=n,a}return i(r,"g"),er(r,[{key:"get",value:i(function(a,o){return this.has(a)||zR(this.kind,a),o&&(a in o||function(u,s){Ut("Unknown ".concat(u," '").concat(s,"'."))}(this.kind,a),o[a].enabled||zR(this.kind,a)),cu(ui(r.prototype),"get",this).call(this,a)},"get")},{key:"keyList",value:i(function(){return Array.from(this.keys())},"keyList")}]),r}(Gm(Map)),Km=new QR("file parser"),$r=new QR("segment parser"),wp=new QR("file reader"),nGe=FH.fetch;function yH(t,e){return(r=t).startsWith("data:")||r.length>1e4?VR(t,e,"base64"):hH&&t.includes("://")?GR(t,e,"url",Vm):hH?VR(t,e,"fs"):ea?GR(t,e,"url",Vm):void Ut("Invalid input argument");var r}i(yH,"k");function GR(t,e,r,n){return HR.apply(this,arguments)}i(GR,"O");function HR(){return HR=He(he().mark(i(function t(e,r,n,a){return he().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",wp.has(n)?VR(e,r,n):a?function(){var s=He(he().mark(i(function c(p,h){var y;return he().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,h(p);case 2:return y=w.sent,w.abrupt("return",new mp(y));case 4:case"end":return w.stop()}},"_callee25$"),c)},"_callee25")));return function(c,p){return s.apply(this,arguments)}}()(e,a):void Ut("Parser ".concat(n," is not loaded")));case 1:case"end":return u.stop()}},"_callee26$"),t)},"_callee26"))),HR.apply(this,arguments)}i(HR,"_O");function VR(t,e,r){return WR.apply(this,arguments)}i(VR,"v");function WR(){return WR=He(he().mark(i(function t(e,r,n){var a;return he().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return a=new(wp.get(n))(e,r),u.next=3,a.read();case 3:return u.abrupt("return",a);case 4:case"end":return u.stop()}},"_callee27$"),t)},"_callee27"))),WR.apply(this,arguments)}i(WR,"_v");var Vm=i(function(e){return nGe(e).then(function(r){return r.arrayBuffer()})},"S"),gp=i(function(e){return new Promise(function(r,n){var a=new FileReader;a.onloadend=function(){return r(a.result||new ArrayBuffer)},a.onerror=n,a.readAsArrayBuffer(e)})},"A"),iGe=function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"U"),er(r,[{key:"tagKeys",get:i(function(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys},"get")},{key:"tagValues",get:i(function(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues},"get")}]),r}(Gm(Map));function DH(t,e,r){var n=new iGe,a=Ie(r),o;try{for(a.s();!(o=a.n()).done;){var u=fn(o.value,2),s=u[0],c=u[1];n.set(s,c)}}catch(m){a.e(m)}finally{a.f()}if(Array.isArray(e)){var p=Ie(e),h;try{for(p.s();!(h=p.n()).done;){var y=h.value;t.set(y,n)}}catch(m){p.e(m)}finally{p.f()}}else t.set(e,n);return n}i(DH,"x");function UH(t,e,r){var n,a=t.get(e),o=Ie(r),u;try{for(o.s();!(u=o.n()).done;)n=u.value,a.set(n[0],n[1])}catch(s){o.e(s)}finally{o.f()}}i(UH,"C");var Op=new Map,ZR=new Map,eT=new Map,al=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Ym=["jfif","xmp","icc","iptc","ihdr"],bp=["tiff"].concat(Ym),Pt=["ifd0","ifd1","exif","gps","interop"],ul=[].concat(fl(bp),Pt),sl=["makerNote","userComment"],Xm=["translateKeys","translateValues","reviveValues","multiSegment"],ll=[].concat(Xm,["sanitize","mergeOutput","silentErrors"]),MH=function(){function t(){Zt(this,t)}return i(t,"_"),er(t,[{key:"translate",get:i(function(){return this.translateKeys||this.translateValues||this.reviveValues},"get")}]),t}(),hp=function(t){si(r,t);var e=li(r);function r(n,a,o,u){var s;if(Zt(this,r),s=e.call(this),Ve(Br(s),"enabled",!1),Ve(Br(s),"skip",new Set),Ve(Br(s),"pick",new Set),Ve(Br(s),"deps",new Set),Ve(Br(s),"translateKeys",!1),Ve(Br(s),"translateValues",!1),Ve(Br(s),"reviveValues",!1),s.key=n,s.enabled=a,s.parse=s.enabled,s.applyInheritables(u),s.canBeFiltered=Pt.includes(n),s.canBeFiltered&&(s.dict=Op.get(n)),o!==void 0)if(Array.isArray(o))s.parse=s.enabled=!0,s.canBeFiltered&&o.length>0&&s.translateTagSet(o,s.pick);else if(Zo(o)=="object"){if(s.enabled=!0,s.parse=o.parse!==!1,s.canBeFiltered){var c=o.pick,p=o.skip;c&&c.length>0&&s.translateTagSet(c,s.pick),p&&p.length>0&&s.translateTagSet(p,s.skip)}s.applyInheritables(o)}else o===!0||o===!1?s.parse=s.enabled=o:Ut("Invalid options argument: ".concat(o));return xH(s)}return i(r,"D"),er(r,[{key:"needed",get:i(function(){return this.enabled||this.deps.size>0},"get")},{key:"applyInheritables",value:i(function(a){var o,u,s=Ie(Xm),c;try{for(s.s();!(c=s.n()).done;)o=c.value,u=a[o],u!==void 0&&(this[o]=u)}catch(p){s.e(p)}finally{s.f()}},"applyInheritables")},{key:"translateTagSet",value:i(function(a,o){if(this.dict){var u,s,c=this.dict,p=c.tagKeys,h=c.tagValues,y=Ie(a),m;try{for(y.s();!(m=y.n()).done;)u=m.value,typeof u=="string"?(s=h.indexOf(u),s===-1&&(s=p.indexOf(Number(u))),s!==-1&&o.add(Number(p[s]))):o.add(u)}catch(T){y.e(T)}finally{y.f()}}else{var w=Ie(a),_;try{for(w.s();!(_=w.n()).done;){var R=_.value;o.add(R)}}catch(T){w.e(T)}finally{w.f()}}},"translateTagSet")},{key:"finalizeFilters",value:i(function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Wm(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Wm(this.pick,this.deps)},"finalizeFilters")}]),r}(MH),sr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},mH=new Map,Sp=function(t){si(r,t);var e=li(r);function r(n){var a;return Zt(this,r),a=e.call(this),n===!0?a.setupFromTrue():n===void 0?a.setupFromUndefined():Array.isArray(n)?a.setupFromArray(n):Zo(n)=="object"?a.setupFromObject(n):Ut("Invalid options argument ".concat(n)),a.firstChunkSize===void 0&&(a.firstChunkSize=ea?a.firstChunkSizeBrowser:a.firstChunkSizeNode),a.mergeOutput&&(a.ifd1.enabled=!1),a.filterNestedSegmentTags(),a.traverseTiffDependencyTree(),a.checkLoadedPlugins(),a}return i(r,"R"),er(r,[{key:"setupFromUndefined",value:i(function(){var a,o=Ie(al),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=sr[a]}catch(w){o.e(w)}finally{o.f()}var s=Ie(ll),c;try{for(s.s();!(c=s.n()).done;)a=c.value,this[a]=sr[a]}catch(w){s.e(w)}finally{s.f()}var p=Ie(sl),h;try{for(p.s();!(h=p.n()).done;)a=h.value,this[a]=sr[a]}catch(w){p.e(w)}finally{p.f()}var y=Ie(ul),m;try{for(y.s();!(m=y.n()).done;)a=m.value,this[a]=new hp(a,sr[a],void 0,this)}catch(w){y.e(w)}finally{y.f()}},"setupFromUndefined")},{key:"setupFromTrue",value:i(function(){var a,o=Ie(al),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=sr[a]}catch(w){o.e(w)}finally{o.f()}var s=Ie(ll),c;try{for(s.s();!(c=s.n()).done;)a=c.value,this[a]=sr[a]}catch(w){s.e(w)}finally{s.f()}var p=Ie(sl),h;try{for(p.s();!(h=p.n()).done;)a=h.value,this[a]=!0}catch(w){p.e(w)}finally{p.f()}var y=Ie(ul),m;try{for(y.s();!(m=y.n()).done;)a=m.value,this[a]=new hp(a,!0,void 0,this)}catch(w){y.e(w)}finally{y.f()}},"setupFromTrue")},{key:"setupFromArray",value:i(function(a){var o,u=Ie(al),s;try{for(u.s();!(s=u.n()).done;)o=s.value,this[o]=sr[o]}catch(_){u.e(_)}finally{u.f()}var c=Ie(ll),p;try{for(c.s();!(p=c.n()).done;)o=p.value,this[o]=sr[o]}catch(_){c.e(_)}finally{c.f()}var h=Ie(sl),y;try{for(h.s();!(y=h.n()).done;)o=y.value,this[o]=sr[o]}catch(_){h.e(_)}finally{h.f()}var m=Ie(ul),w;try{for(m.s();!(w=m.n()).done;)o=w.value,this[o]=new hp(o,!1,void 0,this)}catch(_){m.e(_)}finally{m.f()}this.setupGlobalFilters(a,void 0,Pt)},"setupFromArray")},{key:"setupFromObject",value:i(function(a){var o,u=Ie((Pt.ifd0=Pt.ifd0||Pt.image,Pt.ifd1=Pt.ifd1||Pt.thumbnail,Object.assign(this,a),al)),s;try{for(u.s();!(s=u.n()).done;)o=s.value,this[o]=DR(a[o],sr[o])}catch(T){u.e(T)}finally{u.f()}var c=Ie(ll),p;try{for(c.s();!(p=c.n()).done;)o=p.value,this[o]=DR(a[o],sr[o])}catch(T){c.e(T)}finally{c.f()}var h=Ie(sl),y;try{for(h.s();!(y=h.n()).done;)o=y.value,this[o]=DR(a[o],sr[o])}catch(T){h.e(T)}finally{h.f()}var m=Ie(bp),w;try{for(m.s();!(w=m.n()).done;)o=w.value,this[o]=new hp(o,sr[o],a[o],this)}catch(T){m.e(T)}finally{m.f()}var _=Ie(Pt),R;try{for(_.s();!(R=_.n()).done;)o=R.value,this[o]=new hp(o,sr[o],a[o],this.tiff)}catch(T){_.e(T)}finally{_.f()}this.setupGlobalFilters(a.pick,a.skip,Pt,ul),a.tiff===!0?this.batchEnableWithBool(Pt,!0):a.tiff===!1?this.batchEnableWithUserValue(Pt,a):Array.isArray(a.tiff)?this.setupGlobalFilters(a.tiff,void 0,Pt):Zo(a.tiff)=="object"&&this.setupGlobalFilters(a.tiff.pick,a.tiff.skip,Pt)},"setupFromObject")},{key:"batchEnableWithBool",value:i(function(a,o){var u=Ie(a),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;this[c].enabled=o}}catch(p){u.e(p)}finally{u.f()}},"batchEnableWithBool")},{key:"batchEnableWithUserValue",value:i(function(a,o){var u=Ie(a),s;try{for(u.s();!(s=u.n()).done;){var c=s.value,p=o[c];this[c].enabled=p!==!1&&p!==void 0}}catch(h){u.e(h)}finally{u.f()}},"batchEnableWithUserValue")},{key:"setupGlobalFilters",value:i(function(a,o,u){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u;if(a&&a.length){var c=Ie(s),p;try{for(c.s();!(p=c.n()).done;){var h=p.value;this[h].enabled=!1}}catch(z){c.e(z)}finally{c.f()}var y=gH(a,u),m=Ie(y),w;try{for(m.s();!(w=m.n()).done;){var _=fn(w.value,2),R=_[0],T=_[1];Wm(this[R].pick,T),this[R].enabled=!0}}catch(z){m.e(z)}finally{m.f()}}else if(o&&o.length){var E=gH(o,u),A=Ie(E),C;try{for(A.s();!(C=A.n()).done;){var U=fn(C.value,2),G=U[0],M=U[1];Wm(this[G].skip,M)}}catch(z){A.e(z)}finally{A.f()}}},"setupGlobalFilters")},{key:"filterNestedSegmentTags",value:i(function(){var a=this.ifd0,o=this.exif,u=this.xmp,s=this.iptc,c=this.icc;this.makerNote?o.deps.add(37500):o.skip.add(37500),this.userComment?o.deps.add(37510):o.skip.add(37510),u.enabled||a.skip.add(700),s.enabled||a.skip.add(33723),c.enabled||a.skip.add(34675)},"filterNestedSegmentTags")},{key:"traverseTiffDependencyTree",value:i(function(){var a=this,o=this.ifd0,u=this.exif,s=this.gps,c=this.interop;c.needed&&(u.deps.add(40965),o.deps.add(40965)),u.needed&&o.deps.add(34665),s.needed&&o.deps.add(34853),this.tiff.enabled=Pt.some(function(m){return a[m].enabled===!0})||this.makerNote||this.userComment;var p=Ie(Pt),h;try{for(p.s();!(h=p.n()).done;){var y=h.value;this[y].finalizeFilters()}}catch(m){p.e(m)}finally{p.f()}},"traverseTiffDependencyTree")},{key:"onlyTiff",get:i(function(){var a=this;return!Ym.map(function(o){return a[o].enabled}).some(function(o){return o===!0})&&this.tiff.enabled},"get")},{key:"checkLoadedPlugins",value:i(function(){var a=Ie(bp),o;try{for(a.s();!(o=a.n()).done;){var u=o.value;this[u].enabled&&!$r.has(u)&&zR("segment parser",u)}}catch(s){a.e(s)}finally{a.f()}},"checkLoadedPlugins")}],[{key:"useCached",value:i(function(a){var o=mH.get(a);return o!==void 0||(o=new this(a),mH.set(a,o)),o},"useCached")}]),r}(MH);function gH(t,e){var r,n,a,o,u=[],s=Ie(e),c;try{for(s.s();!(c=s.n()).done;){a=c.value;var p=Ie((r=Op.get(a),n=[],r)),h;try{for(p.s();!(h=p.n()).done;)o=h.value,(t.includes(o[0])||t.includes(o[1]))&&n.push(o[0])}catch(y){p.e(y)}finally{p.f()}n.length&&u.push([a,n])}}catch(y){s.e(y)}finally{s.f()}return u}i(gH,"K");function DR(t,e){return t!==void 0?t:e!==void 0?e:void 0}i(DR,"W");function Wm(t,e){var r=Ie(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;t.add(a)}}catch(o){r.e(o)}finally{r.f()}}i(Wm,"X");Ve(Sp,"default",sr);var Jm=function(){function t(e){var r=this;Zt(this,t),Ve(this,"parsers",{}),Ve(this,"output",{}),Ve(this,"errors",[]),Ve(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=Sp.useCached(e)}return i(t,"H"),er(t,[{key:"read",value:function(){var e=He(he().mark(i(function n(a){return he().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,function(s,c){return typeof s=="string"?yH(s,c):ea&&!Hm&&s instanceof HTMLImageElement?yH(s.src,c):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new mp(s):ea&&s instanceof Blob?GR(s,c,"blob",gp):void Ut("Invalid input argument")}(a,this.options);case 2:this.file=u.sent;case 3:case"end":return u.stop()}},"_callee$"),n,this)},"_callee")));function r(n){return e.apply(this,arguments)}return i(r,"read"),r}()},{key:"setup",value:i(function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),a=Ie(Km),o;try{for(a.s();!(o=a.n()).done;){var u=fn(o.value,2),s=u[0],c=u[1];if(c.canHandle(r,n))return this.fileParser=new c(this.options,this.file,this.parsers),r[s]=!0}}catch(p){a.e(p)}finally{a.f()}this.file.close&&this.file.close(),Ut("Unknown file format")}},"setup")},{key:"parse",value:function(){var e=He(he().mark(i(function n(){var a,o,u;return he().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(a=this.output,o=this.errors,this.setup(),!this.options.silentErrors){c.next=8;break}return c.next=5,this.executeParsers().catch(this.pushToErrors);case 5:o.push.apply(o,fl(this.fileParser.errors)),c.next=10;break;case 8:return c.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&o.length>0&&(a.errors=o),c.abrupt("return",NH(u=a)?void 0:u);case 13:case"end":return c.stop()}},"_callee2$"),n,this)},"_callee2")));function r(){return e.apply(this,arguments)}return i(r,"parse"),r}()},{key:"executeParsers",value:function(){var e=He(he().mark(i(function n(){var a=this,o,u;return he().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:return o=this.output,c.next=3,this.fileParser.parse();case 3:return u=Object.values(this.parsers).map(function(){var p=He(he().mark(i(function h(y){var m;return he().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,y.parse();case 2:m=_.sent,y.assignToOutput(o,m);case 4:case"end":return _.stop()}},"_callee3$"),h)},"_callee3")));return function(h){return p.apply(this,arguments)}}()),this.options.silentErrors&&(u=u.map(function(p){return p.catch(a.pushToErrors)})),c.next=7,Promise.all(u);case 7:case"end":return c.stop()}},"_callee4$"),n,this)},"_callee4")));function r(){return e.apply(this,arguments)}return i(r,"executeParsers"),r}()},{key:"extractThumbnail",value:function(){var e=He(he().mark(i(function n(){var a,o,u,s,c,p,h;return he().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.setup(),a=this.options,o=this.file,u=$r.get("tiff",a),!o.tiff){m.next=6;break}s={start:0,type:"tiff"},m.next=11;break;case 6:if(m.t0=o.jpeg,!m.t0){m.next=11;break}return m.next=10,this.fileParser.getOrFindSegment("tiff");case 10:s=m.sent;case 11:if(s!==void 0){m.next=13;break}return m.abrupt("return");case 13:return m.next=15,this.fileParser.ensureSegmentChunk(s);case 15:return c=m.sent,p=this.parsers.tiff=new u(c,a,o),m.next=19,p.extractThumbnail();case 19:return h=m.sent,m.abrupt("return",(o.close&&o.close(),h));case 21:case"end":return m.stop()}},"_callee5$"),n,this)},"_callee5")));function r(){return e.apply(this,arguments)}return i(r,"extractThumbnail"),r}()}]),t}();function BH(t,e){return KR.apply(this,arguments)}i(BH,"Y");function KR(){return KR=He(he().mark(i(function t(e,r){var n;return he().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return n=new Jm(r),o.next=3,n.read(e);case 3:return o.abrupt("return",n.parse());case 4:case"end":return o.stop()}},"_callee28$"),t)},"_callee28"))),KR.apply(this,arguments)}i(KR,"_Y");var oGe=Object.freeze({__proto__:null,parse:BH,Exifr:Jm,fileParsers:Km,segmentParsers:$r,fileReaders:wp,tagKeys:Op,tagValues:ZR,tagRevivers:eT,createDictionary:DH,extendDictionary:UH,fetchUrlAsArrayBuffer:Vm,readBlobAsArrayBuffer:gp,chunkedProps:al,otherSegments:Ym,segments:bp,tiffBlocks:Pt,segmentsAndBlocks:ul,tiffExtractables:sl,inheritables:Xm,allFormatters:ll,Options:Sp}),cl=function(){function t(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;Zt(this,t),Ve(this,"errors",[]),Ve(this,"raw",new Map),Ve(this,"handleError",function(o){if(!r.options.silentErrors)throw o;r.errors.push(o.message)}),this.chunk=this.normalizeInput(e),this.file=a,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return i(t,"J"),er(t,[{key:"normalizeInput",value:i(function(r){return r instanceof mp?r:new mp(r)},"normalizeInput")},{key:"translate",value:i(function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))},"translate")},{key:"output",get:i(function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0},"get")},{key:"translateBlock",value:i(function(r,n){var a=eT.get(n),o=ZR.get(n),u=Op.get(n),s=this.options[n],c=s.reviveValues&&!!a,p=s.translateValues&&!!o,h=s.translateKeys&&!!u,y={},m=Ie(r),w;try{for(m.s();!(w=m.n()).done;){var _=fn(w.value,2),R=_[0],T=_[1];c&&a.has(R)?T=a.get(R)(T):p&&o.has(R)&&(T=this.translateValue(T,o.get(R))),h&&u.has(R)&&(R=u.get(R)||R),y[R]=T}}catch(E){m.e(E)}finally{m.f()}return y},"translateBlock")},{key:"translateValue",value:i(function(r,n){return n[r]||n.DEFAULT||r},"translateValue")},{key:"assignToOutput",value:i(function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)},"assignToOutput")},{key:"assignObjectToOutput",value:i(function(r,n,a){if(this.globalOptions.mergeOutput)return Object.assign(r,a);r[n]?Object.assign(r[n],a):r[n]=a},"assignObjectToOutput")}],[{key:"findPosition",value:i(function(r,n){var a=r.getUint16(n+2)+2,o=typeof this.headerLength=="function"?this.headerLength(r,n,a):this.headerLength,u=n+o,s=a-o;return{offset:n,length:a,headerLength:o,start:u,size:s,end:u+s}},"findPosition")},{key:"parse",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new Sp(Wze({},this.type,n)),r).parse()},"parse")}]),t}();Ve(cl,"headerLength",4),Ve(cl,"type",void 0),Ve(cl,"multiSegment",!1),Ve(cl,"canHandle",function(){return!1});function aGe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}i(aGe,"q");function uGe(t){return t>=224&&t<=239}i(uGe,"Q");function sGe(t,e,r){var n=Ie($r),a;try{for(n.s();!(a=n.n()).done;){var o=fn(a.value,2),u=o[0],s=o[1];if(s.canHandle(t,e,r))return u}}catch(c){n.e(c)}finally{n.f()}}i(sGe,"Z");var bH=function(t){si(r,t);var e=li(r);function r(){var n;Zt(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o)),Ve(Br(n),"appSegments",[]),Ve(Br(n),"jpegSegments",[]),Ve(Br(n),"unknownSegments",[]),n}return i(r,"ee"),er(r,[{key:"parse",value:function(){var n=He(he().mark(i(function o(){return he().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.findAppSegments();case 2:return s.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return s.stop()}},"_callee6$"),o,this)},"_callee6")));function a(){return n.apply(this,arguments)}return i(a,"parse"),a}()},{key:"setupSegmentFinderArgs",value:i(function(a){var o=this;a===!0?(this.findAll=!0,this.wanted=new Set($r.keyList())):(a=a===void 0?$r.keyList().filter(function(u){return o.options[u].enabled}):a.filter(function(u){return o.options[u].enabled&&$r.has(u)}),this.findAll=!1,this.remaining=new Set(a),this.wanted=new Set(a)),this.unfinishedMultiSegment=!1},"setupSegmentFinderArgs")},{key:"findAppSegments",value:function(){var n=He(he().mark(i(function o(){var u=this,s,c,p,h,y,m,w,_,R,T=arguments;return he().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:if(s=T.length>0&&T[0]!==void 0?T[0]:0,c=T.length>1?T[1]:void 0,this.setupSegmentFinderArgs(c),p=this.file,h=this.findAll,y=this.wanted,m=this.remaining,A.t0=!h&&this.file.chunked,!A.t0){A.next=11;break}if(h=Array.from(y).some(function(C){var U=$r.get(C),G=u.options[C];return U.multiSegment&&G.multiSegment}),A.t1=h,!A.t1){A.next=11;break}return A.next=11,this.file.readWhole();case 11:if(s=this.findAppSegmentsInRange(s,p.byteLength),!(!this.options.onlyTiff&&p.chunked)){A.next=30;break}w=!1;case 14:if(!(m.size>0&&!w&&(p.canReadNextChunk||this.unfinishedMultiSegment))){A.next=30;break}if(_=p.nextChunkOffset,R=this.appSegments.some(function(C){return!u.file.available(C.offset||C.start,C.length||C.size)}),!(s>_&&!R)){A.next=22;break}return A.next=19,p.readNextChunk(s);case 19:A.t2=!A.sent,A.next=25;break;case 22:return A.next=24,p.readNextChunk(_);case 24:A.t2=!A.sent;case 25:if(w=A.t2,(s=this.findAppSegmentsInRange(s,p.byteLength))!==void 0){A.next=28;break}return A.abrupt("return");case 28:A.next=14;break;case 30:case"end":return A.stop()}},"_callee7$"),o,this)},"_callee7")));function a(){return n.apply(this,arguments)}return i(a,"findAppSegments"),a}()},{key:"findAppSegmentsInRange",value:i(function(a,o){o-=2;for(var u,s,c,p,h,y,m=this.file,w=this.findAll,_=this.wanted,R=this.remaining,T=this.options;a<o;a++)if(m.getUint8(a)===255){if(u=m.getUint8(a+1),uGe(u)){if(s=m.getUint16(a+2),c=sGe(m,a,s),c&&_.has(c)&&(p=$r.get(c),h=p.findPosition(m,a),y=T[c],h.type=c,this.appSegments.push(h),!w&&(p.multiSegment&&y.multiSegment?(this.unfinishedMultiSegment=h.chunkNumber<h.chunkCount,this.unfinishedMultiSegment||R.delete(c)):R.delete(c),R.size===0)))break;T.recordUnknownSegments&&(h=cl.findPosition(m,a),h.marker=u,this.unknownSegments.push(h)),a+=s+1}else if(aGe(u)){if(s=m.getUint16(a+2),u===218&&T.stopAfterSos!==!1)return;T.recordJpegSegments&&this.jpegSegments.push({offset:a,length:s,marker:u}),a+=s+1}}return a},"findAppSegmentsInRange")},{key:"mergeMultiSegments",value:i(function(){var a=this;if(!!this.appSegments.some(function(u){return u.multiSegment})){var o=function(u,s){for(var c,p,h,y=new Map,m=0;m<u.length;m++)c=u[m],p=c[s],y.has(p)?h=y.get(p):y.set(p,h=[]),h.push(c);return Array.from(y)}(this.appSegments,"type");this.mergedAppSegments=o.map(function(u){var s=fn(u,2),c=s[0],p=s[1],h=$r.get(c,a.options);return h.handleMultiSegments?{type:c,chunk:h.handleMultiSegments(p)}:p[0]})}},"mergeMultiSegments")},{key:"getSegment",value:i(function(a){return this.appSegments.find(function(o){return o.type===a})},"getSegment")},{key:"getOrFindSegment",value:function(){var n=He(he().mark(i(function o(u){var s;return he().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(s=this.getSegment(u),p.t0=s===void 0,!p.t0){p.next=6;break}return p.next=5,this.findAppSegments(0,[u]);case 5:s=this.getSegment(u);case 6:return p.abrupt("return",s);case 7:case"end":return p.stop()}},"_callee8$"),o,this)},"_callee8")));function a(o){return n.apply(this,arguments)}return i(a,"getOrFindSegment"),a}()}],[{key:"canHandle",value:i(function(a,o){return o===65496},"canHandle")}]),r}(function(){function t(e,r,n){var a=this;Zt(this,t),Ve(this,"errors",[]),Ve(this,"ensureSegmentChunk",function(){var o=He(he().mark(i(function u(s){var c,p;return he().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=s.start,p=s.size||65536,!a.file.chunked){y.next=17;break}if(!a.file.available(c,p)){y.next=6;break}s.chunk=a.file.subarray(c,p),y.next=15;break;case 6:return y.prev=6,y.next=9,a.file.readChunk(c,p);case 9:s.chunk=y.sent,y.next=15;break;case 12:y.prev=12,y.t0=y.catch(6),Ut("Couldn't read segment: ".concat(JSON.stringify(s),". ").concat(y.t0.message));case 15:y.next=18;break;case 17:a.file.byteLength>c+p?s.chunk=a.file.subarray(c,p):s.size===void 0?s.chunk=a.file.subarray(c):Ut("Segment unreachable: "+JSON.stringify(s));case 18:return y.abrupt("return",s.chunk);case 19:case"end":return y.stop()}},"_callee9$"),u,null,[[6,12]])},"_callee9")));return function(u){return o.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}return i(t,"_class"),er(t,[{key:"injectSegment",value:i(function(r,n){this.options[r].enabled&&this.createParser(r,n)},"injectSegment")},{key:"createParser",value:i(function(r,n){var a=new($r.get(r))(n,this.options,this.file);return this.parsers[r]=a},"createParser")},{key:"createParsers",value:i(function(r){var n=Ie(r),a;try{for(n.s();!(a=n.n()).done;){var o=a.value,u=o.type,s=o.chunk,c=this.options[u];if(c&&c.enabled){var p=this.parsers[u];p&&p.append||p||this.createParser(u,s)}}}catch(h){n.e(h)}finally{n.f()}},"createParsers")},{key:"readSegments",value:function(){var e=He(he().mark(i(function n(a){var o;return he().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.map(this.ensureSegmentChunk),s.next=3,Promise.all(o);case 3:case"end":return s.stop()}},"_callee10$"),n,this)},"_callee10")));function r(n){return e.apply(this,arguments)}return i(r,"readSegments"),r}()}]),t}());Ve(bH,"type","jpeg"),Km.set("jpeg",bH);var lGe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],cGe=function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"se"),er(r,[{key:"parseHeader",value:i(function(){var a=this.chunk.getUint16();a===18761?this.le=!0:a===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0},"parseHeader")},{key:"parseTags",value:i(function(a,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,s=this.options[o],c=s.pick,p=s.skip;c=new Set(c);var h=c.size>0,y=p.size===0,m=this.chunk.getUint16(a);a+=2;for(var w=0;w<m;w++){var _=this.chunk.getUint16(a);if(h){if(c.has(_)&&(u.set(_,this.parseTag(a,_,o)),c.delete(_),c.size===0))break}else!y&&p.has(_)||u.set(_,this.parseTag(a,_,o));a+=12}return u},"parseTags")},{key:"parseTag",value:i(function(a,o,u){var s=this.chunk,c=s.getUint16(a+2),p=s.getUint32(a+4),h=lGe[c];if(h*p<=4?a+=8:a=s.getUint32(a+8),(c<1||c>13)&&Ut("Invalid TIFF value type. block: ".concat(u.toUpperCase(),", tag: ").concat(o.toString(16),", type: ").concat(c,", offset ").concat(a)),a>s.byteLength&&Ut("Invalid TIFF value offset. block: ".concat(u.toUpperCase(),", tag: ").concat(o.toString(16),", type: ").concat(c,", offset ").concat(a," is outside of chunk size ").concat(s.byteLength)),c===1)return s.getUint8Array(a,p);if(c===2)return(y=function(R){for(;R.endsWith("\0");)R=R.slice(0,-1);return R}(y=s.getString(a,p)).trim())===""?void 0:y;var y;if(c===7)return s.getUint8Array(a,p);if(p===1)return this.parseTagValue(c,a);{for(var m=new(function(R){switch(R){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(c))(p),w=h,_=0;_<p;_++)m[_]=this.parseTagValue(c,a),a+=w;return m}},"parseTag")},{key:"parseTagValue",value:i(function(a,o){var u=this.chunk;switch(a){case 1:return u.getUint8(o);case 3:return u.getUint16(o);case 4:return u.getUint32(o);case 5:return u.getUint32(o)/u.getUint32(o+4);case 6:return u.getInt8(o);case 8:return u.getInt16(o);case 9:return u.getInt32(o);case 10:return u.getInt32(o)/u.getInt32(o+4);case 11:return u.getFloat(o);case 12:return u.getDouble(o);case 13:return u.getUint32(o);default:Ut("Invalid tiff type ".concat(a))}},"parseTagValue")}]),r}(cl),UR=function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"ie"),er(r,[{key:"parse",value:function(){var n=He(he().mark(i(function o(){var u;return he().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.parseHeader(),u=this.options,c.t0=u.ifd0.enabled,!c.t0){c.next=6;break}return c.next=6,this.parseIfd0Block();case 6:if(c.t1=u.exif.enabled,!c.t1){c.next=10;break}return c.next=10,this.safeParse("parseExifBlock");case 10:if(c.t2=u.gps.enabled,!c.t2){c.next=14;break}return c.next=14,this.safeParse("parseGpsBlock");case 14:if(c.t3=u.interop.enabled,!c.t3){c.next=18;break}return c.next=18,this.safeParse("parseInteropBlock");case 18:if(c.t4=u.ifd1.enabled,!c.t4){c.next=22;break}return c.next=22,this.safeParse("parseThumbnailBlock");case 22:return c.abrupt("return",this.createOutput());case 23:case"end":return c.stop()}},"_callee11$"),o,this)},"_callee11")));function a(){return n.apply(this,arguments)}return i(a,"parse"),a}()},{key:"safeParse",value:i(function(a){var o=this[a]();return o.catch!==void 0&&(o=o.catch(this.handleError)),o},"safeParse")},{key:"findIfd0Offset",value:i(function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))},"findIfd0Offset")},{key:"findIfd1Offset",value:i(function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var a=this.chunk.getUint16(this.ifd0Offset),o=this.ifd0Offset+2+12*a;this.ifd1Offset=this.chunk.getUint32(o)}},"findIfd1Offset")},{key:"parseBlock",value:i(function(a,o){var u=new Map;return this[o]=u,this.parseTags(a,o,u),u},"parseBlock")},{key:"parseIfd0Block",value:function(){var n=He(he().mark(i(function o(){var u,s;return he().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.ifd0){p.next=2;break}return p.abrupt("return");case 2:if(u=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&Ut("Malformed EXIF data"),!u.chunked&&this.ifd0Offset>u.byteLength&&Ut("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(u.byteLength)),p.t0=u.tiff,!p.t0){p.next=10;break}return p.next=10,u.ensureChunk(this.ifd0Offset,dH(this.options));case 10:return s=this.parseBlock(this.ifd0Offset,"ifd0"),p.abrupt("return",s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0);case 12:case"end":return p.stop()}},"_callee12$"),o,this)},"_callee12")));function a(){return n.apply(this,arguments)}return i(a,"parseIfd0Block"),a}()},{key:"parseExifBlock",value:function(){var n=He(he().mark(i(function o(){var u;return he().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.exif){c.next=2;break}return c.abrupt("return");case 2:if(c.t0=this.ifd0,c.t0){c.next=6;break}return c.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){c.next=8;break}return c.abrupt("return");case 8:if(c.t1=this.file.tiff,!c.t1){c.next=12;break}return c.next=12,this.file.ensureChunk(this.exifOffset,dH(this.options));case 12:return u=this.parseBlock(this.exifOffset,"exif"),c.abrupt("return",(this.interopOffset||(this.interopOffset=u.get(40965)),this.makerNote=u.get(37500),this.userComment=u.get(37510),this.options.sanitize&&(u.delete(40965),u.delete(37500),u.delete(37510)),this.unpack(u,41728),this.unpack(u,41729),u));case 14:case"end":return c.stop()}},"_callee13$"),o,this)},"_callee13")));function a(){return n.apply(this,arguments)}return i(a,"parseExifBlock"),a}()},{key:"unpack",value:i(function(a,o){var u=a.get(o);u&&u.length===1&&a.set(o,u[0])},"unpack")},{key:"parseGpsBlock",value:function(){var n=He(he().mark(i(function o(){var u;return he().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.gps){c.next=2;break}return c.abrupt("return");case 2:if(c.t0=this.ifd0,c.t0){c.next=6;break}return c.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){c.next=8;break}return c.abrupt("return");case 8:return u=this.parseBlock(this.gpsOffset,"gps"),c.abrupt("return",(u&&u.has(2)&&u.has(4)&&(u.set("latitude",wH.apply(void 0,fl(u.get(2)).concat([u.get(1)]))),u.set("longitude",wH.apply(void 0,fl(u.get(4)).concat([u.get(3)])))),u));case 10:case"end":return c.stop()}},"_callee14$"),o,this)},"_callee14")));function a(){return n.apply(this,arguments)}return i(a,"parseGpsBlock"),a}()},{key:"parseInteropBlock",value:function(){var n=He(he().mark(i(function o(){return he().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.t0=!this.interop,!s.t0){s.next=11;break}if(s.t1=this.ifd0,s.t1){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t2=this.interopOffset!==void 0||this.exif,s.t2){s.next=10;break}return s.next=10,this.parseExifBlock();case 10:s.t0=this.interopOffset!==void 0;case 11:if(!s.t0){s.next=13;break}return s.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return s.stop()}},"_callee15$"),o,this)},"_callee15")));function a(){return n.apply(this,arguments)}return i(a,"parseInteropBlock"),a}()},{key:"parseThumbnailBlock",value:function(){var n=He(he().mark(i(function o(){var u,s=arguments;return he().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(u=s.length>0&&s[0]!==void 0?s[0]:!1,!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||u))){p.next=3;break}return p.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return p.stop()}},"_callee16$"),o,this)},"_callee16")));function a(){return n.apply(this,arguments)}return i(a,"parseThumbnailBlock"),a}()},{key:"extractThumbnail",value:function(){var n=He(he().mark(i(function o(){var u,s;return he().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.headerParsed||this.parseHeader(),p.t0=this.ifd1Parsed,p.t0){p.next=5;break}return p.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){p.next=7;break}return p.abrupt("return");case 7:return u=this.ifd1.get(513),s=this.ifd1.get(514),p.abrupt("return",this.chunk.getUint8Array(u,s));case 9:case"end":return p.stop()}},"_callee17$"),o,this)},"_callee17")));function a(){return n.apply(this,arguments)}return i(a,"extractThumbnail"),a}()},{key:"image",get:i(function(){return this.ifd0},"get")},{key:"thumbnail",get:i(function(){return this.ifd1},"get")},{key:"createOutput",value:i(function(){var a,o,u,s={},c=Ie(Pt),p;try{for(c.s();!(p=c.n()).done;)if(o=p.value,a=this[o],!NH(a))if(u=this.canTranslate?this.translateBlock(a,o):Object.fromEntries(a),this.options.mergeOutput){if(o==="ifd1")continue;Object.assign(s,u)}else s[o]=u}catch(h){c.e(h)}finally{c.f()}return this.makerNote&&(s.makerNote=this.makerNote),this.userComment&&(s.userComment=this.userComment),s},"createOutput")},{key:"assignToOutput",value:i(function(a,o){if(this.globalOptions.mergeOutput)Object.assign(a,o);else for(var u=0,s=Object.entries(o);u<s.length;u++){var c=fn(s[u],2),p=c[0],h=c[1];this.assignObjectToOutput(a,p,h)}},"assignToOutput")}],[{key:"canHandle",value:i(function(a,o){return a.getUint8(o+1)===225&&a.getUint32(o+4)===1165519206&&a.getUint16(o+8)===0},"canHandle")}]),r}(cGe);function wH(t,e,r,n){var a=t+e/60+r/3600;return n!=="S"&&n!=="W"||(a*=-1),a}i(wH,"ne");Ve(UR,"type","tiff"),Ve(UR,"headerLength",10),$r.set("tiff",UR);var Cht=Object.freeze({__proto__:null,default:oGe,Exifr:Jm,fileParsers:Km,segmentParsers:$r,fileReaders:wp,tagKeys:Op,tagValues:ZR,tagRevivers:eT,createDictionary:DH,extendDictionary:UH,fetchUrlAsArrayBuffer:Vm,readBlobAsArrayBuffer:gp,chunkedProps:al,otherSegments:Ym,segments:bp,tiffBlocks:Pt,segmentsAndBlocks:ul,tiffExtractables:sl,inheritables:Xm,allFormatters:ll,Options:Sp,parse:BH}),tT={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Fht=Object.assign({},tT,{firstChunkSize:4e4,gps:[1,2,3,4]});var Lht=Object.assign({},tT,{tiff:!1,ifd1:!0,mergeOutput:!1});var fGe=Object.assign({},tT,{firstChunkSize:4e4,ifd0:[274]});function pGe(t){return YR.apply(this,arguments)}i(pGe,"ce");function YR(){return YR=He(he().mark(i(function t(e){var r,n;return he().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return r=new Jm(fGe),o.next=3,r.read(e);case 3:return o.next=5,r.parse();case 5:if(n=o.sent,!(n&&n.ifd0)){o.next=8;break}return o.abrupt("return",n.ifd0[274]);case 8:case"end":return o.stop()}},"_callee32$"),t)},"_callee32"))),YR.apply(this,arguments)}i(YR,"_ce");var hGe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),dp=!0,vp=!0;(typeof navigator=="undefined"?"undefined":Zo(navigator))=="object"&&(ai=navigator.userAgent,ai.includes("iPad")||ai.includes("iPhone")?(MR=ai.match(/OS (\d+)_(\d+)/),MR&&(BR=fn(MR,3),OH=BR[1],ea=BR[2],Hm=Number(OH)+.1*Number(ea),dp=Hm<13.4,vp=!1)):ai.includes("OS X 10")&&(SH=ai.match(/OS X 10[_.](\d+)/),_H=fn(SH,2),PH=_H[1],dp=vp=Number(PH)<15),ai.includes("Chrome/")?(EH=ai.match(/Chrome\/(\d+)/),RH=fn(EH,2),TH=RH[1],dp=vp=Number(TH)<81):ai.includes("Firefox/")&&(AH=ai.match(/Firefox\/(\d+)/),IH=fn(AH,2),kH=IH[1],dp=vp=Number(kH)<77));var ai,MR,BR,OH,ea,Hm,SH,_H,PH,EH,RH,TH,AH,IH,kH;function $H(t){return XR.apply(this,arguments)}i($H,"ye");function XR(){return XR=He(he().mark(i(function t(e){var r;return he().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pGe(e);case 2:return r=a.sent,a.abrupt("return",Object.assign({canvas:dp,css:vp},hGe[r]));case 4:case"end":return a.stop()}},"_callee33$"),t)},"_callee33"))),XR.apply(this,arguments)}i(XR,"_ye");var dGe=function(t){si(r,t);var e=li(r);function r(){var n;Zt(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o)),Ve(Br(n),"ranges",new vGe),n.byteLength!==0&&n.ranges.add(0,n.byteLength),n}return i(r,"be"),er(r,[{key:"_tryExtend",value:i(function(a,o,u){if(a===0&&this.byteLength===0&&u){var s=new DataView(u.buffer||u,u.byteOffset,u.byteLength);this._swapDataView(s)}else{var c=a+o;if(c>this.byteLength){var p=this._extend(c),h=p.dataView;this._swapDataView(h)}}},"_tryExtend")},{key:"_extend",value:i(function(a){var o;o=jH?LH.allocUnsafe(a):new Uint8Array(a);var u=new DataView(o.buffer,o.byteOffset,o.byteLength);return o.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:o,dataView:u}},"_extend")},{key:"subarray",value:i(function(a,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return o=o||this._lengthToEnd(a),u&&this._tryExtend(a,o),this.ranges.add(a,o),cu(ui(r.prototype),"subarray",this).call(this,a,o)},"subarray")},{key:"set",value:i(function(a,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;u&&this._tryExtend(o,a.byteLength,a);var s=cu(ui(r.prototype),"set",this).call(this,a,o);return this.ranges.add(o,s.byteLength),s},"set")},{key:"ensureChunk",value:function(){var n=He(he().mark(i(function o(u,s){return he().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(p.t0=this.chunked,!p.t0){p.next=6;break}if(p.t1=this.ranges.available(u,s),p.t1){p.next=6;break}return p.next=6,this.readChunk(u,s);case 6:case"end":return p.stop()}},"_callee18$"),o,this)},"_callee18")));function a(o,u){return n.apply(this,arguments)}return i(a,"ensureChunk"),a}()},{key:"available",value:i(function(a,o){return this.ranges.available(a,o)},"available")}]),r}(mp),vGe=function(){function t(){Zt(this,t),Ve(this,"list",[])}return i(t,"we"),er(t,[{key:"length",get:i(function(){return this.list.length},"get")},{key:"add",value:i(function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=r+n,u=this.list.filter(function(c){return qH(r,c.offset,o)||qH(r,c.end,o)});if(u.length>0){r=Math.min.apply(Math,[r].concat(fl(u.map(function(c){return c.offset})))),o=Math.max.apply(Math,[o].concat(fl(u.map(function(c){return c.end})))),n=o-r;var s=u.shift();s.offset=r,s.length=n,s.end=o,this.list=this.list.filter(function(c){return!u.includes(c)})}else this.list.push({offset:r,length:n,end:o})},"add")},{key:"available",value:i(function(r,n){var a=r+n;return this.list.some(function(o){return o.offset<=r&&a<=o.end})},"available")}]),t}();function qH(t,e,r){return t<=e&&e<=r}i(qH,"ke");var yGe=function(t){si(r,t);var e=li(r);function r(n,a){var o;return Zt(this,r),o=e.call(this,0),Ve(Br(o),"chunksRead",0),o.input=n,o.options=a,o}return i(r,"Oe"),er(r,[{key:"readWhole",value:function(){var n=He(he().mark(i(function o(){return he().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return this.chunked=!1,s.next=3,this.readChunk(this.nextChunkOffset);case 3:case"end":return s.stop()}},"_callee19$"),o,this)},"_callee19")));function a(){return n.apply(this,arguments)}return i(a,"readWhole"),a}()},{key:"readChunked",value:function(){var n=He(he().mark(i(function o(){return he().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return this.chunked=!0,s.next=3,this.readChunk(0,this.options.firstChunkSize);case 3:case"end":return s.stop()}},"_callee20$"),o,this)},"_callee20")));function a(){return n.apply(this,arguments)}return i(a,"readChunked"),a}()},{key:"readNextChunk",value:function(){var n=He(he().mark(i(function o(){var u,s,c,p=arguments;return he().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(u=p.length>0&&p[0]!==void 0?p[0]:this.nextChunkOffset,!this.fullyRead){y.next=3;break}return y.abrupt("return",(this.chunksRead++,!1));case 3:return s=this.options.chunkSize,y.next=6,this.readChunk(u,s);case 6:return c=y.sent,y.abrupt("return",!!c&&c.byteLength===s);case 8:case"end":return y.stop()}},"_callee21$"),o,this)},"_callee21")));function a(){return n.apply(this,arguments)}return i(a,"readNextChunk"),a}()},{key:"readChunk",value:function(){var n=He(he().mark(i(function o(u,s){return he().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.chunksRead++,(s=this.safeWrapAddress(u,s))===0){p.next=2;break}return p.abrupt("return",this._readChunk(u,s));case 2:case"end":return p.stop()}},"_callee22$"),o,this)},"_callee22")));function a(o,u){return n.apply(this,arguments)}return i(a,"readChunk"),a}()},{key:"safeWrapAddress",value:i(function(a,o){return this.size!==void 0&&a+o>this.size?Math.max(0,this.size-a):o},"safeWrapAddress")},{key:"nextChunkOffset",get:i(function(){if(this.ranges.list.length!==0)return this.ranges.list[0].length},"get")},{key:"canReadNextChunk",get:i(function(){return this.chunksRead<this.options.chunkLimit},"get")},{key:"fullyRead",get:i(function(){return this.size!==void 0&&this.nextChunkOffset===this.size},"get")},{key:"read",value:i(function(){return this.options.chunked?this.readChunked():this.readWhole()},"read")},{key:"close",value:i(function(){},"close")}]),r}(dGe);wp.set("blob",function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"_class2"),er(r,[{key:"readWhole",value:function(){var n=He(he().mark(i(function o(){var u;return he().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:return this.chunked=!1,c.next=3,gp(this.input);case 3:u=c.sent,this._swapArrayBuffer(u);case 5:case"end":return c.stop()}},"_callee23$"),o,this)},"_callee23")));function a(){return n.apply(this,arguments)}return i(a,"readWhole"),a}()},{key:"readChunked",value:i(function(){return this.chunked=!0,this.size=this.input.size,cu(ui(r.prototype),"readChunked",this).call(this)},"readChunked")},{key:"_readChunk",value:function(){var n=He(he().mark(i(function o(u,s){var c,p,h;return he().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:return c=s?u+s:void 0,p=this.input.slice(u,c),m.next=4,gp(p);case 4:return h=m.sent,m.abrupt("return",this.set(h,u,!0));case 6:case"end":return m.stop()}},"_callee24$"),o,this)},"_callee24")));function a(o,u){return n.apply(this,arguments)}return i(a,"_readChunk"),a}()}]),r}(yGe));var zH={strings:{generatingThumbnails:"Generating thumbnails..."}};function rT(t){return rT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rT(t)}i(rT,"_typeof");function mGe(t,e){return OGe(t)||wGe(t,e)||bGe(t,e)||gGe()}i(mGe,"_slicedToArray");function gGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(gGe,"_nonIterableRest");function bGe(t,e){if(!!t){if(typeof t=="string")return GH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GH(t,e)}}i(bGe,"_unsupportedIterableToArray");function GH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(GH,"_arrayLikeToArray");function wGe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(wGe,"_iterableToArrayLimit");function OGe(t){if(Array.isArray(t))return t}i(OGe,"_arrayWithHoles");function HH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(HH,"ownKeys");function VH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HH(Object(r),!0).forEach(function(n){SGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(VH,"_objectSpread");function SGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(SGe,"_defineProperty");function _Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_Ge,"_classCallCheck");function WH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(WH,"_defineProperties");function PGe(t,e,r){return e&&WH(t.prototype,e),r&&WH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(PGe,"_createClass");function EGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}i(EGe,"_inherits");function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),nT(t,e)}i(nT,"_setPrototypeOf");function RGe(t){var e=IGe();return i(function(){var n=Qm(t),a;if(e){var o=Qm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return TGe(this,a)},"_createSuperInternal")}i(RGe,"_createSuper");function TGe(t,e){if(e&&(rT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AGe(t)}i(TGe,"_possibleConstructorReturn");function AGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(AGe,"_assertThisInitialized");function IGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(IGe,"_isNativeReflectConstruct");function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Qm(t)}i(Qm,"_getPrototypeOf");var kGe={version:"3.0.2"};function qGe(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(function(n){t.toBlob(n,e,r)}).then(function(n){if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(function(){return jR(t.toDataURL(e,r),{})}).then(function(n){if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}i(qGe,"canvasToBlob");function xGe(t,e){var r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);var a=document.createElement("canvas");a.width=r,a.height=n;var o=a.getContext("2d");return o.translate(r/2,n/2),e.canvas&&(o.rotate(e.rad),o.scale(e.scaleX,e.scaleY)),o.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),a}i(xGe,"rotateImage");function CGe(t){var e=t.width/t.height,r=5e6,n=4096,a=Math.floor(Math.sqrt(r*e)),o=Math.floor(r/Math.sqrt(r*e));if(a>n&&(a=n,o=Math.round(a/e)),o>n&&(o=n,a=Math.round(e*o)),t.width>a){var u=document.createElement("canvas");return u.width=a,u.height=o,u.getContext("2d").drawImage(t,0,0,a,o),u}return t}i(CGe,"protect");var _p=function(t){EGe(r,t);var e=RGe(r);function r(n,a){var o;_Ge(this,r),o=e.call(this,n,a),o.onFileAdded=function(s){!s.preview&&s.data&&rl(s.type)&&!s.isRemote&&o.addToQueue(s.id)},o.onCancelRequest=function(s){var c=o.queue.indexOf(s.id);c!==-1&&o.queue.splice(c,1)},o.onFileRemoved=function(s){var c=o.queue.indexOf(s.id);c!==-1&&o.queue.splice(c,1),s.preview&&$m(s.preview)&&URL.revokeObjectURL(s.preview)},o.onRestored=function(){var s=o.uppy.getFiles().filter(function(c){return c.isRestored});s.forEach(function(c){(!c.preview||$m(c.preview))&&o.addToQueue(c.id)})},o.onAllFilesRemoved=function(){o.queue=[]},o.waitUntilAllProcessed=function(s){s.forEach(function(p){var h=o.uppy.getFile(p);o.uppy.emit("preprocess-progress",h,{mode:"indeterminate",message:o.i18n("generatingThumbnails")})});var c=i(function(){s.forEach(function(h){var y=o.uppy.getFile(h);o.uppy.emit("preprocess-complete",y)})},"emitPreprocessCompleteForAll");return new Promise(function(p){o.queueProcessing?o.uppy.once("thumbnail:all-generated",function(){c(),p()}):(c(),p())})},o.type="modifier",o.id=o.opts.id||"ThumbnailGenerator",o.title="Thumbnail Generator",o.queue=[],o.queueProcessing=!1,o.defaultThumbnailDimension=200,o.thumbnailType=o.opts.thumbnailType||"image/jpeg",o.defaultLocale=zH;var u={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(o.opts=VH(VH({},u),a),o.i18nInit(),o.opts.lazy&&o.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return o}return i(r,"ThumbnailGenerator"),PGe(r,[{key:"createThumbnail",value:i(function(a,o,u){var s=this,c=URL.createObjectURL(a.data),p=new Promise(function(y,m){var w=new Image;w.src=c,w.addEventListener("load",function(){URL.revokeObjectURL(c),y(w)}),w.addEventListener("error",function(_){URL.revokeObjectURL(c),m(_.error||new Error("Could not create thumbnail"))})}),h=$H(a.data).catch(function(){return 1});return Promise.all([p,h]).then(function(y){var m=mGe(y,2),w=m[0],_=m[1],R=s.getProportionalDimensions(w,o,u,_.deg),T=xGe(w,_),E=s.resizeImage(T,R.width,R.height);return qGe(E,s.thumbnailType,80)}).then(function(y){return URL.createObjectURL(y)})},"createThumbnail")},{key:"getProportionalDimensions",value:i(function(a,o,u,s){var c=a.width/a.height;return(s===90||s===270)&&(c=a.height/a.width),o!=null?{width:o,height:Math.round(o/c)}:u!=null?{width:Math.round(u*c),height:u}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/c)}},"getProportionalDimensions")},{key:"resizeImage",value:i(function(a,o,u){var s=CGe(a),c=Math.ceil(Math.log2(s.width/o));c<1&&(c=1);for(var p=o*Math.pow(2,c-1),h=u*Math.pow(2,c-1),y=2;c--;){var m=document.createElement("canvas");m.width=p,m.height=h,m.getContext("2d").drawImage(s,0,0,p,h),s=m,p=Math.round(p/y),h=Math.round(h/y)}return s},"resizeImage")},{key:"setPreviewURL",value:i(function(a,o){this.uppy.setFileState(a,{preview:o})},"setPreviewURL")},{key:"addToQueue",value:i(function(a){this.queue.push(a),this.queueProcessing===!1&&this.processQueue()},"addToQueue")},{key:"processQueue",value:i(function(){var a=this;if(this.queueProcessing=!0,this.queue.length>0){var o=this.uppy.getFile(this.queue.shift());return o?this.requestThumbnail(o).catch(function(){}).then(function(){return a.processQueue()}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()},"processQueue")},{key:"requestThumbnail",value:i(function(a){var o=this;return rl(a.type)&&!a.isRemote?this.createThumbnail(a,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(u){o.setPreviewURL(a.id,u),o.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(a.id)),o.uppy.emit("thumbnail:generated",o.uppy.getFile(a.id),u)}).catch(function(u){o.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(a.id,":"),"warning"),o.uppy.log(u,"warning"),o.uppy.emit("thumbnail:error",o.uppy.getFile(a.id),u)}):Promise.resolve()},"requestThumbnail")},{key:"install",value:i(function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},"install")},{key:"uninstall",value:i(function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},"uninstall")}]),r}(Se);_p.VERSION=kGe.version;function iT(t){return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iT(t)}i(iT,"_typeof");function Zm(t){if(typeof t=="string"){var e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return iT(t)==="object"&&Kf(t)?[t]:null}i(Zm,"findAllDOMElements");var Et=Array.from;function KH(t){return NGe(t)||jGe(t)||LGe(t)||FGe()}i(KH,"_toConsumableArray");function FGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(FGe,"_nonIterableSpread");function LGe(t,e){if(!!t){if(typeof t=="string")return oT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(t,e)}}i(LGe,"_unsupportedIterableToArray");function jGe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(jGe,"_iterableToArray");function NGe(t){if(Array.isArray(t))return oT(t)}i(NGe,"_arrayWithoutHoles");function oT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(oT,"_arrayLikeToArray");function eg(t,e,r,n){var a=n.onSuccess;t.readEntries(function(o){var u=[].concat(KH(e),KH(o));o.length?queueMicrotask(function(){eg(t,u,r,{onSuccess:a})}):a(u)},function(o){r(o),a(e)})}i(eg,"getFilesAndDirectoriesFromDirectory");function aT(t){return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(t)}i(aT,"_typeof");function DGe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=UGe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(DGe,"_createForOfIteratorHelper");function UGe(t,e){if(!!t){if(typeof t=="string")return YH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YH(t,e)}}i(UGe,"_unsupportedIterableToArray");function YH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(YH,"_arrayLikeToArray");function XH(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(XH,"asyncGeneratorStep");function MGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){XH(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){XH(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(MGe,"_asyncToGenerator");function Yi(){"use strict";Yi=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&aT(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(Yi,"_regeneratorRuntime");function lT(t){return function(){return new Pp(t.apply(this,arguments))}}i(lT,"_wrapAsyncGenerator");function Pp(t){var e,r;function n(u,s){return new Promise(function(c,p){var h={key:u,arg:s,resolve:c,reject:p,next:null};r?r=r.next=h:(e=r=h,a(u,s))})}i(n,"send");function a(u,s){try{var c=t[u](s),p=c.value,h=p instanceof JH;Promise.resolve(h?p.wrapped:p).then(function(y){if(h){a(u==="return"?"return":"next",y);return}o(c.done?"return":"normal",y)},function(y){a("throw",y)})}catch(y){o("throw",y)}}i(a,"resume");function o(u,s){switch(u){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1});break}e=e.next,e?a(e.key,e.arg):r=null}i(o,"settle"),this._invoke=n,typeof t.return!="function"&&(this.return=void 0)}i(Pp,"_AsyncGenerator");Pp.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};Pp.prototype.next=function(t){return this._invoke("next",t)};Pp.prototype.throw=function(t){return this._invoke("throw",t)};Pp.prototype.return=function(t){return this._invoke("return",t)};function ta(t){return new JH(t)}i(ta,"_awaitAsyncGenerator");function JH(t){this.wrapped=t}i(JH,"_AwaitValue");function rg(t){var e,r,n,a=2;for(typeof Symbol!="undefined"&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&(e=t[r])!=null)return e.call(t);if(n&&(e=t[n])!=null)return new tg(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}i(rg,"_asyncIterator");function tg(t){function e(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(a){return{value:a,done:n}})}return i(e,"AsyncFromSyncIteratorContinuation"),tg=i(function(n){this.s=n,this.n=n.next},"AsyncFromSyncIterator"),tg.prototype={s:null,n:null,next:i(function(){return e(this.n.apply(this.s,arguments))},"next"),return:i(function(n){var a=this.s.return;return a===void 0?Promise.resolve({value:n,done:!0}):e(a.apply(this.s,arguments))},"_return"),throw:i(function(n){var a=this.s.return;return a===void 0?Promise.reject(n):e(a.apply(this.s,arguments))},"_throw")},new tg(t)}i(tg,"AsyncFromSyncIterator");function cT(t,e){var r={},n=!1;function a(o,u){return n=!0,u=new Promise(function(s){s(t[o](u))}),{done:!1,value:e(u)}}return i(a,"pump"),r[typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(o){return n?(n=!1,o):a("next",o)},typeof t.throw=="function"&&(r.throw=function(o){if(n)throw n=!1,o;return a("throw",o)}),typeof t.return=="function"&&(r.return=function(o){return n?(n=!1,o):a("return",o)}),r}i(cT,"_asyncGeneratorDelegate");function QH(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile:i(function(){return new Promise(function(n,a){return t.file(n,a)})},"getFile"),values:i(function(){return lT(Yi().mark(i(function n(){var a,o;return Yi().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.createReader(),s.next=3,ta(new Promise(function(c){eg(a,[],e,{onSuccess:i(function(h){return c(h.map(function(y){return QH(y,e)}))},"onSuccess")})}));case 3:return o=s.sent,s.delegateYield(cT(rg(o),ta),"t0",5);case 5:case"end":return s.stop()}},"_callee$"),n)},"_callee")))()},"values")}}i(QH,"getAsFileSystemHandleFromEntry");function ZH(t,e){return uT.apply(this,arguments)}i(ZH,"createPromiseToAddFileOrParseDirectory");function uT(){return uT=lT(Yi().mark(i(function t(e,r){var n,a,o,u,s,c,p;return Yi().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(e.kind!=="file"){y.next=10;break}return y.next=3,ta(e.getFile());case 3:if(n=y.sent,n===null){y.next=8;break}return n.relativePath=r?"".concat(r,"/").concat(e.name):null,y.next=8,n;case 8:y.next=39;break;case 10:if(e.kind!=="directory"){y.next=39;break}a=!1,o=!1,y.prev=13,s=rg(e.values());case 15:return y.next=17,ta(s.next());case 17:if(!(a=!(c=y.sent).done)){y.next=23;break}return p=c.value,y.delegateYield(cT(rg(ZH(p,"".concat(r,"/").concat(e.name))),ta),"t0",20);case 20:a=!1,y.next=15;break;case 23:y.next=29;break;case 25:y.prev=25,y.t1=y.catch(13),o=!0,u=y.t1;case 29:if(y.prev=29,y.prev=30,!(a&&s.return!=null)){y.next=34;break}return y.next=34,ta(s.return());case 34:if(y.prev=34,!o){y.next=37;break}throw u;case 37:return y.finish(34);case 38:return y.finish(29);case 39:case"end":return y.stop()}},"_callee2$"),t,null,[[13,25,29,39],[30,,34,38]])},"_callee2"))),uT.apply(this,arguments)}i(uT,"_createPromiseToAddFileOrParseDirectory");function fT(t,e){return sT.apply(this,arguments)}i(fT,"getFilesFromDataTransfer");function sT(){return sT=lT(Yi().mark(i(function t(e,r){var n,a,o,u,s,c;return Yi().wrap(i(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,ta(Promise.all(Array.from(e.items,function(){var y=MGe(Yi().mark(i(function m(w){var _,R,T;return Yi().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:return R=w.getAsFile(),A.next=3,w.getAsFileSystemHandle==null?void 0:w.getAsFileSystemHandle();case 3:if(A.t0=_=A.sent,A.t0==null){A.next=8;break}A.t1=_,A.next=9;break;case 8:A.t1=QH(w.webkitGetAsEntry(),r);case 9:return T=A.t1,A.abrupt("return",{lastResortFile:R,entry:T});case 11:case"end":return A.stop()}},"_callee3$"),m)},"_callee3")));return function(m){return y.apply(this,arguments)}}())));case 2:n=h.sent,a=DGe(n),h.prev=4,a.s();case 6:if((o=a.n()).done){h.next=23;break}if(u=o.value,s=u.lastResortFile,c=u.entry,c==null){h.next=21;break}return h.prev=9,h.delegateYield(cT(rg(ZH(c,"")),ta),"t0",11);case 11:h.next=21;break;case 13:if(h.prev=13,h.t1=h.catch(9),!s){h.next=20;break}return h.next=18,s;case 18:h.next=21;break;case 20:r(h.t1);case 21:h.next=6;break;case 23:h.next=28;break;case 25:h.prev=25,h.t2=h.catch(4),a.e(h.t2);case 28:return h.prev=28,a.f(),h.finish(28);case 31:case"end":return h.stop()}},"_callee4$"),t,null,[[4,25,28,31],[9,13]])},"_callee4"))),sT.apply(this,arguments)}i(sT,"_getFilesFromDataTransfer");function pT(t){var e=Et(t.files);return Promise.resolve(e)}i(pT,"fallbackApi");function hT(t){return hT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hT(t)}i(hT,"_typeof");function dT(){"use strict";dT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&hT(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(dT,"_regeneratorRuntime");function eV(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(eV,"asyncGeneratorStep");function BGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){eV(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){eV(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(BGe,"_asyncToGenerator");function $Ge(t){var e,r,n,a=2;for(typeof Symbol!="undefined"&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&(e=t[r])!=null)return e.call(t);if(n&&(e=t[n])!=null)return new ng(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}i($Ge,"_asyncIterator");function ng(t){function e(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(a){return{value:a,done:n}})}return i(e,"AsyncFromSyncIteratorContinuation"),ng=i(function(n){this.s=n,this.n=n.next},"AsyncFromSyncIterator"),ng.prototype={s:null,n:null,next:i(function(){return e(this.n.apply(this.s,arguments))},"next"),return:i(function(n){var a=this.s.return;return a===void 0?Promise.resolve({value:n,done:!0}):e(a.apply(this.s,arguments))},"_return"),throw:i(function(n){var a=this.s.return;return a===void 0?Promise.reject(n):e(a.apply(this.s,arguments))},"_throw")},new ng(t)}i(ng,"AsyncFromSyncIterator");function fu(t,e){return vT.apply(this,arguments)}i(fu,"getDroppedFiles");function vT(){return vT=BGe(dT().mark(i(function t(e,r){var n,a,o,u,s,c,p,h,y,m;return dT().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:n=r===void 0?{}:r,a=n.logDropError,o=a===void 0?function(){}:a,_.prev=1,u=[],s=!1,c=!1,_.prev=5,h=$Ge(fT(e,o));case 7:return _.next=9,h.next();case 9:if(!(s=!(y=_.sent).done)){_.next=15;break}m=y.value,u.push(m);case 12:s=!1,_.next=7;break;case 15:_.next=21;break;case 17:_.prev=17,_.t0=_.catch(5),c=!0,p=_.t0;case 21:if(_.prev=21,_.prev=22,!(s&&h.return!=null)){_.next=26;break}return _.next=26,h.return();case 26:if(_.prev=26,!c){_.next=29;break}throw p;case 29:return _.finish(26);case 30:return _.finish(21);case 31:return _.abrupt("return",u);case 34:return _.prev=34,_.t1=_.catch(1),_.abrupt("return",pT(e));case 37:case"end":return _.stop()}},"_callee$"),t,null,[[1,34],[5,17,21,31],[22,,26,30]])},"_callee"))),vT.apply(this,arguments)}i(vT,"_getDroppedFiles");var tV=Number.isNaN||i(function(e){return typeof e=="number"&&e!==e},"ponyfill");function zGe(t,e){return!!(t===e||tV(t)&&tV(e))}i(zGe,"isEqual");function GGe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!zGe(t[r],e[r]))return!1;return!0}i(GGe,"areInputsEqual");function yT(t,e){e===void 0&&(e=GGe);var r=null;function n(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var u=t.apply(this,a);return r={lastResult:u,lastArgs:a,lastThis:this},u}return i(n,"memoized"),n.clear=i(function(){r=null},"clear"),n}i(yT,"memoizeOne");var pl=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function Ep(t,e){if(e){var r=t.querySelector('[data-uppy-paneltype="'.concat(e,'"]'));if(r)return r}return t}i(Ep,"getActiveOverlayEl");function rV(t,e){var r=e[0];r&&(r.focus(),t.preventDefault())}i(rV,"focusOnFirstNode");function HGe(t,e){var r=e[e.length-1];r&&(r.focus(),t.preventDefault())}i(HGe,"focusOnLastNode");function VGe(t){return t.contains(document.activeElement)}i(VGe,"isFocusInOverlay");function mT(t,e,r){var n=Ep(r,e),a=Et(n.querySelectorAll(pl)),o=a.indexOf(document.activeElement);VGe(n)?t.shiftKey&&o===0?HGe(t,a):!t.shiftKey&&o===a.length-1&&rV(t,a):rV(t,a)}i(mT,"trapFocus");function nV(t,e,r){e===null||mT(t,e,r)}i(nV,"forInline");var sV=Te(uV(),1);function wT(){var t=!1,e=i(function(n,a){var o=Ep(n,a),u=o.contains(document.activeElement);if(!(u&&t)){var s=o.querySelector("[data-uppy-super-focusable]");if(!(u&&!s))if(s)s.focus({preventScroll:!0}),t=!0;else{var c=o.querySelector(pl);c==null||c.focus({preventScroll:!0}),t=!1}}},"superFocus");return(0,sV.default)(e,260)}i(wT,"createSuperFocus");var GV=Te(Mr(),1);function Rp(){var t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}i(Rp,"isDragDropSupported");var SV=Te(Mr(),1);var yV=Te(Mr(),1),mV=Te(cV(),1);function fHe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},S("g",{fill:"#686DE0",fillRule:"evenodd"},S("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),S("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),S("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}i(fHe,"iconImage");function pHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}i(pHe,"iconAudio");function hHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}i(hHe,"iconVideo");function dHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}i(dHe,"iconPDF");function vHe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}i(vHe,"iconArchive");function yHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("g",{fill:"#A7AFB7",fillRule:"nonzero"},S("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),S("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}i(yHe,"iconFile");function mHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}i(mHe,"iconText");function hu(t){var e={color:"#838999",icon:yHe()};if(!t)return e;var r=t.split("/")[0],n=t.split("/")[1];if(r==="text")return{color:"#5a5e69",icon:mHe()};if(r==="image")return{color:"#686de0",icon:fHe()};if(r==="audio")return{color:"#068dbb",icon:pHe()};if(r==="video")return{color:"#19af67",icon:hHe()};if(r==="application"&&n==="pdf")return{color:"#e25149",icon:dHe()};var a=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return r==="application"&&a.indexOf(n)!==-1?{color:"#00C469",icon:vHe()}:e}i(hu,"getIconByMime");function Tp(t){var e=t.file;if(e.preview)return S("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});var r=hu(e.type),n=r.color,a=r.icon;return S("div",{className:"uppy-Dashboard-Item-previewIconWrap"},S("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},a),S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},S("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}i(Tp,"FilePreview");var gHe=i(function(e,r){var n=r.filter(function(a){return a.id===e});return n[0].name},"metaFieldIdToName");function Ap(t){var e=t.file,r=t.toggleFileCard,n=t.i18n,a=t.metaFields,o=e.missingRequiredMetaFields;if(!(o!=null&&o.length))return null;var u=o.map(function(s){return gHe(s,a)}).join(", ");return S("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:o.length,fields:u})," ",S("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:i(function(){return r(!0,e.id)},"onClick")},n("editFile")))}i(Ap,"renderMissingMetaFieldsError");function OT(t){return S("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:hu(t.file.type).color}},t.showLinkToFileUploadResult&&t.file.uploadURL&&S("a",{className:"uppy-Dashboard-Item-previewLink",href:t.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.file.meta.name},S("span",{hidden:!0},t.file.meta.name)),S(Tp,{file:t.file}),S(Ap,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}i(OT,"FilePreviewAndLink");function bHe(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}i(bHe,"onPauseResumeCancelRetry");function fV(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}i(fV,"progressIndicatorTitle");function ST(t){return S("div",{className:"uppy-Dashboard-Item-progress"},S("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":fV(t),title:fV(t),onClick:i(function(){return bHe(t)},"onClick")},t.children))}i(ST,"ProgressIndicatorButton");function ig(t){var e=t.children;return S("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}i(ig,"ProgressCircleContainer");function _T(t){var e=t.progress,r=2*Math.PI*15;return S("g",null,S("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),S("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e}))}i(_T,"ProgressCircle");function PT(t){if(!t.file.progress.uploadStarted)return null;if(t.isUploaded)return S("div",{className:"uppy-Dashboard-Item-progress"},S("div",{className:"uppy-Dashboard-Item-progressIndicator"},S(ig,null,S("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),S("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!t.recoveredState)return t.error&&!t.hideRetryButton?S(ST,t,S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},S("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),S("path",{d:"M7.9 3H10v2H7.9z"}),S("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),S("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?S(ST,t,S(ig,null,S(_T,{progress:t.file.progress.percentage}),t.file.isPaused?S("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):S("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},S("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),S("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?S(ST,t,S(ig,null,S(_T,{progress:t.file.progress.percentage}),S("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):S("div",{className:"uppy-Dashboard-Item-progress"},S("div",{className:"uppy-Dashboard-Item-progressIndicator"},S(ig,null,S(_T,{progress:t.file.progress.percentage}))))}i(PT,"FileProgress");var dV=Te(hV(),1);var RT="...";function og(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=RT.length+1)return"".concat(t.slice(0,e-1),"\u2026");var r=e-RT.length,n=Math.ceil(r/2),a=Math.floor(r/2);return t.slice(0,n)+RT+t.slice(-a)}i(og,"truncateString");var wHe=i(function(e){var r=e.file.meta,n=r.author,a=r.name;function o(){return e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30}return i(o,"getMaxNameLength"),S("div",{className:"uppy-Dashboard-Item-name",title:a},og(a,o()))},"renderFileName"),OHe=i(function(e){var r=e.file.meta.author,n=e.file.remote.providerName,a="\xB7";return r?S("div",{className:"uppy-Dashboard-Item-author"},S("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},og(r.name,13)),n?S(ri,null," ".concat(a," "),n," ".concat(a," ")):null):null},"renderAuthor"),SHe=i(function(e){return e.file.size&&S("div",{className:"uppy-Dashboard-Item-statusSize"},(0,dV.default)(e.file.size))},"renderFileSize"),_He=i(function(e){return e.file.isGhost&&S("span",null," \u2022 ",S("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))},"ReSelectButton"),PHe=i(function(e){var r=e.file,n=e.onClick;return r.error?S("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null},"ErrorButton");function TT(t){var e=t.file;return S("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},S("div",{className:"uppy-Dashboard-Item-fileName"},wHe(t),S(PHe,{file:t.file,onClick:i(function(){return alert(t.file.error)},"onClick")})),S("div",{className:"uppy-Dashboard-Item-status"},OHe(t),SHe(t),_He(t)),S(Ap,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}i(TT,"FileInfo");function AT(t,e){return e===void 0&&(e="Copy the URL below"),new Promise(function(r){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();var a=i(function(){document.body.removeChild(n),window.prompt(e,t),r()},"magicCopyFailed");try{var o=document.execCommand("copy");return o?(document.body.removeChild(n),r()):a("copy command unavailable")}catch(u){return document.body.removeChild(n),a(u)}})}i(AT,"copyToClipboard");function EHe(t){var e=t.file,r=t.uploadInProgressOrComplete,n=t.metaFields,a=t.canEditFile,o=t.i18n,u=t.onClick;return!r&&n&&n.length>0||!r&&a(e)?S("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":o("editFileWithFilename",{file:e.meta.name}),title:o("editFileWithFilename",{file:e.meta.name}),onClick:i(function(){return u()},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},S("g",{fillRule:"evenodd"},S("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),S("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),S("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}i(EHe,"EditButton");function RHe(t){var e=t.i18n,r=t.onClick,n=t.file;return S("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:i(function(){return r()},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},S("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),S("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}i(RHe,"RemoveButton");var THe=i(function(e,r){AT(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return e.target.focus({preventScroll:!0})})},"copyLinkToClipboard");function AHe(t){var e=t.i18n;return S("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:i(function(n){return THe(n,t)},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},S("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}i(AHe,"CopyLinkButton");function IT(t){var e=t.uppy,r=t.file,n=t.uploadInProgressOrComplete,a=t.canEditFile,o=t.metaFields,u=t.showLinkToFileUploadResult,s=t.showRemoveButton,c=t.i18n,p=t.toggleFileCard,h=t.openFileEditor,y=i(function(){o&&o.length>0?p(!0,r.id):h(r)},"editAction");return S("div",{className:"uppy-Dashboard-Item-actionWrapper"},S(EHe,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:a,metaFields:o,onClick:y}),u&&r.uploadURL?S(AHe,{file:r,uppy:e,i18n:c}):null,s?S(RHe,{i18n:c,file:r,uppy:e,onClick:i(function(){return t.uppy.removeFile(r.id,"removed-by-user")},"onClick")}):null)}i(IT,"Buttons");function kT(t){return kT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(t)}i(kT,"_typeof");function IHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(IHe,"_classCallCheck");function vV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(vV,"_defineProperties");function kHe(t,e,r){return e&&vV(t.prototype,e),r&&vV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(kHe,"_createClass");function qHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qT(t,e)}i(qHe,"_inherits");function qT(t,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),qT(t,e)}i(qT,"_setPrototypeOf");function xHe(t){var e=LHe();return i(function(){var n=ag(t),a;if(e){var o=ag(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return CHe(this,a)},"_createSuperInternal")}i(xHe,"_createSuper");function CHe(t,e){if(e&&(kT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FHe(t)}i(CHe,"_possibleConstructorReturn");function FHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(FHe,"_assertThisInitialized");function LHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(LHe,"_isNativeReflectConstruct");function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ag(t)}i(ag,"_getPrototypeOf");var gV=function(t){qHe(r,t);var e=xHe(r);function r(){return IHe(this,r),e.apply(this,arguments)}return i(r,"FileItem"),kHe(r,[{key:"componentDidMount",value:i(function(){var a=this.props.file;a.preview||this.props.handleRequestThumbnail(a)},"componentDidMount")},{key:"shouldComponentUpdate",value:i(function(a){return!(0,mV.default)(this.props,a)},"shouldComponentUpdate")},{key:"componentDidUpdate",value:i(function(){var a=this.props.file;a.preview||this.props.handleRequestThumbnail(a)},"componentDidUpdate")},{key:"componentWillUnmount",value:i(function(){var a=this.props.file;a.preview||this.props.handleCancelThumbnail(a)},"componentWillUnmount")},{key:"render",value:i(function(){var a=this.props.file,o=a.progress.preprocess||a.progress.postprocess,u=a.progress.uploadComplete&&!o&&!a.error,s=a.progress.uploadStarted||o,c=a.progress.uploadStarted&&!a.progress.uploadComplete||o,p=a.error||!1,h=a.isGhost,y=(this.props.individualCancellation||!c)&&!u;u&&this.props.showRemoveButtonAfterComplete&&(y=!0);var m=(0,yV.default)({"uppy-Dashboard-Item":!0,"is-inprogress":c&&!this.props.recoveredState,"is-processing":o,"is-complete":u,"is-error":!!p,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":h});return S("div",{className:m,id:"uppy_".concat(a.id),role:this.props.role},S("div",{className:"uppy-Dashboard-Item-preview"},S(OT,{file:a,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),S(PT,{uppy:this.props.uppy,file:a,error:p,isUploaded:u,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),S("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},S(TT,{file:a,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),S(IT,{file:a,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:y,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:s,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))},"render")}]),r}(Be);function xT(t){return xT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xT(t)}i(xT,"_typeof");var jHe=["data","rowHeight","renderRow","overscanCount"];function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(bV,"ownKeys");function ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){NHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ug,"_objectSpread");function NHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(NHe,"_defineProperty");function DHe(t,e){if(t==null)return{};var r=UHe(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}i(DHe,"_objectWithoutProperties");function UHe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}i(UHe,"_objectWithoutPropertiesLoose");function MHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(MHe,"_classCallCheck");function wV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wV,"_defineProperties");function BHe(t,e,r){return e&&wV(t.prototype,e),r&&wV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(BHe,"_createClass");function $He(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CT(t,e)}i($He,"_inherits");function CT(t,e){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),CT(t,e)}i(CT,"_setPrototypeOf");function zHe(t){var e=VHe();return i(function(){var n=sg(t),a;if(e){var o=sg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return GHe(this,a)},"_createSuperInternal")}i(zHe,"_createSuper");function GHe(t,e){if(e&&(xT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HHe(t)}i(GHe,"_possibleConstructorReturn");function HHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(HHe,"_assertThisInitialized");function VHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(VHe,"_isNativeReflectConstruct");function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),sg(t)}i(sg,"_getPrototypeOf");function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FT.apply(this,arguments)}i(FT,"_extends");var WHe={position:"relative",width:"100%",minHeight:"100%"},KHe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},YHe=function(t){$He(r,t);var e=zHe(r);function r(n){var a;return MHe(this,r),a=e.call(this,n),a.handleScroll=function(){a.setState({offset:a.base.scrollTop})},a.handleResize=function(){a.resize()},a.focusElement=null,a.state={offset:0,height:0},a}return i(r,"VirtualList"),BHe(r,[{key:"componentDidMount",value:i(function(){this.resize(),window.addEventListener("resize",this.handleResize)},"componentDidMount")},{key:"componentWillUpdate",value:i(function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},"componentWillUpdate")},{key:"componentDidUpdate",value:i(function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},"componentDidUpdate")},{key:"componentWillUnmount",value:i(function(){window.removeEventListener("resize",this.handleResize)},"componentWillUnmount")},{key:"resize",value:i(function(){var a=this.state.height;a!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},"resize")},{key:"render",value:i(function(a){var o=a.data,u=a.rowHeight,s=a.renderRow,c=a.overscanCount,p=c===void 0?10:c,h=DHe(a,jHe),y=this.state,m=y.offset,w=y.height,_=Math.floor(m/u),R=Math.floor(w/u);p&&(_=Math.max(0,_-_%p),R+=p);var T=_+R+4,E=o.slice(_,T),A=ug(ug({},WHe),{},{height:o.length*u}),C=ug(ug({},KHe),{},{top:_*u});return S("div",FT({onScroll:this.handleScroll},h),S("div",{role:"presentation",style:A},S("div",{role:"presentation",style:C},E.map(s))))},"render")}]),r}(Be),OV=YHe;function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LT.apply(this,arguments)}i(LT,"_extends");function XHe(t,e){var r=[],n=[];return t.forEach(function(a){n.length<e?n.push(a):(r.push(n),n=[a])}),n.length&&r.push(n),r}i(XHe,"chunks");var _V=i(function(t){var e=t.totalFileCount===0,r=(0,SV.default)("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),n=t.itemsPerRow===1?71:200,a={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},o=i(function(h,y){return t.files[y].isGhost-t.files[h].isGhost},"sortByGhostComesFirst"),u=Object.keys(t.files);t.recoveredState&&u.sort(o);var s=XHe(u,t.itemsPerRow),c=i(function(h){return S("div",{role:"presentation",key:h[0]},h.map(function(y){return S(gV,LT({key:y,uppy:t.uppy},a,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[y]}))}))},"renderRow");return S(OV,{class:r,role:"list",data:s,renderRow:c,rowHeight:n})},"default");function jT(t){return jT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(t)}i(jT,"_typeof");function JHe(t){return tVe(t)||eVe(t)||ZHe(t)||QHe()}i(JHe,"_toConsumableArray");function QHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(QHe,"_nonIterableSpread");function ZHe(t,e){if(!!t){if(typeof t=="string")return NT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(t,e)}}i(ZHe,"_unsupportedIterableToArray");function eVe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(eVe,"_iterableToArray");function tVe(t){if(Array.isArray(t))return NT(t)}i(tVe,"_arrayWithoutHoles");function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(NT,"_arrayLikeToArray");function rVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(rVe,"_classCallCheck");function PV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(PV,"_defineProperties");function nVe(t,e,r){return e&&PV(t.prototype,e),r&&PV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(nVe,"_createClass");function iVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DT(t,e)}i(iVe,"_inherits");function DT(t,e){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),DT(t,e)}i(DT,"_setPrototypeOf");function oVe(t){var e=sVe();return i(function(){var n=lg(t),a;if(e){var o=lg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return aVe(this,a)},"_createSuperInternal")}i(oVe,"_createSuper");function aVe(t,e){if(e&&(jT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uVe(t)}i(aVe,"_possibleConstructorReturn");function uVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(uVe,"_assertThisInitialized");function sVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(sVe,"_isNativeReflectConstruct");function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),lg(t)}i(lg,"_getPrototypeOf");var EV;EV=Symbol.for("uppy test: disable unused locale key warning");var lVe=function(t,e){iVe(n,t);var r=oVe(n);function n(){var a;return rVe(this,n),a=r.apply(this,arguments),a.triggerFileInputClick=function(){a.fileInput.click()},a.triggerFolderInputClick=function(){a.folderInput.click()},a.triggerVideoCameraInputClick=function(){a.mobileVideoFileInput.click()},a.triggerPhotoCameraInputClick=function(){a.mobilePhotoFileInput.click()},a.onFileInputChange=function(o){a.props.handleInputChange(o),o.target.value=null},a.renderHiddenInput=function(o,u){return S("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:o,type:"file",name:"files[]",multiple:a.props.maxNumberOfFiles!==1,onChange:a.onFileInputChange,accept:a.props.allowedFileTypes,ref:u})},a.renderHiddenCameraInput=function(o,u,s){var c={photo:"image/*",video:"video/*"},p=c[o];return S("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(o),onChange:a.onFileInputChange,capture:u,accept:p,ref:s})},a.renderMyDeviceAcquirer=function(){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerFileInputClick},S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),S("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),S("div",{className:"uppy-DashboardTab-name"},a.props.i18n("myDevice"))))},a.renderPhotoCamera=function(){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerPhotoCameraInputClick},S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),S("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),S("div",{className:"uppy-DashboardTab-name"},a.props.i18n("takePictureBtn"))))},a.renderVideoCamera=function(){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerVideoCameraInputClick},S("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},S("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),S("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),S("div",{className:"uppy-DashboardTab-name"},a.props.i18n("recordVideoBtn"))))},a.renderBrowseButton=function(o,u){var s=a.props.acquirers.length;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:u,"data-uppy-super-focusable":s===0},o)},a.renderDropPasteBrowseTagline=function(){var o=a.props.acquirers.length,u=a.renderBrowseButton(a.props.i18n("browseFiles"),a.triggerFileInputClick),s=a.renderBrowseButton(a.props.i18n("browseFolders"),a.triggerFolderInputClick),c=a.props.fileManagerSelectionType,p=c.charAt(0).toUpperCase()+c.slice(1);return S("div",{class:"uppy-Dashboard-AddFiles-title"},a.props.disableLocalFiles?a.props.i18n("importFiles"):o>0?a.props.i18nArray("dropPasteImport".concat(p),{browseFiles:u,browseFolders:s,browse:u}):a.props.i18nArray("dropPaste".concat(p),{browseFiles:u,browseFolders:s,browse:u}))},a.renderAcquirer=function(o){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":o.id},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":o.id,"aria-controls":"uppy-DashboardContent-panel--".concat(o.id),"aria-selected":a.props.activePickerPanel.id===o.id,"data-uppy-super-focusable":!0,onClick:i(function(){return a.props.showPanel(o.id)},"onClick")},o.icon(),S("div",{className:"uppy-DashboardTab-name"},o.name)))},a.renderAcquirers=function(o){var u=JHe(o),s=u.splice(o.length-2,o.length);return S(ri,null,u.map(function(c){return a.renderAcquirer(c)}),S("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(c){return a.renderAcquirer(c)})))},a.renderSourcesList=function(o,u){var s=a.props,c=s.showNativePhotoCameraButton,p=s.showNativeVideoCameraButton;return S("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!u&&a.renderMyDeviceAcquirer(),!u&&c&&a.renderPhotoCamera(),!u&&p&&a.renderVideoCamera(),o.length>0&&a.renderAcquirers(o))},a}return i(n,"AddFiles"),nVe(n,[{key:e,value:i(function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")},"value")},{key:"renderPoweredByUppy",value:i(function(){var o=this.props.i18nArray,u=S("span",null,S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},S("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),S("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),s=o("poweredBy",{uppy:u});return S("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},s)},"renderPoweredByUppy")},{key:"render",value:i(function(){var o=this,u=this.props,s=u.showNativePhotoCameraButton,c=u.showNativeVideoCameraButton,p=u.nativeCameraFacingMode;return S("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(h){o.fileInput=h}),this.renderHiddenInput(!0,function(h){o.folderInput=h}),s&&this.renderHiddenCameraInput("photo",p,function(h){o.mobilePhotoFileInput=h}),c&&this.renderHiddenCameraInput("video",p,function(h){o.mobileVideoFileInput=h}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),S("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&S("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},"render")}]),n}(Be,EV),cg=lVe;var RV=Te(Mr(),1);var cVe=i(function(e){return S("div",{className:(0,RV.default)("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i(function(){return e.toggleAddFilesPanel(!1)},"onClick")},e.i18n("back"))),S(cg,e))},"AddFilesPanel"),TV=cVe;var AV=Te(Mr(),1);function fVe(t){var e=t.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}i(fVe,"ignoreEvent");var ci=fVe;function pVe(t){var e=t.activePickerPanel,r=t.className,n=t.hideAllPanels,a=t.i18n,o=t.state,u=t.uppy;return S("div",{className:(0,AV.default)("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(e.id),onDragOver:ci,onDragLeave:ci,onDrop:ci,onPaste:ci},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},a("importFrom",{name:e.name})),S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},a("cancel"))),S("div",{className:"uppy-DashboardContent-panelBody"},u.getPlugin(e.id).render(o)))}i(pVe,"PickerPanelContent");var IV=pVe;var kV=Te(Mr(),1);function hVe(t){var e=t.files[t.fileCardFor];return S("div",{className:(0,kV.default)("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:S("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),S("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),S("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(r){return t.uppy.getPlugin(r.id).render(t.state)})))}i(hVe,"EditorPanel");var qV=hVe;var fi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function dVe(t,e,r,n){if(n===void 0&&(n={}),t)return fi.STATE_ERROR;if(e)return fi.STATE_COMPLETE;if(r)return fi.STATE_PAUSED;for(var a=fi.STATE_WAITING,o=Object.keys(n),u=0;u<o.length;u++){var s=n[o[u]].progress;if(s.uploadStarted&&!s.uploadComplete)return fi.STATE_UPLOADING;s.preprocess&&a!==fi.STATE_UPLOADING&&(a=fi.STATE_PREPROCESSING),s.postprocess&&a!==fi.STATE_UPLOADING&&a!==fi.STATE_PREPROCESSING&&(a=fi.STATE_POSTPROCESSING)}return a}i(dVe,"getUploadingState");function vVe(t){var e=t.files,r=t.i18n,n=t.isAllComplete,a=t.isAllErrored,o=t.isAllPaused,u=t.inProgressNotPausedFiles,s=t.newFiles,c=t.processingFiles,p=dVe(a,n,o,e);switch(p){case"uploading":return r("uploadingXFiles",{smart_count:u.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:c.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:s.length});case"complete":return r("uploadComplete");default:}}i(vVe,"UploadStatus");function yVe(t){var e=t.i18n,r=t.isAllComplete,n=t.hideCancelButton,a=t.maxNumberOfFiles,o=t.toggleAddFilesPanel,u=t.uppy,s=t.allowNewUpload;return s&&a&&(s=t.totalFileCount<t.maxNumberOfFiles),S("div",{className:"uppy-DashboardContent-bar"},!r&&!n?S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i(function(){return u.cancelAll()},"onClick")},e("cancel")):S("div",null),S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},S(vVe,t)),s?S("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:i(function(){return o(!0)},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},S("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),S("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):S("div",null))}i(yVe,"PanelTopBar");var xV=yVe;var NV=Te(Mr(),1);function UT(t){return UT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UT(t)}i(UT,"_typeof");function CV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(CV,"ownKeys");function FV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(r),!0).forEach(function(n){jV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(FV,"_objectSpread");function jV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(jV,"_defineProperty");function mVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(mVe,"_classCallCheck");function LV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(LV,"_defineProperties");function gVe(t,e,r){return e&&LV(t.prototype,e),r&&LV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(gVe,"_createClass");function bVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MT(t,e)}i(bVe,"_inherits");function MT(t,e){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),MT(t,e)}i(MT,"_setPrototypeOf");function wVe(t){var e=_Ve();return i(function(){var n=fg(t),a;if(e){var o=fg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return OVe(this,a)},"_createSuperInternal")}i(wVe,"_createSuper");function OVe(t,e){if(e&&(UT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SVe(t)}i(OVe,"_possibleConstructorReturn");function SVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(SVe,"_assertThisInitialized");function _Ve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(_Ve,"_isNativeReflectConstruct");function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),fg(t)}i(fg,"_getPrototypeOf");var PVe=function(t){bVe(r,t);var e=wVe(r);function r(n){var a;mVe(this,r),a=e.call(this,n),a.form=document.createElement("form"),a.updateMeta=function(c,p){a.setState(function(h){var y=h.formState;return{formState:FV(FV({},y),{},jV({},p,c))}})},a.handleSave=function(c){c.preventDefault();var p=a.props.fileCardFor;a.props.saveFileCard(a.state.formState,p)},a.handleCancel=function(){var c=a.props.files[a.props.fileCardFor];a.props.uppy.emit("file-editor:cancel",c),a.props.toggleFileCard(!1)},a.saveOnEnter=function(c){if(c.keyCode===13){c.stopPropagation(),c.preventDefault();var p=a.props.files[a.props.fileCardFor];a.props.saveFileCard(a.state.formState,p.id)}},a.renderMetaFields=function(){var c=a.getMetaFields()||[],p={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return c.map(function(h){var y="uppy-Dashboard-FileCard-input-".concat(h.id),m=a.props.requiredMetaFields.includes(h.id);return S("fieldset",{key:h.id,className:"uppy-Dashboard-FileCard-fieldset"},S("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:y},h.name),h.render!==void 0?h.render({value:a.state.formState[h.id],onChange:i(function(_){return a.updateMeta(_,h.id)},"onChange"),fieldCSSClasses:p,required:m,form:a.form.id},S):S("input",{className:p.text,id:y,form:a.form.id,type:h.type||"text",required:m,value:a.state.formState[h.id],placeholder:h.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onInput:i(function(_){return a.updateMeta(_.target.value,h.id)},"onInput"),"data-uppy-super-focusable":!0}))})};var o=a.props.files[a.props.fileCardFor],u=a.getMetaFields()||[],s={};return u.forEach(function(c){s[c.id]=o.meta[c.id]||""}),a.state={formState:s},a.form.id=sn(),a}return i(r,"FileCard"),gVe(r,[{key:"componentWillMount",value:i(function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)},"componentWillMount")},{key:"componentWillUnmount",value:i(function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)},"componentWillUnmount")},{key:"getMetaFields",value:i(function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields},"getMetaFields")},{key:"render",value:i(function(){var a=this,o=this.props.files[this.props.fileCardFor],u=this.props.canEditFile(o);return S("div",{className:(0,NV.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:ci,onDragLeave:ci,onDrop:ci,onPaste:ci},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:S("span",{className:"uppy-DashboardContent-titleFile"},o.meta?o.meta.name:o.name)})),S("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),S("div",{className:"uppy-Dashboard-FileCard-inner"},S("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:hu(o.type).color}},S(Tp,{file:o}),u&&S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:i(function(c){a.handleSave(c),a.props.openFileEditor(o)},"onClick"),form:this.form.id},this.props.i18n("editFile"))),S("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),S("div",{className:"uppy-Dashboard-FileCard-actions"},S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))},"render")}]),r}(Be),DV=PVe;var BV=Te(Mr(),1);function BT(t){return BT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BT(t)}i(BT,"_typeof");function EVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(EVe,"_classCallCheck");function UV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(UV,"_defineProperties");function RVe(t,e,r){return e&&UV(t.prototype,e),r&&UV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(RVe,"_createClass");function TVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$T(t,e)}i(TVe,"_inherits");function $T(t,e){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),$T(t,e)}i($T,"_setPrototypeOf");function AVe(t){var e=qVe();return i(function(){var n=pg(t),a;if(e){var o=pg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return IVe(this,a)},"_createSuperInternal")}i(AVe,"_createSuper");function IVe(t,e){if(e&&(BT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kVe(t)}i(IVe,"_possibleConstructorReturn");function kVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(kVe,"_assertThisInitialized");function qVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(qVe,"_isNativeReflectConstruct");function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),pg(t)}i(pg,"_getPrototypeOf");var hl="uppy-transition-slideDownUp",MV=250,xVe=function(t){TVe(r,t);var e=AVe(r);function r(n){var a;return EVe(this,r),a=e.call(this,n),a.state={cachedChildren:null,className:""},a}return i(r,"Slide"),RVe(r,[{key:"componentWillUpdate",value:i(function(a){var o=this,u=this.state.cachedChildren,s=cn(a.children)[0];if(u===s)return null;var c={cachedChildren:s};s&&!u&&(c.className="".concat(hl,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){o.setState({className:"".concat(hl,"-enter ").concat(hl,"-enter-active")}),o.enterTimeout=setTimeout(function(){o.setState({className:""})},MV)})),u&&!s&&this.leaveTimeout===void 0&&(c.cachedChildren=u,c.className="".concat(hl,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){o.setState({className:"".concat(hl,"-leave ").concat(hl,"-leave-active")}),o.leaveTimeout=setTimeout(function(){o.setState({cachedChildren:null,className:""})},MV)})),this.setState(c)},"componentWillUpdate")},{key:"render",value:i(function(){var a=this.state,o=a.cachedChildren,u=a.className;return o?cm(o,{className:(0,BV.default)(u,o.props.className)}):null},"render")}]),r}(Be),Ip=xVe;function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ra.apply(this,arguments)}i(ra,"_extends");var $V=900,zV=700,zT=576,CVe=400;function GT(t){var e=t.totalFileCount===0,r=t.containerWidth>zT,n=(0,GV.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>zT,"uppy-size--lg":t.containerWidth>zV,"uppy-size--xl":t.containerWidth>$V,"uppy-size--height-md":t.containerHeight>CVe,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible}),a=1;t.containerWidth>$V?a=5:t.containerWidth>zV?a=4:t.containerWidth>zT&&(a=3);var o=t.showSelectedFiles&&!e,u=t.recoveredState?Object.keys(t.recoveredState.files).length:null,s=t.files?Object.keys(t.files).filter(function(h){return t.files[h].isGhost}).length:null,c=i(function(){return s>0?t.i18n("recoveredXFiles",{smart_count:s}):t.i18n("recoveredAllFiles")},"renderRestoredText"),p=S("div",{className:n,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&Rp(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},S("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),S("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:S("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},S("span",{"aria-hidden":"true"},"\xD7")),S("div",{className:"uppy-Dashboard-innerWrap"},S("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),o&&S(xV,t),u&&S("div",{className:"uppy-Dashboard-serviceMsg"},S("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},S("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},S("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),S("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),S("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),S("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),S("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),o?S(_V,ra({},t,{itemsPerRow:a})):S(cg,ra({},t,{isSizeMD:r})),S(Ip,null,t.showAddFilesPanel?S(TV,ra({key:"AddFiles"},t,{isSizeMD:r})):null),S(Ip,null,t.fileCardFor?S(DV,ra({key:"FileCard"},t)):null),S(Ip,null,t.activePickerPanel?S(IV,ra({key:"Picker"},t)):null),S(Ip,null,t.showFileEditor?S(qV,ra({key:"Editor"},t)):null),S("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(h){return t.uppy.getPlugin(h.id).render(t.state)})))));return p}i(GT,"Dashboard");var HV={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}i(hg,"_typeof");function YT(){"use strict";YT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&hg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(YT,"_regeneratorRuntime");function VV(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(VV,"asyncGeneratorStep");function FVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){VV(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){VV(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(FVe,"_asyncToGenerator");function WV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(WV,"ownKeys");function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(r),!0).forEach(function(n){JV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(na,"_objectSpread");function JV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(JV,"_defineProperty");function KV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(KV,"_defineProperties");function LVe(t,e,r){return e&&KV(t.prototype,e),r&&KV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(LVe,"_createClass");function jVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(jVe,"_classCallCheck");function NVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}i(NVe,"_inherits");function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),XT(t,e)}i(XT,"_setPrototypeOf");function DVe(t){var e=MVe();return i(function(){var n=dg(t),a;if(e){var o=dg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return UVe(this,a)},"_createSuperInternal")}i(DVe,"_createSuper");function UVe(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(t)}i(UVe,"_possibleConstructorReturn");function at(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(at,"_assertThisInitialized");function MVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(MVe,"_isNativeReflectConstruct");function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),dg(t)}i(dg,"_getPrototypeOf");function pn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pn,"_classPrivateFieldLooseBase");var BVe=0;function dl(t){return"__private_"+BVe+++"_"+t}i(dl,"_classPrivateFieldLooseKey");var $Ve={version:"3.1.0"},HT=yT.default||yT,YV=9,zVe=27;function XV(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}i(XV,"createPromise");function GVe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},S("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}i(GVe,"defaultPickerIcon");var kp=dl("openFileEditorWhenFilesAdded"),du=dl("attachRenderFunctionToTarget"),VT=dl("isTargetSupported"),WT=dl("getAcquirers"),KT=dl("getProgressIndicators"),Xi=dl("getEditors"),vl=function(t){NVe(r,t);var e=DVe(r);function r(n,a){var o;jVe(this,r);var u;o=e.call(this,n,a),u=at(o),o.removeTarget=function(c){var p=o.getPluginState(),h=p.targets.filter(function(y){return y.id!==c.id});o.setPluginState({targets:h})},o.addTarget=function(c){var p=c.id||c.constructor.name,h=c.title||p,y=c.type;if(y!=="acquirer"&&y!=="progressindicator"&&y!=="editor"){var m="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";o.uppy.log(m,"error");return}var w={id:p,name:h,type:y},_=o.getPluginState(),R=_.targets.slice();return R.push(w),o.setPluginState({targets:R}),o.el},o.hideAllPanels=function(){var c=o.getPluginState(),p={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};c.activePickerPanel===p.activePickerPanel&&c.showAddFilesPanel===p.showAddFilesPanel&&c.showFileEditor===p.showFileEditor&&c.activeOverlayType===p.activeOverlayType||o.setPluginState(p)},o.showPanel=function(c){var p=o.getPluginState(),h=p.targets,y=h.filter(function(m){return m.type==="acquirer"&&m.id===c})[0];o.setPluginState({activePickerPanel:y,activeOverlayType:"PickerPanel"}),o.uppy.emit("dashboard:show-panel",c)},o.canEditFile=function(c){var p=o.getPluginState(),h=p.targets,y=pn(at(o),Xi)[Xi](h);return y.some(function(m){return o.uppy.getPlugin(m.id).canEditFile(c)})},o.openFileEditor=function(c){var p=o.getPluginState(),h=p.targets,y=pn(at(o),Xi)[Xi](h);o.setPluginState({showFileEditor:!0,fileCardFor:c.id||null,activeOverlayType:"FileEditor"}),y.forEach(function(m){o.uppy.getPlugin(m.id).selectFile(c)})},o.saveFileEditor=function(){var c=o.getPluginState(),p=c.targets,h=pn(at(o),Xi)[Xi](p);h.forEach(function(y){o.uppy.getPlugin(y.id).save()}),o.hideAllPanels()},o.openModal=function(){var c=XV(),p=c.promise,h=c.resolve;if(o.savedScrollPosition=window.pageYOffset,o.savedActiveElement=document.activeElement,o.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),o.opts.animateOpenClose&&o.getPluginState().isClosing){var y=i(function m(){o.setPluginState({isHidden:!1}),o.el.removeEventListener("animationend",m,!1),h()},"handler");o.el.addEventListener("animationend",y,!1)}else o.setPluginState({isHidden:!1}),h();return o.opts.browserBackButtonClose&&o.updateBrowserHistory(),document.addEventListener("keydown",o.handleKeyDownInModal),o.uppy.emit("dashboard:modal-open"),p},o.closeModal=function(c){c===void 0&&(c={});var p=c,h=p.manualClose,y=h===void 0?!0:h,m=u.getPluginState(),w=m.isHidden,_=m.isClosing;if(!(w||_)){var R=XV(),T=R.promise,E=R.resolve;if(u.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),u.opts.animateOpenClose){u.setPluginState({isClosing:!0});var A=i(function U(){u.setPluginState({isHidden:!0,isClosing:!1}),u.superFocus.cancel(),u.savedActiveElement.focus(),u.el.removeEventListener("animationend",U,!1),E()},"handler");u.el.addEventListener("animationend",A,!1)}else u.setPluginState({isHidden:!0}),u.superFocus.cancel(),u.savedActiveElement.focus(),E();if(document.removeEventListener("keydown",u.handleKeyDownInModal),y&&u.opts.browserBackButtonClose){var C;(C=history.state)!=null&&C[u.modalName]&&history.back()}return u.uppy.emit("dashboard:modal-closed"),T}},o.isModalOpen=function(){return!o.getPluginState().isHidden||!1},o.requestCloseModal=function(){return o.opts.onRequestCloseModal?o.opts.onRequestCloseModal():o.closeModal()},o.setDarkModeCapability=function(c){var p=o.uppy.getState(),h=p.capabilities;o.uppy.setState({capabilities:na(na({},h),{},{darkMode:c})})},o.handleSystemDarkModeChange=function(c){var p=c.matches;o.uppy.log("[Dashboard] Dark mode is ".concat(p?"on":"off")),o.setDarkModeCapability(p)},o.toggleFileCard=function(c,p){var h=o.uppy.getFile(p);c?o.uppy.emit("dashboard:file-edit-start",h):o.uppy.emit("dashboard:file-edit-complete",h),o.setPluginState({fileCardFor:c?p:null,activeOverlayType:c?"FileCard":null})},o.toggleAddFilesPanel=function(c){o.setPluginState({showAddFilesPanel:c,activeOverlayType:c?"AddFiles":null})},o.addFiles=function(c){var p=c.map(function(h){return{source:o.id,name:h.name,type:h.type,data:h,meta:{relativePath:h.relativePath||h.webkitRelativePath||null}}});try{o.uppy.addFiles(p)}catch(h){o.uppy.log(h)}},o.startListeningToResize=function(){o.resizeObserver=new ResizeObserver(function(c){var p=c[0],h=p.contentRect,y=h.width,m=h.height;o.uppy.log("[Dashboard] resized: ".concat(y," / ").concat(m),"debug"),o.setPluginState({containerWidth:y,containerHeight:m,areInsidesReadyToBeVisible:!0})}),o.resizeObserver.observe(o.el.querySelector(".uppy-Dashboard-inner")),o.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var c=o.getPluginState(),p=!o.opts.inline&&c.isHidden;!c.areInsidesReadyToBeVisible&&!p&&(o.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),o.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},o.stopListeningToResize=function(){o.resizeObserver.disconnect(),clearTimeout(o.makeDashboardInsidesVisibleAnywayTimeout)},o.recordIfFocusedOnUppyRecently=function(c){o.el.contains(c.target)?o.ifFocusedOnUppyRecently=!0:(o.ifFocusedOnUppyRecently=!1,o.superFocus.cancel())},o.disableAllFocusableElements=function(c){var p=Et(o.el.querySelectorAll(pl));c?p.forEach(function(h){var y=h.getAttribute("tabindex");y&&(h.dataset.inertTabindex=y),h.setAttribute("tabindex","-1")}):p.forEach(function(h){"inertTabindex"in h.dataset?h.setAttribute("tabindex",h.dataset.inertTabindex):h.removeAttribute("tabindex")}),o.dashboardIsDisabled=c},o.updateBrowserHistory=function(){var c;(c=history.state)!=null&&c[o.modalName]||history.pushState(na(na({},history.state),{},JV({},o.modalName,!0)),""),window.addEventListener("popstate",o.handlePopState,!1)},o.handlePopState=function(c){var p;o.isModalOpen()&&(!c.state||!c.state[o.modalName])&&o.closeModal({manualClose:!1}),!o.isModalOpen()&&(p=c.state)!=null&&p[o.modalName]&&history.back()},o.handleKeyDownInModal=function(c){c.keyCode===zVe&&o.requestCloseModal(c),c.keyCode===YV&&mT(c,o.getPluginState().activeOverlayType,o.el)},o.handleClickOutside=function(){o.opts.closeModalOnClickOutside&&o.requestCloseModal()},o.handlePaste=function(c){o.uppy.iteratePlugins(function(h){h.type==="acquirer"&&(h.handleRootPaste==null||h.handleRootPaste(c))});var p=Et(c.clipboardData.files);p.length>0&&(o.uppy.log("[Dashboard] Files pasted"),o.addFiles(p))},o.handleInputChange=function(c){c.preventDefault();var p=Et(c.target.files);p.length>0&&(o.uppy.log("[Dashboard] Files selected through input"),o.addFiles(p))},o.handleDragOver=function(c){var p,h;c.preventDefault(),c.stopPropagation();var y=i(function(){var T=!0;return o.uppy.iteratePlugins(function(E){E.canHandleRootDrop!=null&&E.canHandleRootDrop(c)&&(T=!0)}),T},"canSomePluginHandleRootDrop"),m=i(function(){var T=c.dataTransfer.types;return T.some(function(E){return E==="Files"})},"doesEventHaveFiles"),w=y(c),_=m(c);if(!w&&!_||o.opts.disabled||o.opts.disableLocalFiles&&(_||!w)||!o.uppy.getState().allowNewUpload){c.dataTransfer.dropEffect="none",clearTimeout(o.removeDragOverClassTimeout);return}c.dataTransfer.dropEffect="copy",clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!0}),(p=(h=o.opts).onDragOver)==null||p.call(h,c)},o.handleDragLeave=function(c){var p,h;c.preventDefault(),c.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.removeDragOverClassTimeout=setTimeout(function(){o.setPluginState({isDraggingOver:!1})},50),(p=(h=o.opts).onDragLeave)==null||p.call(h,c)},o.handleDrop=function(){var c=FVe(YT().mark(i(function p(h){var y,m,w,_,R;return YT().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return h.preventDefault(),h.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!1}),o.uppy.iteratePlugins(function(A){A.type==="acquirer"&&(A.handleRootDrop==null||A.handleRootDrop(h))}),w=!1,_=i(function(C){o.uppy.log(C,"error"),w||(o.uppy.info(C.message,"error"),w=!0)},"logDropError"),E.next=9,fu(h.dataTransfer,{logDropError:_});case 9:R=E.sent,R.length>0&&(o.uppy.log("[Dashboard] Files dropped"),o.addFiles(R)),(y=(m=o.opts).onDrop)==null||y.call(m,h);case 12:case"end":return E.stop()}},"_callee$"),p)},"_callee")));return function(p){return c.apply(this,arguments)}}(),o.handleRequestThumbnail=function(c){o.opts.waitForThumbnailsBeforeUpload||o.uppy.emit("thumbnail:request",c)},o.handleCancelThumbnail=function(c){o.opts.waitForThumbnailsBeforeUpload||o.uppy.emit("thumbnail:cancel",c)},o.handleKeyDownInInline=function(c){c.keyCode===YV&&nV(c,o.getPluginState().activeOverlayType,o.el)},o.handlePasteOnBody=function(c){var p=o.el.contains(document.activeElement);p&&o.handlePaste(c)},o.handleComplete=function(c){var p=c.failed;o.opts.closeAfterFinish&&p.length===0&&o.requestCloseModal()},o.handleCancelRestore=function(){o.uppy.emit("restore-canceled")},Object.defineProperty(at(o),kp,{writable:!0,value:i(function(p){var h=p[0];o.canEditFile(h)&&o.openFileEditor(h)},"value")}),o.initEvents=function(){if(o.opts.trigger&&!o.opts.inline){var c=Zm(o.opts.trigger);c?c.forEach(function(p){return p.addEventListener("click",o.openModal)}):o.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}o.startListeningToResize(),document.addEventListener("paste",o.handlePasteOnBody),o.uppy.on("plugin-remove",o.removeTarget),o.uppy.on("file-added",o.hideAllPanels),o.uppy.on("dashboard:modal-closed",o.hideAllPanels),o.uppy.on("file-editor:complete",o.hideAllPanels),o.uppy.on("complete",o.handleComplete),document.addEventListener("focus",o.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",o.recordIfFocusedOnUppyRecently,!0),o.opts.inline&&o.el.addEventListener("keydown",o.handleKeyDownInInline),o.opts.autoOpenFileEditor&&o.uppy.on("files-added",pn(at(o),kp)[kp])},o.removeEvents=function(){var c=Zm(o.opts.trigger);!o.opts.inline&&c&&c.forEach(function(p){return p.removeEventListener("click",o.openModal)}),o.stopListeningToResize(),document.removeEventListener("paste",o.handlePasteOnBody),window.removeEventListener("popstate",o.handlePopState,!1),o.uppy.off("plugin-remove",o.removeTarget),o.uppy.off("file-added",o.hideAllPanels),o.uppy.off("dashboard:modal-closed",o.hideAllPanels),o.uppy.off("file-editor:complete",o.hideAllPanels),o.uppy.off("complete",o.handleComplete),document.removeEventListener("focus",o.recordIfFocusedOnUppyRecently),document.removeEventListener("click",o.recordIfFocusedOnUppyRecently),o.opts.inline&&o.el.removeEventListener("keydown",o.handleKeyDownInInline),o.opts.autoOpenFileEditor&&o.uppy.off("files-added",pn(at(o),kp)[kp])},o.superFocusOnEachUpdate=function(){var c=o.el.contains(document.activeElement),p=document.activeElement===document.body||document.activeElement===null,h=o.uppy.getState().info.length===0,y=!o.opts.inline;h&&(y||c||p&&o.ifFocusedOnUppyRecently)?o.superFocus(o.el,o.getPluginState().activeOverlayType):o.superFocus.cancel()},o.afterUpdate=function(){if(o.opts.disabled&&!o.dashboardIsDisabled){o.disableAllFocusableElements(!0);return}!o.opts.disabled&&o.dashboardIsDisabled&&o.disableAllFocusableElements(!1),o.superFocusOnEachUpdate()},o.saveFileCard=function(c,p){o.uppy.setFileMeta(p,c),o.toggleFileCard(!1,p)},Object.defineProperty(at(o),du,{writable:!0,value:i(function(p){var h=o.uppy.getPlugin(p.id);return na(na({},p),{},{icon:h.icon||o.opts.defaultPickerIcon,render:h.render})},"value")}),Object.defineProperty(at(o),VT,{writable:!0,value:i(function(p){var h=o.uppy.getPlugin(p.id);return typeof h.isSupported!="function"?!0:h.isSupported()},"value")}),Object.defineProperty(at(o),WT,{writable:!0,value:HT(function(c){return c.filter(function(p){return p.type==="acquirer"&&pn(at(o),VT)[VT](p)}).map(pn(at(o),du)[du])})}),Object.defineProperty(at(o),KT,{writable:!0,value:HT(function(c){return c.filter(function(p){return p.type==="progressindicator"}).map(pn(at(o),du)[du])})}),Object.defineProperty(at(o),Xi,{writable:!0,value:HT(function(c){return c.filter(function(p){return p.type==="editor"}).map(pn(at(o),du)[du])})}),o.render=function(c){var p=o.getPluginState(),h=c.files,y=c.capabilities,m=c.allowNewUpload,w=o.uppy.getObjectOfFilesPerState(),_=w.newFiles,R=w.uploadStartedFiles,T=w.completeFiles,E=w.erroredFiles,A=w.inProgressFiles,C=w.inProgressNotPausedFiles,U=w.processingFiles,G=w.isUploadStarted,M=w.isAllComplete,z=w.isAllErrored,W=w.isAllPaused,Y=pn(at(o),WT)[WT](p.targets),f=pn(at(o),KT)[KT](p.targets),l=pn(at(o),Xi)[Xi](p.targets),d;return o.opts.theme==="auto"?d=y.darkMode?"dark":"light":d=o.opts.theme,["files","folders","both"].indexOf(o.opts.fileManagerSelectionType)<0&&(o.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(o.opts.fileManagerSelectionType,'".'))),GT({state:c,isHidden:p.isHidden,files:h,newFiles:_,uploadStartedFiles:R,completeFiles:T,erroredFiles:E,inProgressFiles:A,inProgressNotPausedFiles:C,processingFiles:U,isUploadStarted:G,isAllComplete:M,isAllErrored:z,isAllPaused:W,totalFileCount:Object.keys(h).length,totalProgress:c.totalProgress,allowNewUpload:m,acquirers:Y,theme:d,disabled:o.opts.disabled,disableLocalFiles:o.opts.disableLocalFiles,direction:o.opts.direction,activePickerPanel:p.activePickerPanel,showFileEditor:p.showFileEditor,saveFileEditor:o.saveFileEditor,disableAllFocusableElements:o.disableAllFocusableElements,animateOpenClose:o.opts.animateOpenClose,isClosing:p.isClosing,progressindicators:f,editors:l,autoProceed:o.uppy.opts.autoProceed,id:o.id,closeModal:o.requestCloseModal,handleClickOutside:o.handleClickOutside,handleInputChange:o.handleInputChange,handlePaste:o.handlePaste,inline:o.opts.inline,showPanel:o.showPanel,hideAllPanels:o.hideAllPanels,i18n:o.i18n,i18nArray:o.i18nArray,uppy:o.uppy,note:o.opts.note,recoveredState:c.recoveredState,metaFields:p.metaFields,resumableUploads:y.resumableUploads||!1,individualCancellation:y.individualCancellation,isMobileDevice:y.isMobileDevice,fileCardFor:p.fileCardFor,toggleFileCard:o.toggleFileCard,toggleAddFilesPanel:o.toggleAddFilesPanel,showAddFilesPanel:p.showAddFilesPanel,saveFileCard:o.saveFileCard,openFileEditor:o.openFileEditor,canEditFile:o.canEditFile,width:o.opts.width,height:o.opts.height,showLinkToFileUploadResult:o.opts.showLinkToFileUploadResult,fileManagerSelectionType:o.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:o.opts.proudlyDisplayPoweredByUppy,hideCancelButton:o.opts.hideCancelButton,hideRetryButton:o.opts.hideRetryButton,hidePauseResumeButton:o.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:o.opts.showRemoveButtonAfterComplete,containerWidth:p.containerWidth,containerHeight:p.containerHeight,areInsidesReadyToBeVisible:p.areInsidesReadyToBeVisible,isTargetDOMEl:o.isTargetDOMEl,parentElement:o.el,allowedFileTypes:o.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:o.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:o.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:o.opts.showSelectedFiles,showNativePhotoCameraButton:o.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:o.opts.showNativeVideoCameraButton,nativeCameraFacingMode:o.opts.nativeCameraFacingMode,handleCancelRestore:o.handleCancelRestore,handleRequestThumbnail:o.handleRequestThumbnail,handleCancelThumbnail:o.handleCancelThumbnail,isDraggingOver:p.isDraggingOver,handleDragOver:o.handleDragOver,handleDragLeave:o.handleDragLeave,handleDrop:o.handleDrop})},o.discoverProviderPlugins=function(){o.uppy.iteratePlugins(function(c){c&&!c.target&&c.opts&&c.opts.target===o.constructor&&o.addTarget(c)})},o.install=function(){o.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:o.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var c=o.opts,p=c.inline,h=c.closeAfterFinish;if(p&&h)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var y=o.uppy.opts,m=y.allowMultipleUploads,w=y.allowMultipleUploadBatches;(m||w)&&h&&o.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var _=o.opts.target;_&&o.mount(_,at(o));var R=o.opts.plugins||[];R.forEach(function(E){var A=o.uppy.getPlugin(E);A&&A.mount(at(o),A)}),o.opts.disableStatusBar||o.uppy.use(il,{id:"".concat(o.id,":StatusBar"),target:at(o),hideUploadButton:o.opts.hideUploadButton,hideRetryButton:o.opts.hideRetryButton,hidePauseResumeButton:o.opts.hidePauseResumeButton,hideCancelButton:o.opts.hideCancelButton,showProgressDetails:o.opts.showProgressDetails,hideAfterFinish:o.opts.hideProgressAfterFinish,locale:o.opts.locale,doneButtonHandler:o.opts.doneButtonHandler}),o.opts.disableInformer||o.uppy.use(ol,{id:"".concat(o.id,":Informer"),target:at(o)}),o.opts.disableThumbnailGenerator||o.uppy.use(_p,{id:"".concat(o.id,":ThumbnailGenerator"),thumbnailWidth:o.opts.thumbnailWidth,thumbnailHeight:o.opts.thumbnailHeight,thumbnailType:o.opts.thumbnailType,waitForThumbnailsBeforeUpload:o.opts.waitForThumbnailsBeforeUpload,lazy:!o.opts.waitForThumbnailsBeforeUpload}),o.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var T=o.darkModeMediaQuery?o.darkModeMediaQuery.matches:!1;o.uppy.log("[Dashboard] Dark mode is ".concat(T?"on":"off")),o.setDarkModeCapability(T),o.opts.theme==="auto"&&o.darkModeMediaQuery.addListener(o.handleSystemDarkModeChange),o.discoverProviderPlugins(),o.initEvents()},o.uninstall=function(){if(!o.opts.disableInformer){var c=o.uppy.getPlugin("".concat(o.id,":Informer"));c&&o.uppy.removePlugin(c)}if(!o.opts.disableStatusBar){var p=o.uppy.getPlugin("".concat(o.id,":StatusBar"));p&&o.uppy.removePlugin(p)}if(!o.opts.disableThumbnailGenerator){var h=o.uppy.getPlugin("".concat(o.id,":ThumbnailGenerator"));h&&o.uppy.removePlugin(h)}var y=o.opts.plugins||[];y.forEach(function(m){var w=o.uppy.getPlugin(m);w&&w.unmount()}),o.opts.theme==="auto"&&o.darkModeMediaQuery.removeListener(o.handleSystemDarkModeChange),o.unmount(),o.removeEvents()},o.id=o.opts.id||"Dashboard",o.title="Dashboard",o.type="orchestrator",o.modalName="uppy-Dashboard-".concat(sn()),o.defaultLocale=HV;var s={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:GVe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:i(function(){o.uppy.cancelAll(),o.requestCloseModal()},"doneButtonHandler"),note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:i(function(){return o.closeModal()},"onRequestCloseModal"),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return o.opts=na(na({},s),a),o.i18nInit(),o.superFocus=wT(),o.ifFocusedOnUppyRecently=!1,o.makeDashboardInsidesVisibleAnywayTimeout=null,o.removeDragOverClassTimeout=null,o}return i(r,"Dashboard"),LVe(r)}(Se);vl.VERSION=$Ve.version;var QV={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function vg(t){return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}i(vg,"_typeof");function ZV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(ZV,"ownKeys");function eW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(r),!0).forEach(function(n){HVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(eW,"_objectSpread");function HVe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(HVe,"_defineProperty");function JT(){"use strict";JT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&vg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(JT,"_regeneratorRuntime");function tW(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(tW,"asyncGeneratorStep");function VVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){tW(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){tW(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(VVe,"_asyncToGenerator");function WVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(WVe,"_classCallCheck");function rW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rW,"_defineProperties");function KVe(t,e,r){return e&&rW(t.prototype,e),r&&rW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(KVe,"_createClass");function YVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}i(YVe,"_inherits");function QT(t,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),QT(t,e)}i(QT,"_setPrototypeOf");function XVe(t){var e=QVe();return i(function(){var n=yg(t),a;if(e){var o=yg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return JVe(this,a)},"_createSuperInternal")}i(XVe,"_createSuper");function JVe(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vu(t)}i(JVe,"_possibleConstructorReturn");function vu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(vu,"_assertThisInitialized");function QVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(QVe,"_isNativeReflectConstruct");function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),yg(t)}i(yg,"_getPrototypeOf");var ZVe={version:"3.0.1"},mg=function(t){YVe(r,t);var e=XVe(r);function r(n,a){var o;WVe(this,r),o=e.call(this,n,a),o.handleDrop=function(){var s=VVe(JT().mark(i(function c(p){var h,y,m,w;return JT().wrap(i(function(R){for(;;)switch(R.prev=R.next){case 0:return p.preventDefault(),p.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!1}),m=i(function(E){o.uppy.log(E,"error")},"logDropError"),R.next=7,fu(p.dataTransfer,{logDropError:m});case 7:w=R.sent,w.length>0&&(o.uppy.log("[DragDrop] Files dropped"),o.addFiles(w)),(h=(y=o.opts).onDrop)==null||h.call(y,p);case 10:case"end":return R.stop()}},"_callee$"),c)},"_callee")));return function(c){return s.apply(this,arguments)}}(),o.type="acquirer",o.id=o.opts.id||"DragDrop",o.title="Drag & Drop",o.defaultLocale=QV;var u={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return o.opts=eW(eW({},u),a),o.i18nInit(),o.isDragDropSupported=Rp(),o.removeDragOverClassTimeout=null,o.onInputChange=o.onInputChange.bind(vu(o)),o.handleDragOver=o.handleDragOver.bind(vu(o)),o.handleDragLeave=o.handleDragLeave.bind(vu(o)),o.handleDrop=o.handleDrop.bind(vu(o)),o.addFiles=o.addFiles.bind(vu(o)),o.render=o.render.bind(vu(o)),o}return i(r,"DragDrop"),KVe(r,[{key:"addFiles",value:i(function(a){var o=this,u=a.map(function(s){return{source:o.id,name:s.name,type:s.type,data:s,meta:{relativePath:s.relativePath||null}}});try{this.uppy.addFiles(u)}catch(s){this.uppy.log(s)}},"addFiles")},{key:"onInputChange",value:i(function(a){var o=Et(a.target.files);o.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(o)),a.target.value=null},"onInputChange")},{key:"handleDragOver",value:i(function(a){var o,u;a.preventDefault(),a.stopPropagation();var s=a.dataTransfer.types,c=s.some(function(y){return y==="Files"}),p=this.uppy.getState(),h=p.allowNewUpload;if(!c||!h){a.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}a.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(o=(u=this.opts).onDragOver)==null||o.call(u,a)},"handleDragOver")},{key:"handleDragLeave",value:i(function(a){var o=this,u,s;a.preventDefault(),a.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){o.setPluginState({isDraggingOver:!1})},50),(u=(s=this.opts).onDragLeave)==null||u.call(s,a)},"handleDragLeave")},{key:"renderHiddenFileInput",value:i(function(){var a=this,o=this.uppy.opts.restrictions;return S("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:i(function(s){a.fileInputRef=s},"ref"),name:this.opts.inputName,multiple:o.maxNumberOfFiles!==1,accept:o.allowedFileTypes,onChange:this.onInputChange})},"renderHiddenFileInput")},{key:"renderLabel",value:i(function(){return S("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:S("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))},"renderLabel")},{key:"renderNote",value:i(function(){return S("span",{className:"uppy-DragDrop-note"},this.opts.note)},"renderNote")},{key:"render",value:i(function(){var a=this,o="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),u={width:this.opts.width,height:this.opts.height};return S("button",{type:"button",className:o,style:u,onClick:i(function(){return a.fileInputRef.click()},"onClick"),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),S("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))},"render")},{key:"install",value:i(function(){var a=this.opts.target;this.setPluginState({isDraggingOver:!1}),a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}],[{key:"renderArrowSvg",value:i(function(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},S("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))},"renderArrowSvg")}]),r}(Se);mg.VERSION=ZVe.version;function gg(t){return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}i(gg,"_typeof");function nW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(nW,"ownKeys");function iW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(r),!0).forEach(function(n){eWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(iW,"_objectSpread");function eWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(eWe,"_defineProperty");function eA(){"use strict";eA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&gg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(eA,"_regeneratorRuntime");function oW(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(oW,"asyncGeneratorStep");function tWe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){oW(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){oW(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(tWe,"_asyncToGenerator");function rWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(rWe,"_classCallCheck");function aW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(aW,"_defineProperties");function nWe(t,e,r){return e&&aW(t.prototype,e),r&&aW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(nWe,"_createClass");function iWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}i(iWe,"_inherits");function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),tA(t,e)}i(tA,"_setPrototypeOf");function oWe(t){var e=sWe();return i(function(){var n=bg(t),a;if(e){var o=bg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return aWe(this,a)},"_createSuperInternal")}i(oWe,"_createSuper");function aWe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uWe(t)}i(aWe,"_possibleConstructorReturn");function uWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(uWe,"_assertThisInitialized");function sWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(sWe,"_isNativeReflectConstruct");function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),bg(t)}i(bg,"_getPrototypeOf");var lWe={version:"2.0.1"};function ZT(t){var e,r;return(e=(r=t.dataTransfer.types)==null?void 0:r.some(function(n){return n==="Files"}))!=null?e:!1}i(ZT,"isFileTransfer");var rA=function(t){iWe(r,t);var e=oWe(r);function r(n,a){var o;rWe(this,r),o=e.call(this,n,a),o.addFiles=function(s){var c=s.map(function(p){return{source:o.id,name:p.name,type:p.type,data:p,meta:{relativePath:p.relativePath||null}}});try{o.uppy.addFiles(c)}catch(p){o.uppy.log(p)}},o.handleDrop=function(){var s=tWe(eA().mark(i(function c(p){var h,y,m,w,_;return eA().wrap(i(function(T){for(;;)switch(T.prev=T.next){case 0:if(ZT(p)){T.next=2;break}return T.abrupt("return");case 2:return p.preventDefault(),p.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),p.currentTarget.classList.remove("uppy-is-drag-over"),o.setPluginState({isDraggingOver:!1}),o.uppy.iteratePlugins(function(E){E.type==="acquirer"&&(E.handleRootDrop==null||E.handleRootDrop(p))}),m=!1,w=i(function(A){o.uppy.log(A,"error"),m||(o.uppy.info(A.message,"error"),m=!0)},"logDropError"),T.next=12,fu(p.dataTransfer,{logDropError:w});case 12:_=T.sent,_.length>0&&(o.uppy.log("[DropTarget] Files were dropped"),o.addFiles(_)),(h=(y=o.opts).onDrop)==null||h.call(y,p);case 15:case"end":return T.stop()}},"_callee$"),c)},"_callee")));return function(c){return s.apply(this,arguments)}}(),o.handleDragOver=function(s){var c,p;!ZT(s)||(s.preventDefault(),s.stopPropagation(),s.dataTransfer.dropEffect="copy",clearTimeout(o.removeDragOverClassTimeout),s.currentTarget.classList.add("uppy-is-drag-over"),o.setPluginState({isDraggingOver:!0}),(c=(p=o.opts).onDragOver)==null||c.call(p,s))},o.handleDragLeave=function(s){var c,p;if(!!ZT(s)){s.preventDefault(),s.stopPropagation();var h=s.currentTarget;clearTimeout(o.removeDragOverClassTimeout),o.removeDragOverClassTimeout=setTimeout(function(){h.classList.remove("uppy-is-drag-over"),o.setPluginState({isDraggingOver:!1})},50),(c=(p=o.opts).onDragLeave)==null||c.call(p,s)}},o.addListeners=function(){var s=o.opts.target;if(s instanceof Element?o.nodes=[s]:typeof s=="string"&&(o.nodes=Et(document.querySelectorAll(s))),!o.nodes&&!o.nodes.length>0)throw new Error('"'.concat(s,'" does not match any HTML elements'));o.nodes.forEach(function(c){c.addEventListener("dragover",o.handleDragOver,!1),c.addEventListener("dragleave",o.handleDragLeave,!1),c.addEventListener("drop",o.handleDrop,!1)})},o.removeListeners=function(){o.nodes&&o.nodes.forEach(function(s){s.removeEventListener("dragover",o.handleDragOver,!1),s.removeEventListener("dragleave",o.handleDragLeave,!1),s.removeEventListener("drop",o.handleDrop,!1)})},o.type="acquirer",o.id=o.opts.id||"DropTarget",o.title="Drop Target";var u={target:null};return o.opts=iW(iW({},u),a),o.removeDragOverClassTimeout=null,o}return i(r,"DropTarget"),nWe(r,[{key:"install",value:i(function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()},"install")},{key:"uninstall",value:i(function(){this.removeListeners()},"uninstall")}]),r}(lt);rA.VERSION=lWe.version;var uW={strings:{chooseFiles:"Choose files"}};function nA(t){return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(t)}i(nA,"_typeof");function sW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(sW,"ownKeys");function lW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sW(Object(r),!0).forEach(function(n){cWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(lW,"_objectSpread");function cWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(cWe,"_defineProperty");function fWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(fWe,"_classCallCheck");function cW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(cW,"_defineProperties");function pWe(t,e,r){return e&&cW(t.prototype,e),r&&cW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(pWe,"_createClass");function hWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iA(t,e)}i(hWe,"_inherits");function iA(t,e){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),iA(t,e)}i(iA,"_setPrototypeOf");function dWe(t){var e=yWe();return i(function(){var n=Og(t),a;if(e){var o=Og(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return vWe(this,a)},"_createSuperInternal")}i(dWe,"_createSuper");function vWe(t,e){if(e&&(nA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wg(t)}i(vWe,"_possibleConstructorReturn");function wg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(wg,"_assertThisInitialized");function yWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(yWe,"_isNativeReflectConstruct");function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Og(t)}i(Og,"_getPrototypeOf");var mWe={version:"3.0.1"},Sg=function(t){hWe(r,t);var e=dWe(r);function r(n,a){var o;fWe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"FileInput",o.title="File Input",o.type="acquirer",o.defaultLocale=uW;var u={target:null,pretty:!0,inputName:"files[]"};return o.opts=lW(lW({},u),a),o.i18nInit(),o.render=o.render.bind(wg(o)),o.handleInputChange=o.handleInputChange.bind(wg(o)),o.handleClick=o.handleClick.bind(wg(o)),o}return i(r,"FileInput"),pWe(r,[{key:"addFiles",value:i(function(a){var o=this,u=a.map(function(s){return{source:o.id,name:s.name,type:s.type,data:s}});try{this.uppy.addFiles(u)}catch(s){this.uppy.log(s)}},"addFiles")},{key:"handleInputChange",value:i(function(a){this.uppy.log("[FileInput] Something selected through input...");var o=Et(a.target.files);this.addFiles(o),a.target.value=null},"handleInputChange")},{key:"handleClick",value:i(function(){this.input.click()},"handleClick")},{key:"render",value:i(function(){var a=this,o={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},u=this.uppy.opts.restrictions,s=u.allowedFileTypes?u.allowedFileTypes.join(","):null;return S("div",{className:"uppy-FileInput-container"},S("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&o,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:u.maxNumberOfFiles!==1,accept:s,ref:i(function(p){a.input=p},"ref")}),this.opts.pretty&&S("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))},"render")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);Sg.VERSION=mWe.version;var hW=Te(fW(),1);function uA(t){return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}i(uA,"_typeof");function gWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(gWe,"_classCallCheck");function pW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(pW,"_defineProperties");function bWe(t,e,r){return e&&pW(t.prototype,e),r&&pW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(bWe,"_createClass");function wWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}i(wWe,"_inherits");function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),sA(t,e)}i(sA,"_setPrototypeOf");function OWe(t){var e=PWe();return i(function(){var n=Pg(t),a;if(e){var o=Pg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return SWe(this,a)},"_createSuperInternal")}i(OWe,"_createSuper");function SWe(t,e){if(e&&(uA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _We(t)}i(SWe,"_possibleConstructorReturn");function _We(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(_We,"_assertThisInitialized");function PWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(PWe,"_isNativeReflectConstruct");function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Pg(t)}i(Pg,"_getPrototypeOf");var dW=function(t){wWe(r,t);var e=OWe(r);function r(n){var a;return gWe(this,r),a=e.call(this,n),a.granularRotateOnChange=function(o){var u=a.state,s=u.rotationAngle,c=u.rotationDelta,p=Number(o.target.value)-c;if(cancelAnimationFrame(a.granularRotateOnInputNextFrame),p!==0){var h=s+p;a.granularRotateOnInputNextFrame=requestAnimationFrame(function(){a.cropper.rotateTo(h)})}},a.state={rotationAngle:0,rotationDelta:0},a}return i(r,"Editor"),bWe(r,[{key:"componentDidMount",value:i(function(){var a=this,o=this.props,u=o.opts,s=o.storeCropperInstance;this.cropper=new hW.default(this.imgElement,u.cropperOptions),s(this.cropper),u.actions.granularRotate&&this.imgElement.addEventListener("crop",function(c){var p=c.detail.rotate;a.setState({rotationAngle:p,rotationDelta:(p+405)%90-45})})},"componentDidMount")},{key:"componentWillUnmount",value:i(function(){this.cropper.destroy()},"componentWillUnmount")},{key:"renderGranularRotate",value:i(function(){var a=this.props.i18n,o=this.state,u=o.rotationDelta,s=o.rotationAngle;return S("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(s,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},S("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:u,min:"-45",max:"44","aria-label":a("rotate")}))},"renderGranularRotate")},{key:"renderRevert",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("revert"),"data-microtip-position":"top",onClick:i(function(){a.cropper.reset(),a.cropper.setAspectRatio(0)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))},"renderRevert")},{key:"renderRotate",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:i(function(){return a.cropper.rotate(-90)},"onClick"),"aria-label":o("rotate"),"data-microtip-position":"top"},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),S("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))},"renderRotate")},{key:"renderFlip",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("flipHorizontal"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.scaleX(-a.cropper.getData().scaleX||-1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))},"renderFlip")},{key:"renderZoomIn",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("zoomIn"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.zoom(.1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},S("path",{d:"M0 0h24v24H0V0z",fill:"none"}),S("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),S("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))},"renderZoomIn")},{key:"renderZoomOut",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("zoomOut"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.zoom(-.1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0V0z",fill:"none"}),S("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))},"renderZoomOut")},{key:"renderCropSquare",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("aspectRatioSquare"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.setAspectRatio(1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))},"renderCropSquare")},{key:"renderCropWidescreen",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("aspectRatioLandscape"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.setAspectRatio(16/9)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),S("path",{fill:"none",d:"M0 0h24v24H0z"})))},"renderCropWidescreen")},{key:"renderCropWidescreenVertical",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("aspectRatioPortrait"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.setAspectRatio(9/16)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),S("path",{d:"M0 0h24v24H0z",fill:"none"})))},"renderCropWidescreenVertical")},{key:"render",value:i(function(){var a=this,o=this.props,u=o.currentImage,s=o.opts,c=s.actions,p=URL.createObjectURL(u.data);return S("div",{className:"uppy-ImageCropper"},S("div",{className:"uppy-ImageCropper-container"},S("img",{className:"uppy-ImageCropper-image",alt:u.name,src:p,ref:i(function(y){a.imgElement=y},"ref")})),S("div",{className:"uppy-ImageCropper-controls"},c.revert&&this.renderRevert(),c.rotate&&this.renderRotate(),c.granularRotate&&this.renderGranularRotate(),c.flip&&this.renderFlip(),c.zoomIn&&this.renderZoomIn(),c.zoomOut&&this.renderZoomOut(),c.cropSquare&&this.renderCropSquare(),c.cropWidescreen&&this.renderCropWidescreen(),c.cropWidescreenVertical&&this.renderCropWidescreenVertical()))},"render")}]),r}(Be);var vW={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};function lA(t){return lA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lA(t)}i(lA,"_typeof");function yW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(yW,"ownKeys");function yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yW(Object(r),!0).forEach(function(n){EWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(yu,"_objectSpread");function EWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(EWe,"_defineProperty");function RWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(RWe,"_classCallCheck");function mW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(mW,"_defineProperties");function TWe(t,e,r){return e&&mW(t.prototype,e),r&&mW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(TWe,"_createClass");function AWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}i(AWe,"_inherits");function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),cA(t,e)}i(cA,"_setPrototypeOf");function IWe(t){var e=xWe();return i(function(){var n=Eg(t),a;if(e){var o=Eg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return kWe(this,a)},"_createSuperInternal")}i(IWe,"_createSuper");function kWe(t,e){if(e&&(lA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qWe(t)}i(kWe,"_possibleConstructorReturn");function qWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qWe,"_assertThisInitialized");function xWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(xWe,"_isNativeReflectConstruct");function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Eg(t)}i(Eg,"_getPrototypeOf");var CWe={version:"2.0.1"},Rg=function(t){AWe(r,t);var e=IWe(r);function r(n,a){var o;RWe(this,r),o=e.call(this,n,a),o.save=function(){var p=i(function(w){var _=o.getPluginState(),R=_.currentImage;o.uppy.setFileState(R.id,{data:w,size:w.size,preview:null});var T=o.uppy.getFile(R.id);o.uppy.emit("thumbnail:request",T),o.setPluginState({currentImage:T}),o.uppy.emit("file-editor:complete",T)},"saveBlobCallback"),h=o.getPluginState(),y=h.currentImage;o.cropper.getCroppedCanvas(o.opts.cropperOptions.croppedCanvasOptions).toBlob(p,y.type,o.opts.quality)},o.storeCropperInstance=function(p){o.cropper=p},o.selectFile=function(p){o.uppy.emit("file-editor:start",p),o.setPluginState({currentImage:p})},o.id=o.opts.id||"ImageEditor",o.title="Image Editor",o.type="editor",o.defaultLocale=vW;var u={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},s={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},c={quality:.8};return o.opts=yu(yu(yu({},c),a),{},{actions:yu(yu({},s),a.actions),cropperOptions:yu(yu({},u),a.cropperOptions)}),o.i18nInit(),o}return i(r,"ImageEditor"),TWe(r,[{key:"canEditFile",value:i(function(a){if(!a.type||a.isRemote)return!1;var o=a.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(o)},"canEditFile")},{key:"install",value:i(function(){this.setPluginState({currentImage:null});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){var a=this.getPluginState(),o=a.currentImage;if(o){var u=this.uppy.getFile(o.id);this.uppy.emit("file-editor:cancel",u)}this.unmount()},"uninstall")},{key:"render",value:i(function(){var a=this.getPluginState(),o=a.currentImage;return o===null||o.isRemote?null:S(dW,{currentImage:o,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})},"render")}]),r}(Se);Rg.VERSION=CWe.version;function fA(t){return fA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(t)}i(fA,"_typeof");function gW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(gW,"ownKeys");function bW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(r),!0).forEach(function(n){FWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(bW,"_objectSpread");function FWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(FWe,"_defineProperty");function LWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(LWe,"_classCallCheck");function wW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wW,"_defineProperties");function jWe(t,e,r){return e&&wW(t.prototype,e),r&&wW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(jWe,"_createClass");function NWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pA(t,e)}i(NWe,"_inherits");function pA(t,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),pA(t,e)}i(pA,"_setPrototypeOf");function DWe(t){var e=MWe();return i(function(){var n=Tg(t),a;if(e){var o=Tg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return UWe(this,a)},"_createSuperInternal")}i(DWe,"_createSuper");function UWe(t,e){if(e&&(fA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OW(t)}i(UWe,"_possibleConstructorReturn");function OW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(OW,"_assertThisInitialized");function MWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(MWe,"_isNativeReflectConstruct");function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Tg(t)}i(Tg,"_getPrototypeOf");var BWe={version:"3.0.1"},Ag=function(t){NWe(r,t);var e=DWe(r);function r(n,a){var o;LWe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"ProgressBar",o.title="Progress Bar",o.type="progressindicator";var u={target:"body",fixed:!1,hideAfterFinish:!0};return o.opts=bW(bW({},u),a),o.render=o.render.bind(OW(o)),o}return i(r,"ProgressBar"),jWe(r,[{key:"render",value:i(function(a){var o=a.totalProgress||0,u=(o===0||o===100)&&this.opts.hideAfterFinish;return S("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":u},S("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(o,"%")}}),S("div",{className:"uppy-ProgressBar-percentage"},o))},"render")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);Ag.VERSION=BWe.version;function $We(t,e){return VWe(t)||HWe(t,e)||GWe(t,e)||zWe()}i($We,"_slicedToArray");function zWe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(zWe,"_nonIterableRest");function GWe(t,e){if(!!t){if(typeof t=="string")return SW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SW(t,e)}}i(GWe,"_unsupportedIterableToArray");function SW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(SW,"_arrayLikeToArray");function HWe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(HWe,"_iterableToArrayLimit");function VWe(t){if(Array.isArray(t))return t}i(VWe,"_arrayWithHoles");var WWe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function pi(t){var e=t.split(";",1),r=$We(e,1);return t=r[0],WWe[t]||null}i(pi,"getFileTypeExtension");function hA(){var t;return typeof MediaRecorder=="function"&&typeof((t=MediaRecorder.prototype)==null?void 0:t.start)=="function"}i(hA,"supportsMediaRecorder");var mA,Tr,dA,_W,vA=0,kW=[],Ig=[],PW=Ee.__b,EW=Ee.__r,RW=Ee.diffed,TW=Ee.__c,AW=Ee.unmount;function qW(t,e){Ee.__h&&Ee.__h(Tr,t,vA||e),vA=0;var r=Tr.__H||(Tr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Ig}),r.__[t]}i(qW,"p");function gA(t,e){var r=qW(mA++,3);!Ee.__s&&xW(r.__H,e)&&(r.__=t,r.u=e,Tr.__H.__h.push(r))}i(gA,"_");function bA(t){return vA=5,KWe(function(){return{current:t}},[])}i(bA,"s");function KWe(t,e){var r=qW(mA++,7);return xW(r.__H,e)?(r.__V=t(),r.u=e,r.__h=t,r.__V):r.__}i(KWe,"F");function YWe(){for(var t;t=kW.shift();)if(t.__P)try{t.__H.__h.forEach(kg),t.__H.__h.forEach(yA),t.__H.__h=[]}catch(e){t.__H.__h=[],Ee.__e(e,t.__v)}}i(YWe,"b");Ee.__b=function(t){Tr=null,PW&&PW(t)},Ee.__r=function(t){EW&&EW(t),mA=0;var e=(Tr=t.__c).__H;e&&(dA===Tr?(e.__h=[],Tr.__h=[],e.__.forEach(function(r){r.__V=Ig,r.u=void 0})):(e.__h.forEach(kg),e.__h.forEach(yA),e.__h=[])),dA=Tr},Ee.diffed=function(t){RW&&RW(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(kW.push(e)!==1&&_W===Ee.requestAnimationFrame||((_W=Ee.requestAnimationFrame)||function(r){var n,a=i(function(){clearTimeout(o),IW&&cancelAnimationFrame(n),setTimeout(r)},"u"),o=setTimeout(a,100);IW&&(n=requestAnimationFrame(a))})(YWe)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.__V!==Ig&&(r.__=r.__V),r.u=void 0,r.__V=Ig})),dA=Tr=null},Ee.__c=function(t,e){e.some(function(r){try{r.__h.forEach(kg),r.__h=r.__h.filter(function(n){return!n.__||yA(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ee.__e(n,r.__v)}}),TW&&TW(t,e)},Ee.unmount=function(t){AW&&AW(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{kg(n)}catch(a){e=a}}),e&&Ee.__e(e,r.__v))};var IW=typeof requestAnimationFrame=="function";function kg(t){var e=Tr,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Tr=e}i(kg,"j");function yA(t){var e=Tr;t.__c=t.__(),Tr=e}i(yA,"k");function xW(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}i(xW,"w");function wA(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,a=t.i18n;return e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("stopAudioRecording"),"aria-label":a("stopAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("rect",{x:"15",y:"15",width:"70",height:"70"}))):S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("startAudioRecording"),"aria-label":a("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},S("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}i(wA,"RecordButton");function OA(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}i(OA,"formatSeconds");function SA(t){var e=t.recordingLengthSeconds,r=t.i18n,n=OA(e);return S("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}i(SA,"RecordingLength");var CW=i(function(t){var e=t.currentDeviceId,r=t.audioSources,n=t.onChangeSource;return S("div",{className:"uppy-Audio-videoSource"},S("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:i(function(o){n(o.target.value)},"onChange")},r.map(function(a){return S("option",{key:a.deviceId,value:a.deviceId,selected:a.deviceId===e},a.label)})))},"default");function XWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(XWe,"_classCallCheck");function FW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FW,"_defineProperties");function JWe(t,e,r){return e&&FW(t.prototype,e),r&&FW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(JWe,"_createClass");function QWe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(QWe,"_classPrivateFieldLooseBase");var ZWe=0;function eKe(t){return"__private_"+ZWe+++"_"+t}i(eKe,"_classPrivateFieldLooseKey");function LW(t){return typeof t=="function"}i(LW,"isFunction");function qp(t){return LW(t)?t():t}i(qp,"result");var _A=eKe("draw"),jW=function(){function t(e,r){var n=this;XWe(this,t),r===void 0&&(r={}),Object.defineProperty(this,_A,{writable:!0,value:i(function(){return n.draw()},"value")});var a=r.canvas||{},o=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=qp(a.width)||this.canvas.width,this.height=qp(a.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=qp(o.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=qp(o.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=qp(o.lineWidth)||1,this.onDrawFrame=LW(r.onDrawFrame)?r.onDrawFrame:function(){}}return i(t,"AudioOscilloscope"),JWe(t,[{key:"addSource",value:i(function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)},"addSource")},{key:"draw",value:i(function(){var r=this.analyser,n=this.dataArray,a=this.bufferLength,o=this.canvasContext,u=this.width,s=this.height;r&&r.getByteTimeDomainData(n),o.fillRect(0,0,u,s),o.beginPath();var c=u*1/a,p=0;a||o.moveTo(0,this.height/2);for(var h=0;h<a;h++){var y=n[h]/128,m=y*(s/2);h===0?o.moveTo(p,m):o.lineTo(p,m),p+=c}o.lineTo(u,s/2),o.stroke(),this.onDrawFrame(this),requestAnimationFrame(QWe(this,_A)[_A])},"draw")}]),t}();function tKe(t){var e=t.onSubmit,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}i(tKe,"SubmitButton");var NW=tKe;function rKe(t){var e=t.onDiscard,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},S("g",{fill:"#FFF",fillRule:"evenodd"},S("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),S("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}i(rKe,"DiscardButton");var DW=rKe;function PA(t){var e=t.stream,r=t.recordedAudio,n=t.onStop,a=t.recording,o=t.supportsRecording,u=t.audioSources,s=t.showAudioSourceDropdown,c=t.onSubmit,p=t.i18n,h=t.onStartRecording,y=t.onStopRecording,m=t.onDiscardRecordedAudio,w=t.recordingLengthSeconds,_=bA(null),R=bA(null);gA(function(){return function(){R.current=null,n()}},[n]),gA(function(){if(!r&&(R.current=new jW(_.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),R.current.draw(),e)){var C=new AudioContext,U=C.createMediaStreamSource(e);R.current.addSource(U)}},[r,e]);var T=r!=null,E=!T&&o,A=s&&!T&&u&&u.length>1;return S("div",{className:"uppy-Audio-container"},S("div",{className:"uppy-Audio-audioContainer"},T?S("audio",{className:"uppy-Audio-player",controls:!0,src:r}):S("canvas",{ref:_,className:"uppy-Audio-canvas"})),S("div",{className:"uppy-Audio-footer"},S("div",{className:"uppy-Audio-audioSourceContainer"},A?CW(t):null),S("div",{className:"uppy-Audio-buttonContainer"},E&&S(wA,{recording:a,onStartRecording:h,onStopRecording:y,i18n:p}),T&&S(NW,{onSubmit:c,i18n:p}),T&&S(DW,{onDiscard:m,i18n:p})),S("div",{className:"uppy-Audio-recordingLength"},!T&&S(SA,{recordingLengthSeconds:w,i18n:p}))))}i(PA,"RecordingScreen");var UW=i(function(t){var e=t.icon,r=t.hasAudio,n=t.i18n;return S("div",{className:"uppy-Audio-permissons"},S("div",{className:"uppy-Audio-permissonsIcon"},e()),S("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),S("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))},"default");var MW={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function qg(t){return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}i(qg,"_typeof");function BW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(BW,"ownKeys");function nKe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BW(Object(r),!0).forEach(function(n){iKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(nKe,"_objectSpread");function iKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(iKe,"_defineProperty");function qA(){"use strict";qA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&qg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(qA,"_regeneratorRuntime");function $W(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i($W,"asyncGeneratorStep");function oKe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){$W(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){$W(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(oKe,"_asyncToGenerator");function aKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aKe,"_classCallCheck");function zW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(zW,"_defineProperties");function uKe(t,e,r){return e&&zW(t.prototype,e),r&&zW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(uKe,"_createClass");function sKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}i(sKe,"_inherits");function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),xA(t,e)}i(xA,"_setPrototypeOf");function lKe(t){var e=fKe();return i(function(){var n=xg(t),a;if(e){var o=xg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return cKe(this,a)},"_createSuperInternal")}i(lKe,"_createSuper");function cKe(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(t)}i(cKe,"_possibleConstructorReturn");function ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ye,"_assertThisInitialized");function fKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(fKe,"_isNativeReflectConstruct");function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),xg(t)}i(xg,"_getPrototypeOf");function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CA.apply(this,arguments)}i(CA,"_extends");function fe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(fe,"_classPrivateFieldLooseBase");var pKe=0;function Ht(t){return"__private_"+pKe+++"_"+t}i(Ht,"_classPrivateFieldLooseKey");var hKe={version:"1.0.2"},zt=Ht("stream"),Ji=Ht("audioActive"),ft=Ht("recordingChunks"),ct=Ht("recorder"),Qi=Ht("capturedMediaFile"),Gt=Ht("mediaDevices"),xp=Ht("supportsUserMedia"),EA=Ht("hasAudioCheck"),mu=Ht("start"),RA=Ht("startRecording"),Cp=Ht("stopRecording"),TA=Ht("discardRecordedAudio"),AA=Ht("submit"),Zi=Ht("stop"),IA=Ht("getAudio"),kA=Ht("changeSource"),gu=Ht("updateSources"),Cg=function(t){sKe(r,t);var e=lKe(r);function r(n,a){var o;aKe(this,r);var u;return o=e.call(this,n,a),u=ye(o),Object.defineProperty(ye(o),IA,{value:vKe}),Object.defineProperty(ye(o),EA,{value:dKe}),Object.defineProperty(ye(o),zt,{writable:!0,value:null}),Object.defineProperty(ye(o),Ji,{writable:!0,value:!1}),Object.defineProperty(ye(o),ft,{writable:!0,value:null}),Object.defineProperty(ye(o),ct,{writable:!0,value:null}),Object.defineProperty(ye(o),Qi,{writable:!0,value:null}),Object.defineProperty(ye(o),Gt,{writable:!0,value:null}),Object.defineProperty(ye(o),xp,{writable:!0,value:null}),Object.defineProperty(ye(o),mu,{writable:!0,value:i(function(c){if(c===void 0&&(c=null),!fe(u,xp)[xp])return Promise.reject(new Error("Microphone access not supported"));fe(u,Ji)[Ji]=!0,fe(u,EA)[EA]().then(function(p){return u.setPluginState({hasAudio:p}),fe(u,Gt)[Gt].getUserMedia({audio:!0}).then(function(h){fe(u,zt)[zt]=h;var y=null,m=h.getAudioTracks();!c||!c.deviceId?y=m[0].getSettings().deviceId:m.forEach(function(w){w.getSettings().deviceId===c.deviceId&&(y=w.getSettings().deviceId)}),fe(u,gu)[gu](),u.setPluginState({currentDeviceId:y,audioReady:!0})}).catch(function(h){u.setPluginState({audioReady:!1,cameraError:h}),u.uppy.info(h.message,"error")})})},"value")}),Object.defineProperty(ye(o),RA,{writable:!0,value:i(function(){fe(ye(o),ct)[ct]=new MediaRecorder(fe(ye(o),zt)[zt]),fe(ye(o),ft)[ft]=[];var c=!1;fe(ye(o),ct)[ct].addEventListener("dataavailable",function(p){fe(ye(o),ft)[ft].push(p.data);var h=o.uppy.opts.restrictions;if(fe(ye(o),ft)[ft].length>1&&h.maxFileSize!=null&&!c){var y=fe(ye(o),ft)[ft].reduce(function(R,T){return R+T.size},0),m=(y-fe(ye(o),ft)[ft][0].size)/(fe(ye(o),ft)[ft].length-1),w=m*3,_=Math.max(0,h.maxFileSize-w);y>_&&(c=!0,o.uppy.info(o.i18n("recordingStoppedMaxSize"),"warning",4e3),fe(ye(o),Cp)[Cp]())}}),fe(ye(o),ct)[ct].start(500),o.recordingLengthTimer=setInterval(function(){var p=o.getPluginState().recordingLengthSeconds;o.setPluginState({recordingLengthSeconds:p+1})},1e3),o.setPluginState({isRecording:!0})},"value")}),Object.defineProperty(ye(o),Cp,{writable:!0,value:i(function(){var c=new Promise(function(p){fe(ye(o),ct)[ct].addEventListener("stop",function(){p()}),fe(ye(o),ct)[ct].stop(),clearInterval(o.recordingLengthTimer),o.setPluginState({recordingLengthSeconds:0})});return c.then(function(){return o.setPluginState({isRecording:!1}),fe(ye(o),IA)[IA]()}).then(function(p){try{fe(ye(o),Qi)[Qi]=p,o.setPluginState({recordedAudio:URL.createObjectURL(p.data)})}catch(h){h.isRestriction||o.uppy.log(h)}}).then(function(){fe(ye(o),ft)[ft]=null,fe(ye(o),ct)[ct]=null},function(p){throw fe(ye(o),ft)[ft]=null,fe(ye(o),ct)[ct]=null,p})},"value")}),Object.defineProperty(ye(o),TA,{writable:!0,value:i(function(){o.setPluginState({recordedAudio:null}),fe(ye(o),Qi)[Qi]=null},"value")}),Object.defineProperty(ye(o),AA,{writable:!0,value:i(function(){try{fe(ye(o),Qi)[Qi]&&o.uppy.addFile(fe(ye(o),Qi)[Qi])}catch(c){c.isRestriction||o.uppy.log(c,"error")}},"value")}),Object.defineProperty(ye(o),Zi,{writable:!0,value:function(){var s=oKe(qA().mark(i(function p(){var h;return qA().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(fe(ye(o),zt)[zt]&&(h=fe(ye(o),zt)[zt].getAudioTracks(),h.forEach(function(w){return w.stop()})),!fe(ye(o),ct)[ct]){m.next=4;break}return m.next=4,new Promise(function(w){fe(ye(o),ct)[ct].addEventListener("stop",w,{once:!0}),fe(ye(o),ct)[ct].stop(),clearInterval(o.recordingLengthTimer)});case 4:fe(ye(o),ft)[ft]=null,fe(ye(o),ct)[ct]=null,fe(ye(o),Ji)[Ji]=!1,fe(ye(o),zt)[zt]=null,o.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return m.stop()}},"_callee$"),p)},"_callee")));function c(){return s.apply(this,arguments)}return i(c,"value"),c}()}),Object.defineProperty(ye(o),kA,{writable:!0,value:i(function(c){fe(ye(o),Zi)[Zi](),fe(ye(o),mu)[mu]({deviceId:c})},"value")}),Object.defineProperty(ye(o),gu,{writable:!0,value:i(function(){fe(ye(o),Gt)[Gt].enumerateDevices().then(function(c){o.setPluginState({audioSources:c.filter(function(p){return p.kind==="audioinput"})})})},"value")}),fe(ye(o),Gt)[Gt]=navigator.mediaDevices,fe(ye(o),xp)[xp]=fe(ye(o),Gt)[Gt]!=null,o.id=o.opts.id||"Audio",o.type="acquirer",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},S("g",{fill:"none","fill-rule":"evenodd"},S("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),S("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},o.defaultLocale=MW,o.opts=nKe({},a),o.i18nInit(),o.title=o.i18n("pluginNameAudio"),o.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),o}return i(r,"Audio"),uKe(r,[{key:"render",value:i(function(){fe(this,Ji)[Ji]||fe(this,mu)[mu]();var a=this.getPluginState();return!a.audioReady||!a.hasAudio?S(UW,{icon:this.icon,i18n:this.i18n,hasAudio:a.hasAudio}):S(PA,CA({},a,{audioActive:fe(this,Ji)[Ji],onChangeSource:fe(this,kA)[kA],onStartRecording:fe(this,RA)[RA],onStopRecording:fe(this,Cp)[Cp],onDiscardRecordedAudio:fe(this,TA)[TA],onSubmit:fe(this,AA)[AA],onStop:fe(this,Zi)[Zi],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:hA(),recording:a.isRecording,stream:fe(this,zt)[zt]}))},"render")},{key:"install",value:i(function(){var a=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var o=this.opts.target;o&&this.mount(o,this),fe(this,Gt)[Gt]&&(fe(this,gu)[gu](),fe(this,Gt)[Gt].ondevicechange=function(){if(fe(a,gu)[gu](),fe(a,zt)[zt]){var u=!0,s=a.getPluginState(),c=s.audioSources,p=s.currentDeviceId;c.forEach(function(h){p===h.deviceId&&(u=!1)}),u&&(fe(a,Zi)[Zi](),fe(a,mu)[mu]())}})},"install")},{key:"uninstall",value:i(function(){fe(this,zt)[zt]&&fe(this,Zi)[Zi](),this.unmount()},"uninstall")}]),r}(Se);function dKe(){return fe(this,Gt)[Gt]?fe(this,Gt)[Gt].enumerateDevices().then(function(t){return t.some(function(e){return e.kind==="audioinput"})}):Promise.resolve(!1)}i(dKe,"_hasAudioCheck2");function vKe(){var t=fe(this,ft)[ft].find(function(o){var u;return((u=o.type)==null?void 0:u.length)>0}).type,e=pi(t);if(!e)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(t,'"')));var r="audio-".concat(Date.now(),".").concat(e),n=new Blob(fe(this,ft)[ft],{type:t}),a={source:this.id,name:r,data:new Blob([n],{type:t}),type:t};return Promise.resolve(a)}i(vKe,"_getAudio2");Cg.VERSION=hKe.version;var GW={strings:{pluginNameBox:"Box"}};function FA(t){return FA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FA(t)}i(FA,"_typeof");function yKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(yKe,"_classCallCheck");function HW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(HW,"_defineProperties");function mKe(t,e,r){return e&&HW(t.prototype,e),r&&HW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(mKe,"_createClass");function gKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}i(gKe,"_inherits");function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),LA(t,e)}i(LA,"_setPrototypeOf");function bKe(t){var e=OKe();return i(function(){var n=Lg(t),a;if(e){var o=Lg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return wKe(this,a)},"_createSuperInternal")}i(bKe,"_createSuper");function wKe(t,e){if(e&&(FA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fg(t)}i(wKe,"_possibleConstructorReturn");function Fg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Fg,"_assertThisInitialized");function OKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(OKe,"_isNativeReflectConstruct");function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Lg(t)}i(Lg,"_getPrototypeOf");var SKe={version:"2.0.1"},yl=function(t){gKe(r,t);var e=bKe(r);function r(n,a){var o;return yKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Box",Me.initPlugin(Fg(o),a),o.title=o.opts.title||"Box",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),S("g",{fill:"#fff",fillRule:"nonzero"},S("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),S("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"box",pluginId:o.id}),o.defaultLocale=GW,o.i18nInit(),o.title=o.i18n("pluginNameBox"),o.onFirstRender=o.onFirstRender.bind(Fg(o)),o.render=o.render.bind(Fg(o)),o}return i(r,"Box"),mKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return this.view.getFolder()},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);yl.VERSION=SKe.version;var VW={strings:{pluginNameDropbox:"Dropbox"}};function jA(t){return jA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jA(t)}i(jA,"_typeof");function _Ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_Ke,"_classCallCheck");function WW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(WW,"_defineProperties");function PKe(t,e,r){return e&&WW(t.prototype,e),r&&WW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(PKe,"_createClass");function EKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}i(EKe,"_inherits");function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),NA(t,e)}i(NA,"_setPrototypeOf");function RKe(t){var e=AKe();return i(function(){var n=Ng(t),a;if(e){var o=Ng(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return TKe(this,a)},"_createSuperInternal")}i(RKe,"_createSuper");function TKe(t,e){if(e&&(jA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jg(t)}i(TKe,"_possibleConstructorReturn");function jg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(jg,"_assertThisInitialized");function AKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(AKe,"_isNativeReflectConstruct");function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ng(t)}i(Ng,"_getPrototypeOf");var IKe={version:"3.0.1"},ml=function(t){EKe(r,t);var e=RKe(r);function r(n,a){var o;return _Ke(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Dropbox",Me.initPlugin(jg(o),a),o.title=o.opts.title||"Dropbox",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),S("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"dropbox",pluginId:o.id}),o.defaultLocale=VW,o.i18nInit(),o.title=o.i18n("pluginNameDropbox"),o.onFirstRender=o.onFirstRender.bind(jg(o)),o.render=o.render.bind(jg(o)),o}return i(r,"Dropbox"),PKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);ml.VERSION=IKe.version;var KW={strings:{pluginNameFacebook:"Facebook"}};function DA(t){return DA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(t)}i(DA,"_typeof");function kKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kKe,"_classCallCheck");function YW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YW,"_defineProperties");function qKe(t,e,r){return e&&YW(t.prototype,e),r&&YW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(qKe,"_createClass");function xKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}i(xKe,"_inherits");function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),UA(t,e)}i(UA,"_setPrototypeOf");function CKe(t){var e=LKe();return i(function(){var n=Ug(t),a;if(e){var o=Ug(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return FKe(this,a)},"_createSuperInternal")}i(CKe,"_createSuper");function FKe(t,e){if(e&&(DA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dg(t)}i(FKe,"_possibleConstructorReturn");function Dg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Dg,"_assertThisInitialized");function LKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(LKe,"_isNativeReflectConstruct");function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ug(t)}i(Ug,"_getPrototypeOf");var jKe={version:"3.0.1"},gl=function(t){xKe(r,t);var e=CKe(r);function r(n,a){var o;return kKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Facebook",Me.initPlugin(Dg(o),a),o.title=o.opts.title||"Facebook",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),S("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"facebook",pluginId:o.id}),o.defaultLocale=KW,o.i18nInit(),o.title=o.i18n("pluginNameFacebook"),o.onFirstRender=o.onFirstRender.bind(Dg(o)),o.render=o.render.bind(Dg(o)),o}return i(r,"Facebook"),qKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){var o={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(o.viewType="grid",o.showFilter=!1,o.showTitles=!1),this.view.render(a,o)},"render")}]),r}(Se);gl.VERSION=jKe.version;function MA(t){return MA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MA(t)}i(MA,"_typeof");function NKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(NKe,"_classCallCheck");function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XW,"_defineProperties");function DKe(t,e,r){return e&&XW(t.prototype,e),r&&XW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(DKe,"_createClass");function Mg(){return typeof Reflect!="undefined"&&Reflect.get?Mg=Reflect.get.bind():Mg=i(function(e,r,n){var a=UKe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),Mg.apply(this,arguments)}i(Mg,"_get");function UKe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=bl(t),t!==null););return t}i(UKe,"_superPropBase");function MKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}i(MKe,"_inherits");function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),BA(t,e)}i(BA,"_setPrototypeOf");function BKe(t){var e=GKe();return i(function(){var n=bl(t),a;if(e){var o=bl(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return $Ke(this,a)},"_createSuperInternal")}i(BKe,"_createSuper");function $Ke(t,e){if(e&&(MA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zKe(t)}i($Ke,"_possibleConstructorReturn");function zKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(zKe,"_assertThisInitialized");function GKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(GKe,"_isNativeReflectConstruct");function bl(t){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),bl(t)}i(bl,"_getPrototypeOf");var JW=function(t){MKe(r,t);var e=BKe(r);function r(){return NKe(this,r),e.apply(this,arguments)}return i(r,"DriveProviderViews"),DKe(r,[{key:"toggleCheckbox",value:i(function(a,o){a.stopPropagation(),a.preventDefault(),o.custom.isSharedDrive||Mg(bl(r.prototype),"toggleCheckbox",this).call(this,a,o)},"toggleCheckbox")}]),r}(Dt);var QW={strings:{pluginNameGoogleDrive:"Google Drive"}};function $A(t){return $A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$A(t)}i($A,"_typeof");function HKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(HKe,"_classCallCheck");function ZW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(ZW,"_defineProperties");function VKe(t,e,r){return e&&ZW(t.prototype,e),r&&ZW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(VKe,"_createClass");function WKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}i(WKe,"_inherits");function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),zA(t,e)}i(zA,"_setPrototypeOf");function KKe(t){var e=XKe();return i(function(){var n=$g(t),a;if(e){var o=$g(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return YKe(this,a)},"_createSuperInternal")}i(KKe,"_createSuper");function YKe(t,e){if(e&&($A(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bg(t)}i(YKe,"_possibleConstructorReturn");function Bg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Bg,"_assertThisInitialized");function XKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(XKe,"_isNativeReflectConstruct");function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),$g(t)}i($g,"_getPrototypeOf");var JKe={version:"3.0.1"},wl=function(t){WKe(r,t);var e=KKe(r);function r(n,a){var o;return HKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"GoogleDrive",o.title=o.opts.title||"Google Drive",Me.initPlugin(Bg(o),a),o.title=o.opts.title||"Google Drive",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),S("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"drive",pluginId:o.id}),o.defaultLocale=QW,o.i18nInit(),o.title=o.i18n("pluginNameGoogleDrive"),o.onFirstRender=o.onFirstRender.bind(Bg(o)),o.render=o.render.bind(Bg(o)),o}return i(r,"GoogleDrive"),VKe(r,[{key:"install",value:i(function(){this.view=new JW(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);wl.VERSION=JKe.version;var eK={strings:{pluginNameInstagram:"Instagram"}};function GA(t){return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(t)}i(GA,"_typeof");function QKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(QKe,"_classCallCheck");function tK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(tK,"_defineProperties");function ZKe(t,e,r){return e&&tK(t.prototype,e),r&&tK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(ZKe,"_createClass");function eYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}i(eYe,"_inherits");function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),HA(t,e)}i(HA,"_setPrototypeOf");function tYe(t){var e=nYe();return i(function(){var n=Gg(t),a;if(e){var o=Gg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return rYe(this,a)},"_createSuperInternal")}i(tYe,"_createSuper");function rYe(t,e){if(e&&(GA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zg(t)}i(rYe,"_possibleConstructorReturn");function zg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(zg,"_assertThisInitialized");function nYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(nYe,"_isNativeReflectConstruct");function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Gg(t)}i(Gg,"_getPrototypeOf");var iYe={version:"3.0.1"},Ol=function(t){eYe(r,t);var e=tYe(r);function r(n,a){var o;return QKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Instagram",Me.initPlugin(zg(o),a),o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),S("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},o.defaultLocale=eK,o.i18nInit(),o.title=o.i18n("pluginNameInstagram"),o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"instagram",pluginId:o.id}),o.onFirstRender=o.onFirstRender.bind(zg(o)),o.render=o.render.bind(zg(o)),o}return i(r,"Instagram"),ZKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);Ol.VERSION=iYe.version;var rK={strings:{pluginNameOneDrive:"OneDrive"}};function VA(t){return VA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(t)}i(VA,"_typeof");function oYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(oYe,"_classCallCheck");function nK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(nK,"_defineProperties");function aYe(t,e,r){return e&&nK(t.prototype,e),r&&nK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(aYe,"_createClass");function uYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}i(uYe,"_inherits");function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),WA(t,e)}i(WA,"_setPrototypeOf");function sYe(t){var e=cYe();return i(function(){var n=Vg(t),a;if(e){var o=Vg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return lYe(this,a)},"_createSuperInternal")}i(sYe,"_createSuper");function lYe(t,e){if(e&&(VA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hg(t)}i(lYe,"_possibleConstructorReturn");function Hg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Hg,"_assertThisInitialized");function cYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(cYe,"_isNativeReflectConstruct");function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Vg(t)}i(Vg,"_getPrototypeOf");var fYe={version:"3.0.1"},Sl=function(t){uYe(r,t);var e=sYe(r);function r(n,a){var o;return oYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"OneDrive",Me.initPlugin(Hg(o),a),o.title=o.opts.title||"OneDrive",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),S("g",{fill:"#FFF",fillRule:"nonzero"},S("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),S("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionCookiesRule:o.opts.companionCookiesRule,provider:"onedrive",pluginId:o.id}),o.defaultLocale=rK,o.i18nInit(),o.title=o.i18n("pluginNameOneDrive"),o.onFirstRender=o.onFirstRender.bind(Hg(o)),o.render=o.render.bind(Hg(o)),o}return i(r,"OneDrive"),aYe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);Sl.VERSION=fYe.version;function KA(t){return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}i(KA,"_typeof");function pYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(pYe,"_classCallCheck");function iK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iK,"_defineProperties");function hYe(t,e,r){return e&&iK(t.prototype,e),r&&iK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(hYe,"_createClass");function dYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}i(dYe,"_inherits");function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),YA(t,e)}i(YA,"_setPrototypeOf");function vYe(t){var e=mYe();return i(function(){var n=Wg(t),a;if(e){var o=Wg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return yYe(this,a)},"_createSuperInternal")}i(vYe,"_createSuper");function yYe(t,e){if(e&&(KA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(t)}i(yYe,"_possibleConstructorReturn");function oK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(oK,"_assertThisInitialized");function mYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(mYe,"_isNativeReflectConstruct");function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Wg(t)}i(Wg,"_getPrototypeOf");var gYe={version:"3.0.1"},_l=function(t){dYe(r,t);var e=vYe(r);function r(n,a){var o;if(pYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Unsplash",o.title=o.opts.title||"Unsplash",Me.initPlugin(oK(o),a,{}),o.icon=function(){return S("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},S("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),S("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!o.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return o.hostname=o.opts.companionUrl,o.provider=new Sm(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionCookiesRule:o.opts.companionCookiesRule,provider:"unsplash",pluginId:o.id}),o}return i(r,"Unsplash"),hYe(r,[{key:"install",value:i(function(){this.view=new nl(this,{provider:this.provider,viewType:"unsplash"});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"onFirstRender",value:i(function(){},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);_l.VERSION=gYe.version;function XA(t){return XA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XA(t)}i(XA,"_typeof");function bYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(bYe,"_classCallCheck");function aK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(aK,"_defineProperties");function wYe(t,e,r){return e&&aK(t.prototype,e),r&&aK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(wYe,"_createClass");function OYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}i(OYe,"_inherits");function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),JA(t,e)}i(JA,"_setPrototypeOf");function SYe(t){var e=PYe();return i(function(){var n=Kg(t),a;if(e){var o=Kg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _Ye(this,a)},"_createSuperInternal")}i(SYe,"_createSuper");function _Ye(t,e){if(e&&(XA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QA(t)}i(_Ye,"_possibleConstructorReturn");function QA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(QA,"_assertThisInitialized");function PYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(PYe,"_isNativeReflectConstruct");function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Kg(t)}i(Kg,"_getPrototypeOf");var EYe=function(t){OYe(r,t);var e=SYe(r);function r(n){var a;return bYe(this,r),a=e.call(this,n),a.handleKeyPress=a.handleKeyPress.bind(QA(a)),a.handleClick=a.handleClick.bind(QA(a)),a}return i(r,"UrlUI"),wYe(r,[{key:"componentDidMount",value:i(function(){this.input.value=""},"componentDidMount")},{key:"handleKeyPress",value:i(function(a){var o=this.props.addFile;a.keyCode===13&&o(this.input.value)},"handleKeyPress")},{key:"handleClick",value:i(function(){var a=this.props.addFile;a(this.input.value)},"handleClick")},{key:"render",value:i(function(){var a=this,o=this.props.i18n;return S("div",{className:"uppy-Url"},S("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":o("enterUrlToImport"),placeholder:o("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:i(function(s){a.input=s},"ref"),"data-uppy-super-focusable":!0}),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},o("import")))},"render")}]),r}(Be),uK=EYe;function Yg(t,e,r){var n=Et(t.items),a;switch(e){case"paste":{var o=n.some(function(u){return u.kind==="file"});if(o)return;a=n.filter(function(u){return u.kind==="string"&&u.type==="text/plain"});break}case"drop":{a=n.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(e))}a.forEach(function(u){u.getAsString(function(s){return r(s)})})}i(Yg,"forEachDroppedOrPastedUrl");var sK={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}};function Xg(t){return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}i(Xg,"_typeof");function ZA(){"use strict";ZA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Xg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(ZA,"_regeneratorRuntime");function lK(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(lK,"asyncGeneratorStep");function RYe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){lK(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){lK(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(RYe,"_asyncToGenerator");function cK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(cK,"ownKeys");function fK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(r),!0).forEach(function(n){TYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(fK,"_objectSpread");function TYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(TYe,"_defineProperty");function AYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(AYe,"_classCallCheck");function pK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(pK,"_defineProperties");function IYe(t,e,r){return e&&pK(t.prototype,e),r&&pK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(IYe,"_createClass");function kYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eI(t,e)}i(kYe,"_inherits");function eI(t,e){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),eI(t,e)}i(eI,"_setPrototypeOf");function qYe(t){var e=CYe();return i(function(){var n=Jg(t),a;if(e){var o=Jg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return xYe(this,a)},"_createSuperInternal")}i(qYe,"_createSuper");function xYe(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fp(t)}i(xYe,"_possibleConstructorReturn");function Fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Fp,"_assertThisInitialized");function CYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(CYe,"_isNativeReflectConstruct");function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Jg(t)}i(Jg,"_getPrototypeOf");var FYe={version:"3.0.1"};function LYe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),S("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}i(LYe,"UrlIcon");function jYe(t){var e=/^[a-z0-9]+:\/\//,r="http://";return e.test(t)?t:r+t}i(jYe,"addProtocolToURL");function NYe(t){var e=Et(t.dataTransfer.items),r=e.filter(function(n){return n.kind==="string"&&n.type==="text/uri-list"});return r.length>0}i(NYe,"canHandleRootDrop");function DYe(t){if(!t)return!1;var e=t.match(/^([a-z0-9]+):\/\//)[1];return!(e!=="http"&&e!=="https")}i(DYe,"checkIfCorrectURL");function UYe(t){var e=new URL(t),r=e.pathname;return r.substring(r.lastIndexOf("/")+1)}i(UYe,"getFileNameFromUrl");var bu=function(t){kYe(r,t);var e=qYe(r);function r(n,a){var o;AYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Url",o.title=o.opts.title||"Link",o.type="acquirer",o.icon=function(){return S(LYe,null)},o.defaultLocale=sK;var u={};if(o.opts=fK(fK({},u),a),o.i18nInit(),o.hostname=o.opts.companionUrl,!o.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return o.getMeta=o.getMeta.bind(Fp(o)),o.addFile=o.addFile.bind(Fp(o)),o.handleRootDrop=o.handleRootDrop.bind(Fp(o)),o.handleRootPaste=o.handleRootPaste.bind(Fp(o)),o.client=new ht(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionCookiesRule:o.opts.companionCookiesRule}),o}return i(r,"Url"),IYe(r,[{key:"getMeta",value:i(function(a){var o=this;return this.client.post("url/meta",{url:a}).then(function(u){if(u.error)throw o.uppy.log("[URL] Error:"),o.uppy.log(u.error),new Error("Failed to fetch the file");return u})},"getMeta")},{key:"addFile",value:function(){var n=RYe(ZA().mark(i(function o(u,s){var c,p,h;return ZA().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(s===void 0&&(s=void 0),c=jYe(u),DYe(c)){m.next=6;break}return this.uppy.log("[URL] Incorrect URL entered: ".concat(c)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3),m.abrupt("return",void 0);case 6:return m.prev=6,m.next=9,this.getMeta(c);case 9:return p=m.sent,h={meta:s,source:this.id,name:UYe(c),type:p.type,data:{size:p.size},isRemote:!0,body:{url:c},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:c,url:c},providerOptions:this.client.opts}},this.uppy.log("[Url] Adding remote file"),m.prev=12,m.abrupt("return",this.uppy.addFile(h));case 16:return m.prev=16,m.t0=m.catch(12),m.t0.isRestriction||this.uppy.log(m.t0),m.abrupt("return",m.t0);case 20:m.next=27;break;case 22:return m.prev=22,m.t1=m.catch(6),this.uppy.log(m.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:m.t1},"error",4e3),m.abrupt("return",m.t1);case 27:case"end":return m.stop()}},"_callee$"),o,this,[[6,22],[12,16]])},"_callee")));function a(o,u){return n.apply(this,arguments)}return i(a,"addFile"),a}()},{key:"handleRootDrop",value:i(function(a){var o=this;Yg(a.dataTransfer,"drop",function(u){o.uppy.log("[URL] Adding file from dropped url: ".concat(u)),o.addFile(u)})},"handleRootDrop")},{key:"handleRootPaste",value:i(function(a){var o=this;Yg(a.clipboardData,"paste",function(u){o.uppy.log("[URL] Adding file from pasted url: ".concat(u)),o.addFile(u)})},"handleRootPaste")},{key:"render",value:i(function(){return S(uK,{i18n:this.i18n,addFile:this.addFile})},"render")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);bu.VERSION=FYe.version;bu.prototype.canHandleRootDrop=NYe;var hK={strings:{pluginNameZoom:"Zoom"}};function tI(t){return tI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tI(t)}i(tI,"_typeof");function MYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(MYe,"_classCallCheck");function dK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(dK,"_defineProperties");function BYe(t,e,r){return e&&dK(t.prototype,e),r&&dK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(BYe,"_createClass");function $Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}i($Ye,"_inherits");function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),rI(t,e)}i(rI,"_setPrototypeOf");function zYe(t){var e=HYe();return i(function(){var n=Zg(t),a;if(e){var o=Zg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return GYe(this,a)},"_createSuperInternal")}i(zYe,"_createSuper");function GYe(t,e){if(e&&(tI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qg(t)}i(GYe,"_possibleConstructorReturn");function Qg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Qg,"_assertThisInitialized");function HYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(HYe,"_isNativeReflectConstruct");function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Zg(t)}i(Zg,"_getPrototypeOf");var VYe={version:"2.0.1"},Pl=function(t){$Ye(r,t);var e=zYe(r);function r(n,a){var o;return MYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Zoom",Me.initPlugin(Qg(o),a),o.title=o.opts.title||"Zoom",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),S("g",{fill:"none",fillRule:"evenodd"},S("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),S("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"zoom",pluginId:o.id}),o.defaultLocale=hK,o.i18nInit(),o.title=o.i18n("pluginNameZoom"),o.onFirstRender=o.onFirstRender.bind(Qg(o)),o.render=o.render.bind(Qg(o)),o}return i(r,"Zoom"),BYe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);Pl.VERSION=VYe.version;function oI(t){return oI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oI(t)}i(oI,"_typeof");function WYe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=KYe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(WYe,"_createForOfIteratorHelper");function KYe(t,e){if(!!t){if(typeof t=="string")return vK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vK(t,e)}}i(KYe,"_unsupportedIterableToArray");function vK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(vK,"_arrayLikeToArray");function yK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(yK,"ownKeys");function eb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yK(Object(r),!0).forEach(function(n){YYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(eb,"_objectSpread");function YYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(YYe,"_defineProperty");function XYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(XYe,"_classCallCheck");function mK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(mK,"_defineProperties");function JYe(t,e,r){return e&&mK(t.prototype,e),r&&mK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(JYe,"_createClass");function tb(){return typeof Reflect!="undefined"&&Reflect.get?tb=Reflect.get.bind():tb=i(function(e,r,n){var a=QYe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),tb.apply(this,arguments)}i(tb,"_get");function QYe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=El(t),t!==null););return t}i(QYe,"_superPropBase");function ZYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}i(ZYe,"_inherits");function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),aI(t,e)}i(aI,"_setPrototypeOf");function eXe(t){var e=rXe();return i(function(){var n=El(t),a;if(e){var o=El(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return tXe(this,a)},"_createSuperInternal")}i(eXe,"_createSuper");function tXe(t,e){if(e&&(oI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gK(t)}i(tXe,"_possibleConstructorReturn");function gK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(gK,"_assertThisInitialized");function rXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(rXe,"_isNativeReflectConstruct");function El(t){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),El(t)}i(El,"_getPrototypeOf");function nI(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(nI,"_classPrivateFieldLooseBase");var nXe=0;function iXe(t){return"__private_"+nXe+++"_"+t}i(iXe,"_classPrivateFieldLooseKey");var oXe={version:"1.0.2"},iI={__proto__:null,Box:yl,Dropbox:ml,Facebook:gl,GoogleDrive:wl,Instagram:Ol,OneDrive:Sl,Unsplash:_l,Url:bu,Zoom:Pl},wu=iXe("installedPlugins"),uI=function(t){ZYe(r,t);var e=eXe(r);function r(n,a){var o;XYe(this,r),o=e.call(this,n,a),Object.defineProperty(gK(o),wu,{writable:!0,value:new Set}),o.id=o.opts.id||"RemoteSources",o.type="acquirer";var u={sources:Object.keys(iI),target:vl};if(o.opts=eb(eb({},u),a),o.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl");return o}return i(r,"RemoteSources"),JYe(r,[{key:"setOptions",value:i(function(a){this.uninstall(),tb(El(r.prototype),"setOptions",this).call(this,a),this.install()},"setOptions")},{key:"install",value:i(function(){var a=this;this.opts.sources.forEach(function(o){var u=eb(eb({},a.opts),{},{sources:void 0}),s=iI[o];if(s==null){var c=Object.keys(iI),p=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error('Invalid plugin: "'.concat(o,'" is not one of: ').concat(p.format(c),"."))}a.uppy.use(s,u),nI(a,wu)[wu].add(a.uppy.getPlugin(o))})},"install")},{key:"uninstall",value:i(function(){var a=WYe(nI(this,wu)[wu]),o;try{for(a.s();!(o=a.n()).done;){var u=o.value;this.uppy.removePlugin(u)}}catch(s){a.e(s)}finally{a.f()}nI(this,wu)[wu].clear()},"uninstall")}]),r}(lt);uI.VERSION=oXe.version;var bK=i(function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),S("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),S("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))},"default");function sI(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,a=t.i18n;return e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:a("stopCapturing"),"aria-label":a("stopCapturing"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("rect",{x:"15",y:"15",width:"70",height:"70"}))):S("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:a("startCapturing"),"aria-label":a("startCapturing"),onClick:r,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("circle",{cx:"50",cy:"50",r:"40"})))}i(sI,"RecordButton");function lI(t){var e=t.recording,r=t.recordedVideo,n=t.onSubmit,a=t.i18n;return r&&!e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:a("submitRecordedFile"),"aria-label":a("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}i(lI,"SubmitButton");function cI(t){return cI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cI(t)}i(cI,"_typeof");function wK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(wK,"ownKeys");function aXe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wK(Object(r),!0).forEach(function(n){uXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(aXe,"_objectSpread");function uXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(uXe,"_defineProperty");function sXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(sXe,"_classCallCheck");function OK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(OK,"_defineProperties");function lXe(t,e,r){return e&&OK(t.prototype,e),r&&OK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(lXe,"_createClass");function cXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}i(cXe,"_inherits");function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),fI(t,e)}i(fI,"_setPrototypeOf");function fXe(t){var e=dXe();return i(function(){var n=rb(t),a;if(e){var o=rb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return pXe(this,a)},"_createSuperInternal")}i(fXe,"_createSuper");function pXe(t,e){if(e&&(cI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hXe(t)}i(pXe,"_possibleConstructorReturn");function hXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(hXe,"_assertThisInitialized");function dXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(dXe,"_isNativeReflectConstruct");function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),rb(t)}i(rb,"_getPrototypeOf");var vXe=function(t){cXe(r,t);var e=fXe(r);function r(n){var a;return sXe(this,r),a=e.call(this,n),a.state={elapsedTime:0},a.wrapperStyle={width:"100%",height:"100%",display:"flex"},a.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},a.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},a.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},a.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},a}return i(r,"StopWatch"),lXe(r,[{key:"startTimer",value:i(function(){this.timerTick(),this.timerRunning=!0},"startTimer")},{key:"resetTimer",value:i(function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1},"resetTimer")},{key:"timerTick",value:i(function(){var a=this;this.timer=setTimeout(function(){a.setState(function(o){return{elapsedTime:o.elapsedTime+1}}),a.timerTick()},1e3)},"timerTick")},{key:"fmtMSS",value:i(function(a){return(a-(a%=60))/60+(a>9?":":":0")+a},"fmtMSS")},{key:"render",value:i(function(){var a=aXe({},this.props),o=a.recording,u=a.i18n,s=this.state.elapsedTime,c=this.fmtMSS(s);return o&&!this.timerRunning&&this.startTimer(),!o&&this.timerRunning&&this.resetTimer(),o?S("div",{style:this.wrapperStyle},S("div",{style:this.overlayStyle}),S("div",{style:this.infoContainerStyle},S("div",{style:this.infotextStyle},u("recording")),S("div",{style:this.timeStyle},c))):null},"render")}]),r}(Be),SK=vXe;var _K=i(function(t){var e=t.streamActive,r=t.i18n;return e?S("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},S("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):S("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},S("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},"default");function pI(t){return pI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pI(t)}i(pI,"_typeof");function yXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(yXe,"_classCallCheck");function PK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(PK,"_defineProperties");function mXe(t,e,r){return e&&PK(t.prototype,e),r&&PK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(mXe,"_createClass");function gXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hI(t,e)}i(gXe,"_inherits");function hI(t,e){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),hI(t,e)}i(hI,"_setPrototypeOf");function bXe(t){var e=SXe();return i(function(){var n=nb(t),a;if(e){var o=nb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return wXe(this,a)},"_createSuperInternal")}i(bXe,"_createSuper");function wXe(t,e){if(e&&(pI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OXe(t)}i(wXe,"_possibleConstructorReturn");function OXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(OXe,"_assertThisInitialized");function SXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(SXe,"_isNativeReflectConstruct");function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),nb(t)}i(nb,"_getPrototypeOf");function dI(){return dI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dI.apply(this,arguments)}i(dI,"_extends");var _Xe=function(t){gXe(r,t);var e=bXe(r);function r(){return yXe(this,r),e.apply(this,arguments)}return i(r,"RecorderScreen"),mXe(r,[{key:"componentWillUnmount",value:i(function(){var a=this.props.onStop;a()},"componentWillUnmount")},{key:"render",value:i(function(){var a=this,o=this.props,u=o.recording,s=o.stream,c=o.recordedVideo,p={playsinline:!0};return(u||!c&&!u)&&(p.muted=!0,p.autoplay=!0,p.srcObject=s),c&&!u&&(p.muted=!1,p.controls=!0,p.src=c,this.videoElement&&(this.videoElement.srcObject=void 0)),S("div",{className:"uppy uppy-ScreenCapture-container"},S("div",{className:"uppy-ScreenCapture-videoContainer"},S(_K,this.props),S("video",dI({ref:i(function(y){a.videoElement=y},"ref"),className:"uppy-ScreenCapture-video"},p)),S(SK,this.props)),S("div",{className:"uppy-ScreenCapture-buttonContainer"},S(sI,this.props),S(lI,this.props)))},"render")}]),r}(Be),EK=_Xe;var RK={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function yI(t){return yI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yI(t)}i(yI,"_typeof");function TK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(TK,"ownKeys");function vI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(r),!0).forEach(function(n){PXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(vI,"_objectSpread");function PXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(PXe,"_defineProperty");function EXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(EXe,"_classCallCheck");function AK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(AK,"_defineProperties");function RXe(t,e,r){return e&&AK(t.prototype,e),r&&AK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(RXe,"_createClass");function TXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mI(t,e)}i(TXe,"_inherits");function mI(t,e){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),mI(t,e)}i(mI,"_setPrototypeOf");function AXe(t){var e=kXe();return i(function(){var n=ib(t),a;if(e){var o=ib(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return IXe(this,a)},"_createSuperInternal")}i(AXe,"_createSuper");function IXe(t,e){if(e&&(yI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(t)}i(IXe,"_possibleConstructorReturn");function hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(hi,"_assertThisInitialized");function kXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(kXe,"_isNativeReflectConstruct");function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ib(t)}i(ib,"_getPrototypeOf");function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gI.apply(this,arguments)}i(gI,"_extends");var qXe={version:"3.0.1"};function xXe(){var t;return window.MediaRecorder&&((t=navigator.mediaDevices)==null?void 0:t.getDisplayMedia)}i(xXe,"isScreenRecordingSupported");function CXe(){return window.MediaRecorder&&navigator.mediaDevices}i(CXe,"getMediaDevices");var ob=function(t){TXe(r,t);var e=AXe(r);function r(n,a){var o;EXe(this,r),o=e.call(this,n,a),o.mediaDevices=CXe(),o.protocol=location.protocol==="https:"?"https":"http",o.id=o.opts.id||"ScreenCapture",o.title=o.opts.title||"Screencast",o.type="acquirer",o.icon=bK,o.defaultLocale=RK;var u={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return o.opts=vI(vI({},u),a),o.i18nInit(),o.install=o.install.bind(hi(o)),o.setPluginState=o.setPluginState.bind(hi(o)),o.render=o.render.bind(hi(o)),o.start=o.start.bind(hi(o)),o.stop=o.stop.bind(hi(o)),o.startRecording=o.startRecording.bind(hi(o)),o.stopRecording=o.stopRecording.bind(hi(o)),o.submit=o.submit.bind(hi(o)),o.streamInterrupted=o.streamInactivated.bind(hi(o)),o.captureActive=!1,o.capturedMediaFile=null,o}return i(r,"ScreenCapture"),RXe(r,[{key:"install",value:i(function(){if(!xXe())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.videoStream&&this.stop(),this.unmount()},"uninstall")},{key:"start",value:i(function(){var a=this;return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(o){o===!1&&a.parent&&a.parent.hideAllPanels&&(a.parent.hideAllPanels(),a.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))},"start")},{key:"selectVideoStreamSource",value:i(function(){var a=this;return this.videoStream?new Promise(function(o){return o(a.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(o){return a.videoStream=o,a.videoStream.addEventListener("inactive",function(){a.streamInactivated()}),a.setPluginState({streamActive:!0}),o}).catch(function(o){return a.setPluginState({screenRecError:o}),a.userDenied=!0,setTimeout(function(){a.userDenied=!1},1e3),!1})},"selectVideoStreamSource")},{key:"selectAudioStreamSource",value:i(function(){var a=this;return this.audioStream?new Promise(function(o){return o(a.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(o){return a.audioStream=o,a.setPluginState({audioStreamActive:!0}),o}).catch(function(o){return o.name==="NotAllowedError"&&a.uppy.info(a.i18n("micDisabled"),"error",5e3),!1})},"selectAudioStreamSource")},{key:"startRecording",value:i(function(){var a=this,o={};this.capturedMediaFile=null,this.recordingChunks=[];var u=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(s){u&&MediaRecorder.isTypeSupported(u)&&pi(u)&&(o.mimeType=u);var c=[s.getVideoTracks()[0]];a.audioStream&&c.push(a.audioStream.getAudioTracks()[0]),a.outputStream=new MediaStream(c),a.recorder=new MediaRecorder(a.outputStream,o),a.recorder.addEventListener("dataavailable",function(p){a.recordingChunks.push(p.data)}),a.recorder.start(),a.setPluginState({recording:!0})}).catch(function(s){a.uppy.log(s,"error")})},"startRecording")},{key:"streamInactivated",value:i(function(){var a=vI({},this.getPluginState()),o=a.recordedVideo,u=a.recording;!o&&!u?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():u&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})},"streamInactivated")},{key:"stopRecording",value:i(function(){var a=this,o=new Promise(function(u){a.recorder.addEventListener("stop",function(){u()}),a.recorder.stop()});return o.then(function(){return a.setPluginState({recording:!1}),a.getVideo()}).then(function(u){a.capturedMediaFile=u,a.setPluginState({recordedVideo:URL.createObjectURL(u.data)})}).then(function(){a.recordingChunks=null,a.recorder=null},function(u){throw a.recordingChunks=null,a.recorder=null,u})},"stopRecording")},{key:"submit",value:i(function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(a){a.isRestriction||this.uppy.log(a,"error")}},"submit")},{key:"stop",value:i(function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(a){a.stop()}),this.videoStream.getAudioTracks().forEach(function(a){a.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(a){a.stop()}),this.audioStream.getVideoTracks().forEach(function(a){a.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(a){a.stop()}),this.outputStream.getVideoTracks().forEach(function(a){a.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1},"stop")},{key:"getVideo",value:i(function(){var a=this.recordingChunks[0].type,o=pi(a);if(!o)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(a,'"')));var u="screencap-".concat(Date.now(),".").concat(o),s=new Blob(this.recordingChunks,{type:a}),c={source:this.id,name:u,data:new Blob([s],{type:a}),type:a};return Promise.resolve(c)},"getVideo")},{key:"render",value:i(function(){var a=this.getPluginState();return!a.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),S(EK,gI({},a,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))},"render")}]),r}(Se);ob.VERSION=qXe.version;var $K=Te(IK(),1);function wI(t,e,r){return new Promise(function(n){t.toBlob(n,e,r)})}i(wI,"canvasToBlob");function OI(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}i(OI,"supportsMediaRecorder");var ub=i(function(){return S("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},S("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))},"default");var kK=i(function(t){var e=t.onSnapshot,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:e,"data-uppy-super-focusable":!0},ub())},"default");function SI(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,a=t.i18n;return e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("stopRecording"),"aria-label":a("stopRecording"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("rect",{x:"15",y:"15",width:"70",height:"70"}))):S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("startRecording"),"aria-label":a("startRecording"),onClick:r,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("circle",{cx:"50",cy:"50",r:"40"})))}i(SI,"RecordButton");function _I(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}i(_I,"formatSeconds");function PI(t){var e=t.recordingLengthSeconds,r=t.i18n,n=_I(e);return S("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}i(PI,"RecordingLength");var qK=i(function(t){var e=t.currentDeviceId,r=t.videoSources,n=t.onChangeVideoSource;return S("div",{className:"uppy-Webcam-videoSource"},S("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:i(function(o){n(o.target.value)},"onChange")},r.map(function(a){return S("option",{key:a.deviceId,value:a.deviceId,selected:a.deviceId===e},a.label)})))},"default");function NXe(t){var e=t.onSubmit,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}i(NXe,"SubmitButton");var xK=NXe;function DXe(t){var e=t.onDiscard,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("g",{fill:"#FFF",fillRule:"evenodd"},S("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),S("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}i(DXe,"DiscardButton");var CK=DXe;function EI(t){return EI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EI(t)}i(EI,"_typeof");function UXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(UXe,"_classCallCheck");function FK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FK,"_defineProperties");function MXe(t,e,r){return e&&FK(t.prototype,e),r&&FK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(MXe,"_createClass");function BXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RI(t,e)}i(BXe,"_inherits");function RI(t,e){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),RI(t,e)}i(RI,"_setPrototypeOf");function $Xe(t){var e=HXe();return i(function(){var n=lb(t),a;if(e){var o=lb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return zXe(this,a)},"_createSuperInternal")}i($Xe,"_createSuper");function zXe(t,e){if(e&&(EI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GXe(t)}i(zXe,"_possibleConstructorReturn");function GXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(GXe,"_assertThisInitialized");function HXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(HXe,"_isNativeReflectConstruct");function lb(t){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),lb(t)}i(lb,"_getPrototypeOf");function TI(){return TI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TI.apply(this,arguments)}i(TI,"_extends");function sb(t,e){return t.includes(e)}i(sb,"isModeAvailable");var VXe=function(t){BXe(r,t);var e=$Xe(r);function r(){return UXe(this,r),e.apply(this,arguments)}return i(r,"CameraScreen"),MXe(r,[{key:"componentDidMount",value:i(function(){var a=this.props.onFocus;a()},"componentDidMount")},{key:"componentWillUnmount",value:i(function(){var a=this.props.onStop;a()},"componentWillUnmount")},{key:"render",value:i(function(){var a=this,o=this.props,u=o.src,s=o.recordedVideo,c=o.recording,p=o.modes,h=o.supportsRecording,y=o.videoSources,m=o.showVideoSourceDropdown,w=o.showRecordingLength,_=o.onSubmit,R=o.i18n,T=o.mirror,E=o.onSnapshot,A=o.onStartRecording,C=o.onStopRecording,U=o.onDiscardRecordedVideo,G=o.recordingLengthSeconds,M=!!s,z=!M&&h&&(sb(p,"video-only")||sb(p,"audio-only")||sb(p,"video-audio")),W=!M&&sb(p,"picture"),Y=h&&w&&!M,f=m&&y&&y.length>1,l={playsinline:!0};return s?(l.muted=!1,l.controls=!0,l.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)):(l.muted=!0,l.autoplay=!0,l.srcObject=u),S("div",{className:"uppy uppy-Webcam-container"},S("div",{className:"uppy-Webcam-videoContainer"},S("video",TI({ref:i(function(v){return a.videoElement=v},"ref"),className:"uppy-Webcam-video  ".concat(T?"uppy-Webcam-video--mirrored":"")},l))),S("div",{className:"uppy-Webcam-footer"},S("div",{className:"uppy-Webcam-videoSourceContainer"},f?qK(this.props):null),S("div",{className:"uppy-Webcam-buttonContainer"},W&&S(kK,{onSnapshot:E,i18n:R}),z&&S(SI,{recording:c,onStartRecording:A,onStopRecording:C,i18n:R}),M&&S(xK,{onSubmit:_,i18n:R}),M&&S(CK,{onDiscard:U,i18n:R})),S("div",{className:"uppy-Webcam-recordingLength"},Y&&S(PI,{recordingLengthSeconds:G,i18n:R}))))},"render")}]),r}(Be),LK=VXe;var jK=i(function(t){var e=t.icon,r=t.i18n,n=t.hasCamera;return S("div",{className:"uppy-Webcam-permissons"},S("div",{className:"uppy-Webcam-permissonsIcon"},e()),S("h1",{className:"uppy-Webcam-title"},r(n?"allowAccessTitle":"noCameraTitle")),S("p",null,r(n?"allowAccessDescription":"noCameraDescription")))},"default");var NK={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function jp(t){return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}i(jp,"_typeof");function II(){"use strict";II=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&jp(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(II,"_regeneratorRuntime");function DK(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(DK,"asyncGeneratorStep");function WXe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){DK(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){DK(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(WXe,"_asyncToGenerator");function UK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(UK,"ownKeys");function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UK(Object(r),!0).forEach(function(n){KXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ia,"_objectSpread");function KXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(KXe,"_defineProperty");function YXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(YXe,"_classCallCheck");function MK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(MK,"_defineProperties");function XXe(t,e,r){return e&&MK(t.prototype,e),r&&MK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(XXe,"_createClass");function cb(){return typeof Reflect!="undefined"&&Reflect.get?cb=Reflect.get.bind():cb=i(function(e,r,n){var a=JXe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),cb.apply(this,arguments)}i(cb,"_get");function JXe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Rl(t),t!==null););return t}i(JXe,"_superPropBase");function QXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kI(t,e)}i(QXe,"_inherits");function kI(t,e){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),kI(t,e)}i(kI,"_setPrototypeOf");function ZXe(t){var e=tJe();return i(function(){var n=Rl(t),a;if(e){var o=Rl(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return eJe(this,a)},"_createSuperInternal")}i(ZXe,"_createSuper");function eJe(t,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(t)}i(eJe,"_possibleConstructorReturn");function tr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(tr,"_assertThisInitialized");function tJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(tJe,"_isNativeReflectConstruct");function Rl(t){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Rl(t)}i(Rl,"_getPrototypeOf");function qI(){return qI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qI.apply(this,arguments)}i(qI,"_extends");function Lp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Lp,"_classPrivateFieldLooseBase");var rJe=0;function nJe(t){return"__private_"+rJe+++"_"+t}i(nJe,"_classPrivateFieldLooseKey");var iJe={version:"3.2.0"};function BK(t){return t[0]==="."?Ff[t.slice(1)]:t}i(BK,"toMimeType");function oJe(t){return/^video\/[^*]+$/.test(t)}i(oJe,"isVideoMimeType");function aJe(t){return/^image\/[^*]+$/.test(t)}i(aJe,"isImageMimeType");function uJe(){return navigator.mediaDevices}i(uJe,"getMediaDevices");function AI(t,e){return t.includes(e)}i(AI,"isModeAvailable");var Ln=nJe("enableMirror"),fb=function(t){QXe(r,t);var e=ZXe(r);function r(n,a){var o;YXe(this,r),o=e.call(this,n,a),Object.defineProperty(tr(o),Ln,{writable:!0,value:void 0}),o.mediaDevices=uJe(),o.supportsUserMedia=!!o.mediaDevices,o.protocol=location.protocol.match(/https/i)?"https":"http",o.id=o.opts.id||"Webcam",o.type="acquirer",o.capturedMediaFile=null,o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),S("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},o.defaultLocale=NK;var u={onBeforeSnapshot:i(function(){return Promise.resolve()},"onBeforeSnapshot"),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,$K.default)({tablet:!0})};return o.opts=ia(ia({},u),a),o.i18nInit(),o.title=o.i18n("pluginNameCamera"),Lp(tr(o),Ln)[Ln]=o.opts.mirror,o.install=o.install.bind(tr(o)),o.setPluginState=o.setPluginState.bind(tr(o)),o.render=o.render.bind(tr(o)),o.start=o.start.bind(tr(o)),o.stop=o.stop.bind(tr(o)),o.takeSnapshot=o.takeSnapshot.bind(tr(o)),o.startRecording=o.startRecording.bind(tr(o)),o.stopRecording=o.stopRecording.bind(tr(o)),o.discardRecordedVideo=o.discardRecordedVideo.bind(tr(o)),o.submit=o.submit.bind(tr(o)),o.oneTwoThreeSmile=o.oneTwoThreeSmile.bind(tr(o)),o.focus=o.focus.bind(tr(o)),o.changeVideoSource=o.changeVideoSource.bind(tr(o)),o.webcamActive=!1,o.opts.countdown&&(o.opts.onBeforeSnapshot=o.oneTwoThreeSmile),o.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),o}return i(r,"Webcam"),XXe(r,[{key:"setOptions",value:i(function(a){cb(Rl(r.prototype),"setOptions",this).call(this,ia(ia({},a),{},{videoConstraints:ia(ia({},this.opts.videoConstraints),a==null?void 0:a.videoConstraints)}))},"setOptions")},{key:"hasCameraCheck",value:i(function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(a){return a.some(function(o){return o.kind==="videoinput"})}):Promise.resolve(!1)},"hasCameraCheck")},{key:"isAudioOnly",value:i(function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"},"isAudioOnly")},{key:"getConstraints",value:i(function(a){a===void 0&&(a=null);var o=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,u=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),s=ia(ia({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),a?{deviceId:a,facingMode:null}:{});return{audio:o,video:u?s:!1}},"getConstraints")},{key:"start",value:i(function(a){var o=this;if(a===void 0&&(a=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(Lp(this,Ln)[Ln]=!0);var u=this.getConstraints(a&&a.deviceId?a.deviceId:null);this.hasCameraCheck().then(function(s){return o.setPluginState({hasCamera:s}),o.mediaDevices.getUserMedia(u).then(function(c){o.stream=c;var p=null,h=o.isAudioOnly()?c.getAudioTracks():c.getVideoTracks();!a||!a.deviceId?p=h[0].getSettings().deviceId:h.forEach(function(y){y.getSettings().deviceId===a.deviceId&&(p=y.getSettings().deviceId)}),o.updateVideoSources(),o.setPluginState({currentDeviceId:p,cameraReady:!0})}).catch(function(c){o.setPluginState({cameraReady:!1,cameraError:c}),o.uppy.info(c.message,"error")})})},"start")},{key:"getMediaRecorderOptions",value:i(function(){var a={};if(MediaRecorder.isTypeSupported){var o=this.uppy.opts.restrictions,u=[];this.opts.preferredVideoMimeType?u=[this.opts.preferredVideoMimeType]:o.allowedFileTypes&&(u=o.allowedFileTypes.map(BK).filter(oJe));var s=i(function(h){return MediaRecorder.isTypeSupported(h)&&pi(h)},"filterSupportedTypes"),c=u.filter(s);c.length>0&&(a.mimeType=c[0])}return a},"getMediaRecorderOptions")},{key:"startRecording",value:i(function(){var a=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var o=!1;this.recorder.addEventListener("dataavailable",function(u){a.recordingChunks.push(u.data);var s=a.uppy.opts.restrictions;if(a.recordingChunks.length>1&&s.maxFileSize!=null&&!o){var c=a.recordingChunks.reduce(function(m,w){return m+w.size},0),p=(c-a.recordingChunks[0].size)/(a.recordingChunks.length-1),h=p*3,y=Math.max(0,s.maxFileSize-h);c>y&&(o=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),a.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var u=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:u+1})},1e3)),this.setPluginState({isRecording:!0})},"startRecording")},{key:"stopRecording",value:i(function(){var a=this,o=new Promise(function(u){a.recorder.addEventListener("stop",function(){u()}),a.recorder.stop(),a.opts.showRecordingLength&&(clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0}))});return o.then(function(){return a.setPluginState({isRecording:!1}),a.getVideo()}).then(function(u){try{a.capturedMediaFile=u,a.setPluginState({recordedVideo:URL.createObjectURL(u.data)}),Lp(a,Ln)[Ln]=!1}catch(s){s.isRestriction||a.uppy.log(s)}}).then(function(){a.recordingChunks=null,a.recorder=null},function(u){throw a.recordingChunks=null,a.recorder=null,u})},"stopRecording")},{key:"discardRecordedVideo",value:i(function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(Lp(this,Ln)[Ln]=!0),this.capturedMediaFile=null},"discardRecordedVideo")},{key:"submit",value:i(function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(a){a.isRestriction||this.uppy.log(a,"error")}},"submit")},{key:"stop",value:function(){var n=WXe(II().mark(i(function o(){var u=this,s,c;return II().wrap(i(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.stream&&(s=this.stream.getAudioTracks(),c=this.stream.getVideoTracks(),s.concat(c).forEach(function(y){return y.stop()})),!this.recorder){h.next=4;break}return h.next=4,new Promise(function(y){u.recorder.addEventListener("stop",y,{once:!0}),u.recorder.stop(),u.opts.showRecordingLength&&clearInterval(u.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return h.stop()}},"_callee$"),o,this)},"_callee")));function a(){return n.apply(this,arguments)}return i(a,"stop"),a}()},{key:"getVideoElement",value:i(function(){return this.el.querySelector(".uppy-Webcam-video")},"getVideoElement")},{key:"oneTwoThreeSmile",value:i(function(){var a=this;return new Promise(function(o,u){var s=a.opts.countdown,c=setInterval(function(){if(!a.webcamActive)return clearInterval(c),a.captureInProgress=!1,u(new Error("Webcam is not active"));s>0?(a.uppy.info("".concat(s,"..."),"warning",800),s--):(clearInterval(c),a.uppy.info(a.i18n("smile"),"success",1500),setTimeout(function(){return o()},1500))},1e3)})},"oneTwoThreeSmile")},{key:"takeSnapshot",value:i(function(){var a=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(o){var u=jp(o)==="object"?o.message:o;return a.uppy.info(u,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(u)))}).then(function(){return a.getImage()}).then(function(o){a.captureInProgress=!1;try{a.uppy.addFile(o)}catch(u){u.isRestriction||a.uppy.log(u)}},function(o){throw a.captureInProgress=!1,o}))},"takeSnapshot")},{key:"getImage",value:i(function(){var a=this,o=this.getVideoElement();if(!o)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var u=o.videoWidth,s=o.videoHeight,c=document.createElement("canvas");c.width=u,c.height=s;var p=c.getContext("2d");p.drawImage(o,0,0);var h=this.uppy.opts.restrictions,y=[];this.opts.preferredImageMimeType?y=[this.opts.preferredImageMimeType]:h.allowedFileTypes&&(y=h.allowedFileTypes.map(BK).filter(aJe));var m=y[0]||"image/jpeg",w=pi(m)||"jpg",_="cam-".concat(Date.now(),".").concat(w);return wI(c,m).then(function(R){return{source:a.id,name:_,data:new Blob([R],{type:m}),type:m}})},"getImage")},{key:"getVideo",value:i(function(){var a=this.recordingChunks.find(function(p){var h;return((h=p.type)==null?void 0:h.length)>0}).type,o=pi(a);if(!o)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(a,'"')));var u="webcam-".concat(Date.now(),".").concat(o),s=new Blob(this.recordingChunks,{type:a}),c={source:this.id,name:u,data:new Blob([s],{type:a}),type:a};return Promise.resolve(c)},"getVideo")},{key:"focus",value:i(function(){var a=this;!this.opts.countdown||setTimeout(function(){a.uppy.info(a.i18n("smile"),"success",1500)},1e3)},"focus")},{key:"changeVideoSource",value:i(function(a){this.stop(),this.start({deviceId:a})},"changeVideoSource")},{key:"updateVideoSources",value:i(function(){var a=this;this.mediaDevices.enumerateDevices().then(function(o){a.setPluginState({videoSources:o.filter(function(u){return u.kind==="videoinput"})})})},"updateVideoSources")},{key:"render",value:i(function(){this.webcamActive||this.start();var a=this.getPluginState();return!a.cameraReady||!a.hasCamera?S(jK,{icon:ub,i18n:this.i18n,hasCamera:a.hasCamera}):S(LK,qI({},a,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:OI(),recording:a.isRecording,mirror:Lp(this,Ln)[Ln],src:this.stream}))},"render")},{key:"install",value:i(function(){var a=this,o=this.opts,u=o.mobileNativeCamera,s=o.modes,c=o.facingMode,p=o.videoConstraints;if(u){this.uppy.getPlugin("Dashboard").setOptions({showNativeVideoCameraButton:AI(s,"video-only")||AI(s,"video-audio"),showNativePhotoCameraButton:AI(s,"picture"),nativeCameraFacingMode:(p==null?void 0:p.facingMode)||c});return}this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var h=this.opts.target;h&&this.mount(h,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(a.updateVideoSources(),a.stream){var y=!0,m=a.getPluginState(),w=m.videoSources,_=m.currentDeviceId;w.forEach(function(R){_===R.deviceId&&(y=!1)}),y&&(a.stop(),a.start())}})},"install")},{key:"uninstall",value:i(function(){this.stop(),this.unmount()},"uninstall")},{key:"onUnmount",value:i(function(){this.stop()},"onUnmount")}]),r}(Se);fb.VERSION=iJe.version;function sJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(sJe,"_classCallCheck");function zK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(zK,"_defineProperties");function lJe(t,e,r){return e&&zK(t.prototype,e),r&&zK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(lJe,"_createClass");function ge(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(ge,"_classPrivateFieldLooseBase");var cJe=0;function Ar(t){return"__private_"+cJe+++"_"+t}i(Ar,"_classPrivateFieldLooseKey");function fJe(){return new Error("Cancelled")}i(fJe,"createCancelError");var Gr=Ar("activeRequests"),cr=Ar("queuedHandlers"),zr=Ar("paused"),Ou=Ar("pauseTimer"),lr=Ar("downLimit"),Su=Ar("upperLimit"),eo=Ar("rateLimitingTimer"),Np=Ar("call"),to=Ar("queueNext"),FI=Ar("next"),xI=Ar("queue"),LI=Ar("dequeue"),CI=Ar("resume"),_u=Ar("increaseLimit"),hn=function(){function t(e){var r=this;sJe(this,t),Object.defineProperty(this,LI,{value:yJe}),Object.defineProperty(this,xI,{value:vJe}),Object.defineProperty(this,FI,{value:dJe}),Object.defineProperty(this,to,{value:hJe}),Object.defineProperty(this,Np,{value:pJe}),Object.defineProperty(this,Gr,{writable:!0,value:0}),Object.defineProperty(this,cr,{writable:!0,value:[]}),Object.defineProperty(this,zr,{writable:!0,value:!1}),Object.defineProperty(this,Ou,{writable:!0,value:void 0}),Object.defineProperty(this,lr,{writable:!0,value:1}),Object.defineProperty(this,Su,{writable:!0,value:void 0}),Object.defineProperty(this,eo,{writable:!0,value:void 0}),Object.defineProperty(this,CI,{writable:!0,value:i(function(){return r.resume()},"value")}),Object.defineProperty(this,_u,{writable:!0,value:i(function(){if(ge(r,zr)[zr]){ge(r,eo)[eo]=setTimeout(ge(r,_u)[_u],0);return}ge(r,lr)[lr]=r.limit,r.limit=Math.ceil((ge(r,Su)[Su]+ge(r,lr)[lr])/2);for(var a=ge(r,lr)[lr];a<=r.limit;a++)ge(r,to)[to]();ge(r,Su)[Su]-ge(r,lr)[lr]>3?ge(r,eo)[eo]=setTimeout(ge(r,_u)[_u],2e3):ge(r,lr)[lr]=Math.floor(ge(r,lr)[lr]/2)},"value")}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}return i(t,"RateLimitedQueue"),lJe(t,[{key:"run",value:i(function(r,n){return!ge(this,zr)[zr]&&ge(this,Gr)[Gr]<this.limit?ge(this,Np)[Np](r):ge(this,xI)[xI](r,n)},"run")},{key:"wrapPromiseFunction",value:i(function(r,n){var a=this;return function(){for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];var c,p=new Promise(function(h,y){c=a.run(function(){var m,w;try{w=Promise.resolve(r.apply(void 0,u))}catch(_){w=Promise.reject(_)}return w.then(function(_){m?y(m):(c.done(),h(_))},function(_){m?y(m):(c.done(),y(_))}),function(){m=fJe()}},n)});return p.abort=function(){c.abort()},p}},"wrapPromiseFunction")},{key:"resume",value:i(function(){ge(this,zr)[zr]=!1,clearTimeout(ge(this,Ou)[Ou]);for(var r=0;r<this.limit;r++)ge(this,to)[to]()},"resume")},{key:"pause",value:i(function(r){r===void 0&&(r=null),ge(this,zr)[zr]=!0,clearTimeout(ge(this,Ou)[Ou]),r!=null&&(ge(this,Ou)[Ou]=setTimeout(ge(this,CI)[CI],r))},"pause")},{key:"rateLimit",value:i(function(r){clearTimeout(ge(this,eo)[eo]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(ge(this,Su)[Su]=this.limit-1,this.limit=ge(this,lr)[lr],ge(this,eo)[eo]=setTimeout(ge(this,_u)[_u],r))},"rateLimit")},{key:"isPaused",get:i(function(){return ge(this,zr)[zr]},"get")}]),t}();function pJe(t){var e=this;ge(this,Gr)[Gr]+=1;var r=!1,n;try{n=t()}catch(a){throw ge(this,Gr)[Gr]-=1,a}return{abort:i(function(){r||(r=!0,ge(e,Gr)[Gr]-=1,n(),ge(e,to)[to]())},"abort"),done:i(function(){r||(r=!0,ge(e,Gr)[Gr]-=1,ge(e,to)[to]())},"done")}}i(pJe,"_call2");function hJe(){var t=this;queueMicrotask(function(){return ge(t,FI)[FI]()})}i(hJe,"_queueNext2");function dJe(){if(!(ge(this,zr)[zr]||ge(this,Gr)[Gr]>=this.limit)&&ge(this,cr)[cr].length!==0){var t=ge(this,cr)[cr].shift(),e=ge(this,Np)[Np](t.fn);t.abort=e.abort,t.done=e.done}}i(dJe,"_next2");function vJe(t,e){var r=this;e===void 0&&(e={});var n={fn:t,priority:e.priority||0,abort:i(function(){ge(r,LI)[LI](n)},"abort"),done:i(function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},"done")},a=ge(this,cr)[cr].findIndex(function(o){return n.priority>o.priority});return a===-1?ge(this,cr)[cr].push(n):ge(this,cr)[cr].splice(a,0,n),n}i(vJe,"_queue2");function yJe(t){var e=ge(this,cr)[cr].indexOf(t);e!==-1&&ge(this,cr)[cr].splice(e,1)}i(yJe,"_dequeue2");var oa=Symbol("__queue");var GK=Te(Cf(),1);function mJe(t,e,r){var n=e.progress,a=e.bytesUploaded,o=e.bytesTotal;n&&(t.uppy.log("Upload progress: ".concat(n)),t.uppy.emit("upload-progress",r,{uploader:t,bytesUploaded:a,bytesTotal:o}))}i(mJe,"emitSocketProgress");var aa=(0,GK.default)(mJe,300,{leading:!0,trailing:!0});function ro(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,r=e.exec(t)[1],n=/^http:\/\//i.test(t)?"ws":"wss";return"".concat(n,"://").concat(r)}i(ro,"getSocketHost");function gJe(t,e){return OJe(t)||wJe(t,e)||WK(t,e)||bJe()}i(gJe,"_slicedToArray");function bJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(bJe,"_nonIterableRest");function wJe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(wJe,"_iterableToArrayLimit");function OJe(t){if(Array.isArray(t))return t}i(OJe,"_arrayWithHoles");function SJe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=WK(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(SJe,"_createForOfIteratorHelper");function WK(t,e){if(!!t){if(typeof t=="string")return HK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HK(t,e)}}i(WK,"_unsupportedIterableToArray");function HK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(HK,"_arrayLikeToArray");function _Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_Je,"_classCallCheck");function VK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(VK,"_defineProperties");function PJe(t,e,r){return e&&VK(t.prototype,e),r&&VK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(PJe,"_createClass");function Dp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Dp,"_classPrivateFieldLooseBase");var EJe=0;function KK(t){return"__private_"+EJe+++"_"+t}i(KK,"_classPrivateFieldLooseKey");var Pu=KK("emitter"),Up=KK("events"),dn=function(){function t(e){_Je(this,t),Object.defineProperty(this,Pu,{writable:!0,value:void 0}),Object.defineProperty(this,Up,{writable:!0,value:[]}),Dp(this,Pu)[Pu]=e}return i(t,"EventTracker"),PJe(t,[{key:"on",value:i(function(r,n){return Dp(this,Up)[Up].push([r,n]),Dp(this,Pu)[Pu].on(r,n)},"on")},{key:"remove",value:i(function(){var r=SJe(Dp(this,Up)[Up].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var a=gJe(n.value,2),o=a[0],u=a[1];Dp(this,Pu)[Pu].off(o,u)}}catch(s){r.e(s)}finally{r.f()}},"remove")}]),t}();function RJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(RJe,"_classCallCheck");function YK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YK,"_defineProperties");function TJe(t,e,r){return e&&YK(t.prototype,e),r&&YK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(TJe,"_createClass");function vn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(vn,"_classPrivateFieldLooseBase");var AJe=0;function pb(t){return"__private_"+AJe+++"_"+t}i(pb,"_classPrivateFieldLooseKey");var no=pb("aliveTimer"),Eu=pb("isDone"),Mp=pb("onTimedOut"),Ru=pb("timeout"),IJe=function(){function t(e,r){RJe(this,t),Object.defineProperty(this,no,{writable:!0,value:void 0}),Object.defineProperty(this,Eu,{writable:!0,value:!1}),Object.defineProperty(this,Mp,{writable:!0,value:void 0}),Object.defineProperty(this,Ru,{writable:!0,value:void 0}),vn(this,Ru)[Ru]=e,vn(this,Mp)[Mp]=r}return i(t,"ProgressTimeout"),TJe(t,[{key:"progress",value:i(function(){vn(this,Eu)[Eu]||vn(this,Ru)[Ru]>0&&(clearTimeout(vn(this,no)[no]),vn(this,no)[no]=setTimeout(vn(this,Mp)[Mp],vn(this,Ru)[Ru]))},"progress")},{key:"done",value:i(function(){vn(this,Eu)[Eu]||(clearTimeout(vn(this,no)[no]),vn(this,no)[no]=null,vn(this,Eu)[Eu]=!0)},"done")}]),t}(),Bp=IJe;function kJe(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}i(kJe,"isNetworkError");var Tu=kJe;function UI(t){return UI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UI(t)}i(UI,"_typeof");function zp(){"use strict";zp=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&UI(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(zp,"_regeneratorRuntime");function XK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(XK,"ownKeys");function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XK(Object(r),!0).forEach(function(n){qJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(di,"_objectSpread");function qJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(qJe,"_defineProperty");function JK(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(JK,"asyncGeneratorStep");function eY(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){JK(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){JK(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(eY,"_asyncToGenerator");function xJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(xJe,"_classCallCheck");function QK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(QK,"_defineProperties");function CJe(t,e,r){return e&&QK(t.prototype,e),r&&QK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(CJe,"_createClass");function Ir(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Ir,"_classPrivateFieldLooseBase");var FJe=0;function qu(t){return"__private_"+FJe+++"_"+t}i(qu,"_classPrivateFieldLooseKey");function ZK(t,e){if(Tu(t))return new xn(e,t);var r=new ni("Upload error",{cause:e});return r.request=t,r}i(ZK,"buildResponseError");function LJe(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}i(LJe,"setTypeInBlob");function jJe(t,e,r){var n=Array.isArray(r.allowedMetaFields)?r.allowedMetaFields:Object.keys(e);n.forEach(function(a){t.append(a,e[a])})}i(jJe,"addMetadata");function NJe(t,e){var r=new FormData;jJe(r,t.meta,e);var n=LJe(t);return t.name?r.append(e.fieldName,n,t.meta.name):r.append(e.fieldName,n),r}i(NJe,"createFormDataUpload");var DJe=i(function(e){return e.data},"createBareUpload"),$p=qu("queueRequestSocketToken"),Au=qu("getOptions"),Iu=qu("addEventHandlerForFile"),ku=qu("addEventHandlerIfFileStillExists"),jI=qu("uploadLocalFile"),NI=qu("requestSocketToken"),DI=qu("uploadRemoteFile"),tY=function(){function t(e,r){var n=this;xJe(this,t),Object.defineProperty(this,DI,{value:zJe}),Object.defineProperty(this,jI,{value:$Je}),Object.defineProperty(this,ku,{value:BJe}),Object.defineProperty(this,Iu,{value:MJe}),Object.defineProperty(this,Au,{value:UJe}),Object.defineProperty(this,$p,{writable:!0,value:void 0}),Object.defineProperty(this,NI,{writable:!0,value:function(){var a=eY(zp().mark(i(function u(s){var c,p,h,y,m;return zp().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:return c=Ir(n,Au)[Au](s),p=s.remote.providerOptions.provider?Me:ht,h=new p(n.uppy,s.remote.providerOptions),y=Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(s.meta),s.tus&&Object.assign(c,s.tus),_.next=7,h.post(s.remote.url,di(di({},s.remote.body),{},{protocol:"multipart",endpoint:c.endpoint,size:s.data.size,fieldname:c.fieldName,metadata:Object.fromEntries(y.map(function(R){return[R,s.meta[R]]})),httpMethod:c.method,useFormData:c.formData,headers:c.headers}));case 7:return m=_.sent,_.abrupt("return",m.token);case 9:case"end":return _.stop()}},"_callee$"),u)},"_callee")));function o(u){return a.apply(this,arguments)}return i(o,"value"),o}()}),this.uppy=e,this.opts=di({validateStatus:i(function(o){return o>=200&&o<300},"validateStatus")},r),this.requests=r[oa],this.uploaderEvents=Object.create(null),this.i18n=r.i18n,Ir(this,$p)[$p]=this.requests.wrapPromiseFunction(Ir(this,NI)[NI])}return i(t,"MiniXHRUpload"),CJe(t,[{key:"uploadFile",value:i(function(r,n,a){var o=this.uppy.getFile(r);if(o.error)throw new Error(o.error);return o.isRemote?Ir(this,DI)[DI](o,n,a):Ir(this,jI)[jI](o,n,a)},"uploadFile")},{key:"connectToServerSocket",value:i(function(r){var n=this;return new Promise(function(a,o){var u=Ir(n,Au)[Au](r),s=r.serverToken,c=ro(r.remote.companionUrl),p=new ii({target:"".concat(c,"/api/").concat(s)});n.uploaderEvents[r.id]=new dn(n.uppy);var h=n.requests.run(function(){return r.isPaused&&p.send("pause",{}),function(){return p.close()}});Ir(n,Iu)[Iu]("file-removed",r.id,function(){p.send("cancel",{}),h.abort(),a("upload ".concat(r.id," was removed"))}),Ir(n,ku)[ku]("cancel-all",r.id,function(y){var m=y===void 0?{}:y,w=m.reason;w==="user"&&(p.send("cancel",{}),h.abort()),a("upload ".concat(r.id," was canceled"))}),Ir(n,Iu)[Iu]("upload-retry",r.id,function(){p.send("pause",{}),p.send("resume",{})}),Ir(n,ku)[ku]("retry-all",r.id,function(){p.send("pause",{}),p.send("resume",{})}),p.on("progress",function(y){return aa(n,y,r)}),p.on("success",function(y){var m=u.getResponseData(y.response.responseText,y.response),w=m[u.responseUrlFieldName],_={status:y.response.status,body:m,uploadURL:w,bytesUploaded:y.bytesUploaded};return n.uppy.emit("upload-success",r,_),h.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),a()}),p.on("error",function(y){var m=y.response,w=m?u.getResponseError(m.responseText,m):new ni(y.error.message,{cause:y.error});n.uppy.emit("upload-error",r,w),h.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),o(w)})}).catch(function(a){return n.uppy.emit("upload-error",r,a),Promise.reject(a)})},"connectToServerSocket")}]),t}();function UJe(t){var e,r=this.uppy,n=r.getState().xhrUpload,a=di(di(di(di({},this.opts),n||{}),t.xhrUpload||{}),{},{headers:di(di(di({},this.opts.headers),n==null?void 0:n.headers),(e=t.xhrUpload)==null?void 0:e.headers)});return a}i(UJe,"_getOptions2");function MJe(t,e,r){this.uploaderEvents[e].on(t,function(n){var a,o=(a=n==null?void 0:n.id)!=null?a:n;e===o&&r()})}i(MJe,"_addEventHandlerForFile2");function BJe(t,e,r){var n=this;this.uploaderEvents[e].on(t,function(){n.uppy.getFile(e)&&r.apply(void 0,arguments)})}i(BJe,"_addEventHandlerIfFileStillExists2");function $Je(t,e,r){var n=this,a=Ir(this,Au)[Au](t);return this.uppy.log("uploading ".concat(e," of ").concat(r)),new Promise(function(o,u){var s=a.formData?NJe(t,a):DJe(t,a),c=new XMLHttpRequest;n.uploaderEvents[t.id]=new dn(n.uppy);var p=new Bp(a.timeout,function(){c.abort(),y.done();var m=new Error(n.i18n("timedOut",{seconds:Math.ceil(a.timeout/1e3)}));n.uppy.emit("upload-error",t,m),u(m)}),h=sn();c.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(h," started"))}),c.upload.addEventListener("progress",function(m){n.uppy.log("[AwsS3/XHRUpload] ".concat(h," progress: ").concat(m.loaded," / ").concat(m.total)),p.progress(),m.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:m.loaded,bytesTotal:m.total})}),c.addEventListener("load",function(m){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(h," finished")),p.done(),y.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null),a.validateStatus(m.target.status,c.responseText,c)){var w=a.getResponseData(c.responseText,c),_=w[a.responseUrlFieldName],R={status:m.target.status,body:w,uploadURL:_};return n.uppy.emit("upload-success",t,R),_&&n.uppy.log("Download ".concat(t.name," from ").concat(_)),o(t)}var T=a.getResponseData(c.responseText,c),E=ZK(c,a.getResponseError(c.responseText,c)),A={status:m.target.status,body:T};return n.uppy.emit("upload-error",t,E,A),u(E)}),c.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(h," errored")),p.done(),y.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null);var m=ZK(c,a.getResponseError(c.responseText,c));return n.uppy.emit("upload-error",t,m),u(m)}),c.open(a.method.toUpperCase(),a.endpoint,!0),c.withCredentials=Boolean(a.withCredentials),a.responseType!==""&&(c.responseType=a.responseType),Object.keys(a.headers).forEach(function(m){c.setRequestHeader(m,a.headers[m])});var y=n.requests.run(function(){return c.send(s),function(){p.done(),c.abort()}},{priority:1});Ir(n,Iu)[Iu]("file-removed",t.id,function(){y.abort(),u(new Error("File removed"))}),Ir(n,ku)[ku]("cancel-all",t.id,function(m){var w=m===void 0?{}:m,_=w.reason;_==="user"&&y.abort(),u(new Error("Upload cancelled"))})})}i($Je,"_uploadLocalFile2");function zJe(t){return MI.apply(this,arguments)}i(zJe,"_uploadRemoteFile2");function MI(){return MI=eY(zp().mark(i(function t(e){var r;return zp().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e.serverToken){a.next=3;break}return a.abrupt("return",this.connectToServerSocket(e));case 3:return a.next=5,Ir(this,$p)[$p](e);case 5:return r=a.sent,this.uppy.setFileState(e.id,{serverToken:r}),a.abrupt("return",this.connectToServerSocket(this.uppy.getFile(e.id)));case 10:throw a.prev=10,a.t0=a.catch(0),this.uppy.emit("upload-error",e,a.t0),a.t0;case 14:case"end":return a.stop()}},"_callee2$"),t,this,[[0,10]])},"_callee2"))),MI.apply(this,arguments)}i(MI,"_uploadRemoteFile3");function GJe(t){return t.replace(/;.*$/,"")}i(GJe,"removeMimeParameters");function HJe(t,e){var r=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof r=="string"){var n=GJe(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(t))return!0}return!1}i(HJe,"isXml");var BI=HJe;var rY={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function nY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(nY,"ownKeys");function Gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nY(Object(r),!0).forEach(function(n){Kp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Gp,"_objectSpread");function Kp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Kp,"_defineProperty");function VJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(VJe,"_classCallCheck");function iY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iY,"_defineProperties");function WJe(t,e,r){return e&&iY(t.prototype,e),r&&iY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(WJe,"_createClass");function KJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$I(t,e)}i(KJe,"_inherits");function $I(t,e){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),$I(t,e)}i($I,"_setPrototypeOf");function YJe(t){var e=JJe();return i(function(){var n=hb(t),a;if(e){var o=hb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return XJe(this,a)},"_createSuperInternal")}i(YJe,"_createSuper");function XJe(t,e){if(e&&(db(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yn(t)}i(XJe,"_possibleConstructorReturn");function yn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(yn,"_assertThisInitialized");function JJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(JJe,"_isNativeReflectConstruct");function hb(t){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),hb(t)}i(hb,"_getPrototypeOf");function db(t){return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}i(db,"_typeof");var aY;function fr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(fr,"_classPrivateFieldLooseBase");var QJe=0;function Xp(t){return"__private_"+QJe+++"_"+t}i(Xp,"_classPrivateFieldLooseKey");var ZJe={version:"3.0.2"};function eQe(t,e){return new URL(e,t||void 0).toString()}i(eQe,"resolveUrl");function Yp(t,e){var r=t.indexOf("<".concat(e,">")),n=t.indexOf("</".concat(e,">"),r);return r!==-1&&n!==-1?t.slice(r+e.length+2,n):""}i(Yp,"getXmlValue");function tQe(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}i(tQe,"assertServerError");function rQe(t,e){var r=e!=null&&typeof e.url=="string"&&(db(e.fields)==="object"||e.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(t.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var a=e.method==null||/^p(u|os)t$/i.test(e.method);if(!a){var o=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(t.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw o}}i(rQe,"validateParameters");function nQe(t,e){if(!!BI(t,e)){var r=Yp(t,"Message");return new Error(r)}}i(nQe,"defaultGetResponseError");var oY=!1,Hr=Xp("client"),xu=Xp("requests"),Hp=Xp("uploader"),Vp=Xp("handleUpload"),Wp=Xp("setCompanionHeaders");aY=Symbol.for("uppy test: getClient");var zI=function(t,e){KJe(n,t);var r=YJe(n);function n(a,o){var u;VJe(this,n),u=r.call(this,a,o),Object.defineProperty(yn(u),Hr,{writable:!0,value:void 0}),Object.defineProperty(yn(u),xu,{writable:!0,value:void 0}),Object.defineProperty(yn(u),Hp,{writable:!0,value:void 0}),Object.defineProperty(yn(u),Vp,{writable:!0,value:i(function(p){var h=Object.create(null);function y(_){var R,T=_.id;(R=h[T])==null||R.abort()}i(y,"onremove"),u.uppy.on("file-removed",y),p.forEach(function(_){var R=u.uppy.getFile(_);u.uppy.emit("upload-started",R)});var m=fr(yn(u),xu)[xu].wrapPromiseFunction(function(_){return u.opts.getUploadParameters(_)}),w=p.length;return Promise.allSettled(p.map(function(_,R){return h[_]=m(u.uppy.getFile(_)),h[_].then(function(T){delete h[_];var E=u.uppy.getFile(_);rQe(E,T);var A=T.method,C=A===void 0?"post":A,U=T.url,G=T.fields,M=T.headers,z={method:C,formData:C.toLowerCase()==="post",endpoint:U,allowedMetaFields:G?Object.keys(G):[]};return M&&(z.headers=M),u.uppy.setFileState(E.id,{meta:Gp(Gp({},E.meta),G),xhrUpload:z}),fr(yn(u),Hp)[Hp].uploadFile(E.id,R,w)}).catch(function(T){delete h[_];var E=u.uppy.getFile(_);return u.uppy.emit("upload-error",E,T),Promise.reject(T)})})).finally(function(){u.uppy.off("file-removed",y)})},"value")}),Object.defineProperty(yn(u),Wp,{writable:!0,value:i(function(){return fr(yn(u),Hr)[Hr].setCompanionHeaders(u.opts.companionHeaders),Promise.resolve()},"value")}),u.type="uploader",u.id=u.opts.id||"AwsS3",u.title="AWS S3",u.defaultLocale=rY;var s={timeout:30*1e3,limit:0,allowedMetaFields:[],getUploadParameters:u.getUploadParameters.bind(yn(u)),companionHeaders:{}};if(u.opts=Gp(Gp({},s),o),(o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in u.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");return u.i18nInit(),fr(yn(u),Hr)[Hr]=new ht(a,o),fr(yn(u),xu)[xu]=new hn(u.opts.limit),u}return i(n,"AwsS3"),WJe(n,[{key:e,value:i(function(){return fr(this,Hr)[Hr]},"value")},{key:"client",get:i(function(){return fr(this,Hr)[Hr]},"get")},{key:"client",set:i(function(o){fr(this,Hr)[Hr]=o},"set")},{key:"getUploadParameters",value:i(function(o){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var u=o.meta.name,s=o.meta.type,c=Object.fromEntries(this.opts.allowedMetaFields.filter(function(h){return o.meta[h]!=null}).map(function(h){return["metadata[".concat(h,"]"),o.meta[h].toString()]})),p=new URLSearchParams(Gp({filename:u,type:s},c));return fr(this,Hr)[Hr].get("s3/params?".concat(p)).then(tQe)},"getUploadParameters")},{key:"install",value:i(function(){var o,u=this.uppy;u.addPreProcessor(fr(this,Wp)[Wp]),u.addUploader(fr(this,Vp)[Vp]);function s(p,h){var y=this;return BI(p,h)?{location:eQe(h.responseURL,Yp(p,"Location")),bucket:Yp(p,"Bucket"),key:Yp(p,"Key"),etag:Yp(p,"ETag")}:y.method.toUpperCase()==="POST"?(oY||(u.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),oY=!0),{location:null}):h.responseURL?{location:h.responseURL.replace(/\?.*$/,"")}:{location:null}}i(s,"defaultGetResponseData");var c=(o={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},Kp(o,oa,fr(this,xu)[xu]),Kp(o,"responseType","text"),Kp(o,"getResponseData",this.opts.getResponseData||s),Kp(o,"getResponseError",nQe),o);c.i18n=this.i18n,fr(this,Hp)[Hp]=new tY(u,c)},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(fr(this,Wp)[Wp]),this.uppy.removeUploader(fr(this,Vp)[Vp])},"uninstall")}]),n}(lt,aY);zI.VERSION=ZJe.version;var GI=globalThis.AbortController;var Wwt=globalThis.AbortSignal;var io=i(function(e){return e===void 0&&(e="Aborted"),new DOMException(e,"AbortError")},"createAbortError");function HI(t,e){return new Promise(function(r,n){var a,o;if(e!=null&&(a=e.signal)!=null&&a.aborted)return n(io());var u=setTimeout(function(){c(),r()},t);function s(){clearTimeout(u),c(),n(io())}i(s,"onabort"),e==null||(o=e.signal)==null||o.addEventListener("abort",s);function c(){var p;e==null||(p=e.signal)==null||p.removeEventListener("abort",s)}i(c,"cleanup")})}i(HI,"delay");function Cu(){"use strict";Cu=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Qp(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(Cu,"_regeneratorRuntime");function iQe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=oQe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(iQe,"_createForOfIteratorHelper");function oQe(t,e){if(!!t){if(typeof t=="string")return uY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uY(t,e)}}i(oQe,"_unsupportedIterableToArray");function uY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(uY,"_arrayLikeToArray");function sY(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(sY,"asyncGeneratorStep");function ok(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){sY(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){sY(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(ok,"_asyncToGenerator");function Qp(t){return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}i(Qp,"_typeof");function lY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(lY,"ownKeys");function cY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lY(Object(r),!0).forEach(function(n){aQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(cY,"_objectSpread");function aQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(aQe,"_defineProperty");function uQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(uQe,"_classCallCheck");function fY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(fY,"_defineProperties");function sQe(t,e,r){return e&&fY(t.prototype,e),r&&fY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(sQe,"_createClass");function Je(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Je,"_classPrivateFieldLooseBase");var lQe=0;function pr(t){return"__private_"+lQe+++"_"+t}i(pr,"_classPrivateFieldLooseKey");var cQe=1024*1024,pY={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:i(function(e){return Math.ceil(e.size/1e4)},"getChunkSize"),onStart:i(function(){},"onStart"),onProgress:i(function(){},"onProgress"),onPartComplete:i(function(){},"onPartComplete"),onSuccess:i(function(){},"onSuccess"),onError:i(function(e){throw e},"onError")};function hY(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}i(hY,"ensureInt");var oo=pr("aborted"),VI=pr("initChunks"),WI=pr("createUpload"),KI=pr("resumeUpload"),Fu=pr("uploadParts"),Zp=pr("retryable"),XI=pr("prepareUploadPartsRetryable"),JI=pr("uploadPartRetryable"),QI=pr("uploadPart"),Jp=pr("onPartProgress"),ZI=pr("onPartComplete"),ek=pr("uploadPartBytes"),tk=pr("completeUpload"),YI=pr("abortUpload"),jn=pr("onError"),fQe=function(){function t(e,r){uQe(this,t),Object.defineProperty(this,jn,{value:RQe}),Object.defineProperty(this,YI,{value:EQe}),Object.defineProperty(this,tk,{value:PQe}),Object.defineProperty(this,ek,{value:_Qe}),Object.defineProperty(this,ZI,{value:SQe}),Object.defineProperty(this,Jp,{value:OQe}),Object.defineProperty(this,QI,{value:wQe}),Object.defineProperty(this,JI,{value:bQe}),Object.defineProperty(this,XI,{value:gQe}),Object.defineProperty(this,Zp,{value:mQe}),Object.defineProperty(this,Fu,{value:yQe}),Object.defineProperty(this,KI,{value:vQe}),Object.defineProperty(this,WI,{value:dQe}),Object.defineProperty(this,VI,{value:hQe}),Object.defineProperty(this,oo,{value:pQe}),this.options=cY(cY({},pY),r),this.options.getChunkSize||(this.options.getChunkSize=pY.getChunkSize),this.file=e,this.abortController=new GI,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Je(this,VI)[VI](),this.createdPromise.catch(function(){})}return i(t,"MultipartUploader"),sQe(t,[{key:"start",value:i(function(){this.isPaused=!1,this.uploadId?Je(this,KI)[KI]():Je(this,WI)[WI]()},"start")},{key:"pause",value:i(function(){this.abortController.abort(),this.abortController=new GI,this.isPaused=!0},"pause")},{key:"abort",value:i(function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Je(this,YI)[YI]():this.pause()},"abort")}]),t}();function pQe(){return this.abortController.signal.aborted}i(pQe,"_aborted2");function hQe(){var t=[],e=this.options.getChunkSize(this.file),r=Math.max(5*cQe,Math.ceil(this.file.size/1e4)),n=Math.max(e,r);if(this.file.size===0)t.push(this.file);else for(var a=0;a<this.file.size;a+=n){var o=Math.min(this.file.size,a+n);t.push(this.file.slice(a,o))}this.chunks=t,this.chunkState=t.map(function(){return{uploaded:0,busy:!1,done:!1}})}i(hQe,"_initChunks2");function dQe(){var t=this;return this.createdPromise=Promise.resolve().then(function(){return t.options.createMultipartUpload()}),this.createdPromise.then(function(e){if(Je(t,oo)[oo]())throw io();var r=Qp(e)==="object"&&e&&typeof e.uploadId=="string"&&typeof e.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");t.key=e.key,t.uploadId=e.uploadId,t.options.onStart(e),Je(t,Fu)[Fu]()}).catch(function(e){Je(t,jn)[jn](e)})}i(dQe,"_createUpload2");function vQe(){return rk.apply(this,arguments)}i(vQe,"_resumeUpload2");function rk(){return rk=ok(Cu().mark(i(function t(){var e=this,r;return Cu().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=a.sent,!Je(this,oo)[oo]()){a.next=6;break}throw io();case 6:r.forEach(function(o){var u=o.PartNumber-1;e.chunkState[u]={uploaded:hY(o.Size),etag:o.ETag,done:!0},e.parts.some(function(s){return s.PartNumber===o.PartNumber})||e.parts.push({PartNumber:o.PartNumber,ETag:o.ETag})}),Je(this,Fu)[Fu](),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Je(this,jn)[jn](a.t0);case 13:case"end":return a.stop()}},"_callee$"),t,this,[[0,10]])},"_callee"))),rk.apply(this,arguments)}i(rk,"_resumeUpload3");function yQe(){var t=this;if(!this.isPaused){if(this.chunkState.every(function(n){return n.done})){Je(this,tk)[tk]();return}var e=i(function(){var a=t.options.limit-t.partsInProgress,o=t.chunkState.filter(function(y){return y.done}).length,u=t.chunks.length-o,s=Math.ceil(t.options.limit/2);if(s>u&&(s=u),a<s)return[];for(var c=[],p=0;p<t.chunkState.length;p++){var h=t.chunkState[p];if(!(h.done||h.busy)&&(c.push(p),c.length>=a))break}return c},"getChunkIndexes"),r=e();r.length!==0&&Je(this,XI)[XI](r).then(function(n){var a=n.presignedUrls,o=n.headers,u=iQe(r),s;try{for(u.s();!(s=u.n()).done;){var c=s.value,p=c+1,h={url:a[p],headers:o==null?void 0:o[p]};Je(t,JI)[JI](c,h).then(function(){return Je(t,Fu)[Fu]()},function(y){return Je(t,jn)[jn](y)})}}catch(y){u.e(y)}finally{u.f()}},function(n){return Je(t,jn)[jn](n)})}}i(yQe,"_uploadParts2");function mQe(t){var e=this,r=t.before,n=t.attempt,a=t.after,o=this.options.retryDelays,u=this.abortController.signal;r&&r();function s(p){if(p.source&&typeof p.source.status=="number"){var h=p.source.status;return h===0||h===409||h===423||h>=500&&h<600}return!1}i(s,"shouldRetry");var c=i(function p(h){return n().catch(function(y){if(Je(e,oo)[oo]())throw io();if(s(y)&&h<o.length)return HI(o[h],{signal:u}).then(function(){return p(h+1)});throw y})},"doAttempt");return c(0).then(function(p){return a&&a(),p},function(p){throw a&&a(),p})}i(mQe,"_retryable2");function gQe(t){return nk.apply(this,arguments)}i(gQe,"_prepareUploadPartsRetryable2");function nk(){return nk=ok(Cu().mark(i(function t(e){var r=this,n;return Cu().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return e.forEach(function(u){r.chunkState[u].busy=!0}),o.next=3,Je(this,Zp)[Zp]({attempt:i(function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,parts:e.map(function(s){return{number:s+1,chunk:r.chunks[s]}})})},"attempt")});case 3:if(n=o.sent,Qp(n==null?void 0:n.presignedUrls)==="object"){o.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return o.abrupt("return",n);case 7:case"end":return o.stop()}},"_callee2$"),t,this)},"_callee2"))),nk.apply(this,arguments)}i(nk,"_prepareUploadPartsRetryable3");function bQe(t,e){var r=this;return Je(this,Zp)[Zp]({before:i(function(){r.chunkState[t].busy=!0,r.partsInProgress+=1},"before"),attempt:i(function(){return Je(r,QI)[QI](t,e)},"attempt"),after:i(function(){r.chunkState[t].busy=!1,r.partsInProgress-=1},"after")})}i(bQe,"_uploadPartRetryable2");function wQe(t,e){var r=typeof(e==null?void 0:e.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=e.url,a=e.headers;if(Je(this,oo)[oo]())throw io();return Je(this,ek)[ek](t,n,a)}i(wQe,"_uploadPart2");function OQe(t,e){this.chunkState[t].uploaded=hY(e);var r=this.chunkState.reduce(function(n,a){return n+a.uploaded},0);this.options.onProgress(r,this.file.size)}i(OQe,"_onPartProgress2");function SQe(t,e){this.chunkState[t].etag=e,this.chunkState[t].done=!0;var r={PartNumber:t+1,ETag:e};this.parts.push(r),this.options.onPartComplete(r)}i(SQe,"_onPartComplete2");function _Qe(t,e,r){var n=this,a=this.chunks[t],o=this.abortController.signal,u,s=new Promise(function(y,m){u={resolve:y,reject:m}}),c=new XMLHttpRequest;c.open("PUT",e,!0),r&&Object.keys(r).forEach(function(y){c.setRequestHeader(y,r[y])}),c.responseType="text";function p(){o.removeEventListener("abort",h)}i(p,"cleanup");function h(){c.abort()}return i(h,"onabort"),o.addEventListener("abort",h),c.upload.addEventListener("progress",function(y){!y.lengthComputable||Je(n,Jp)[Jp](t,y.loaded,y.total)}),c.addEventListener("abort",function(){p(),u.reject(io())}),c.addEventListener("load",function(y){if(p(),y.target.status<200||y.target.status>=300){var m=new Error("Non 2xx");m.source=y.target,u.reject(m);return}n.chunks[t]=null,Je(n,Jp)[Jp](t,a.size,a.size);var w=y.target.getResponseHeader("ETag");if(w===null){u.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Je(n,ZI)[ZI](t,w),u.resolve()}),c.addEventListener("error",function(y){p();var m=new Error("Unknown error");m.source=y.target,u.reject(m)}),c.send(a),s}i(_Qe,"_uploadPartBytes2");function PQe(){return ik.apply(this,arguments)}i(PQe,"_completeUpload2");function ik(){return ik=ok(Cu().mark(i(function t(){var e;return Cu().wrap(i(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(a,o){return a.PartNumber-o.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:e=n.sent,this.options.onSuccess(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Je(this,jn)[jn](n.t0);case 11:case"end":return n.stop()}},"_callee3$"),t,this,[[1,8]])},"_callee3"))),ik.apply(this,arguments)}i(ik,"_completeUpload3");function EQe(){var t=this;this.abortController.abort(),this.createdPromise.then(function(){return t.options.abortMultipartUpload({key:t.key,uploadId:t.uploadId})}).catch(function(){})}i(EQe,"_abortUpload2");function RQe(t){t&&t.name==="AbortError"||this.options.onError(t)}i(RQe,"_onError2");var dY=fQe;function vb(t){return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}i(vb,"_typeof");function nh(){"use strict";nh=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&vb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(nh,"_regeneratorRuntime");function vY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(vY,"ownKeys");function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vY(Object(r),!0).forEach(function(n){TQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Vr,"_objectSpread");function TQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(TQe,"_defineProperty");function yY(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(yY,"asyncGeneratorStep");function mY(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){yY(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){yY(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(mY,"_asyncToGenerator");function AQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(AQe,"_classCallCheck");function gY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gY,"_defineProperties");function IQe(t,e,r){return e&&gY(t.prototype,e),r&&gY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(IQe,"_createClass");function kQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}i(kQe,"_inherits");function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),uk(t,e)}i(uk,"_setPrototypeOf");function qQe(t){var e=CQe();return i(function(){var n=yb(t),a;if(e){var o=yb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return xQe(this,a)},"_createSuperInternal")}i(qQe,"_createSuper");function xQe(t,e){if(e&&(vb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(t)}i(xQe,"_possibleConstructorReturn");function hr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(hr,"_assertThisInitialized");function CQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(CQe,"_isNativeReflectConstruct");function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),yb(t)}i(yb,"_getPrototypeOf");var bY;function Wr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Wr,"_classPrivateFieldLooseBase");var FQe=0;function mb(t){return"__private_"+FQe+++"_"+t}i(mb,"_classPrivateFieldLooseKey");var LQe={version:"3.0.2"};function eh(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}i(eh,"assertServerError");var th=mb("queueRequestSocketToken"),Vt=mb("client"),ak=mb("requestSocketToken"),rh=mb("setCompanionHeaders");bY=Symbol.for("uppy test: getClient");var sk=function(t,e){kQe(n,t);var r=qQe(n);function n(a,o){var u;AQe(this,n),u=r.call(this,a,o),Object.defineProperty(hr(u),th,{writable:!0,value:void 0}),Object.defineProperty(hr(u),Vt,{writable:!0,value:void 0}),Object.defineProperty(hr(u),ak,{writable:!0,value:function(){var c=mY(nh().mark(i(function h(y){var m,w,_,R;return nh().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return m=y.remote.providerOptions.provider?Me:ht,w=new m(u.uppy,y.remote.providerOptions),_=Vr({},u.opts),y.tus&&Object.assign(_,y.tus),E.next=6,w.post(y.remote.url,Vr(Vr({},y.remote.body),{},{protocol:"s3-multipart",size:y.data.size,metadata:y.meta}));case 6:return R=E.sent,E.abrupt("return",R.token);case 8:case"end":return E.stop()}},"_callee$"),h)},"_callee")));function p(h){return c.apply(this,arguments)}return i(p,"value"),p}()}),Object.defineProperty(hr(u),rh,{writable:!0,value:i(function(){return Wr(hr(u),Vt)[Vt].setCompanionHeaders(u.opts.companionHeaders),Promise.resolve()},"value")}),u.type="uploader",u.id=u.opts.id||"AwsS3Multipart",u.title="AWS S3 Multipart",Wr(hr(u),Vt)[Vt]=new ht(a,o);var s={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:u.createMultipartUpload.bind(hr(u)),listParts:u.listParts.bind(hr(u)),prepareUploadParts:u.prepareUploadParts.bind(hr(u)),abortMultipartUpload:u.abortMultipartUpload.bind(hr(u)),completeMultipartUpload:u.completeMultipartUpload.bind(hr(u)),companionHeaders:{}};return u.opts=Vr(Vr({},s),o),u.upload=u.upload.bind(hr(u)),u.requests=new hn(u.opts.limit),u.uploaders=Object.create(null),u.uploaderEvents=Object.create(null),u.uploaderSockets=Object.create(null),Wr(hr(u),th)[th]=u.requests.wrapPromiseFunction(Wr(hr(u),ak)[ak]),u}return i(n,"AwsS3Multipart"),IQe(n,[{key:e,value:i(function(){return Wr(this,Vt)[Vt]},"value")},{key:"resetUploaderReferences",value:i(function(o,u){u===void 0&&(u={}),this.uploaders[o]&&(this.uploaders[o].abort({really:u.abort||!1}),this.uploaders[o]=null),this.uploaderEvents[o]&&(this.uploaderEvents[o].remove(),this.uploaderEvents[o]=null),this.uploaderSockets[o]&&(this.uploaderSockets[o].close(),this.uploaderSockets[o]=null)},"resetUploaderReferences")},{key:"assertHost",value:i(function(o){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(o,"` implementation."))},"assertHost")},{key:"createMultipartUpload",value:i(function(o){this.assertHost("createMultipartUpload");var u={};return Object.keys(o.meta).forEach(function(s){o.meta[s]!=null&&(u[s]=o.meta[s].toString())}),Wr(this,Vt)[Vt].post("s3/multipart",{filename:o.name,type:o.type,metadata:u}).then(eh)},"createMultipartUpload")},{key:"listParts",value:i(function(o,u){var s=u.key,c=u.uploadId;this.assertHost("listParts");var p=encodeURIComponent(s);return Wr(this,Vt)[Vt].get("s3/multipart/".concat(c,"?key=").concat(p)).then(eh)},"listParts")},{key:"prepareUploadParts",value:i(function(o,u){var s=u.key,c=u.uploadId,p=u.parts;this.assertHost("prepareUploadParts");var h=encodeURIComponent(s),y=p.map(function(m){return m.number}).join(",");return Wr(this,Vt)[Vt].get("s3/multipart/".concat(c,"/batch?key=").concat(h,"&partNumbers=").concat(y)).then(eh)},"prepareUploadParts")},{key:"completeMultipartUpload",value:i(function(o,u){var s=u.key,c=u.uploadId,p=u.parts;this.assertHost("completeMultipartUpload");var h=encodeURIComponent(s),y=encodeURIComponent(c);return Wr(this,Vt)[Vt].post("s3/multipart/".concat(y,"/complete?key=").concat(h),{parts:p}).then(eh)},"completeMultipartUpload")},{key:"abortMultipartUpload",value:i(function(o,u){var s=u.key,c=u.uploadId;this.assertHost("abortMultipartUpload");var p=encodeURIComponent(s),h=encodeURIComponent(c);return Wr(this,Vt)[Vt].delete("s3/multipart/".concat(h,"?key=").concat(p)).then(eh)},"abortMultipartUpload")},{key:"uploadFile",value:i(function(o){var u=this,s=this;return new Promise(function(c,p){var h,y=i(function(A){var C=u.uppy.getFile(o.id);u.uppy.setFileState(o.id,{s3Multipart:Vr(Vr({},C.s3Multipart),{},{key:A.key,uploadId:A.uploadId})})},"onStart"),m=i(function(A,C){u.uppy.emit("upload-progress",o,{uploader:u,bytesUploaded:A,bytesTotal:C})},"onProgress"),w=i(function(A){u.uppy.log(A),u.uppy.emit("upload-error",o,A),h.done(),u.resetUploaderReferences(o.id),p(A)},"onError"),_=i(function(A){var C=T,U={body:Vr({},A),uploadURL:A.location};h.done(),u.resetUploaderReferences(o.id);var G=u.uppy.getFile(o.id);u.uppy.emit("upload-success",G||o,U),A.location&&u.uppy.log("Download ".concat(C.file.name," from ").concat(A.location)),c(C)},"onSuccess"),R=i(function(A){var C=u.uppy.getFile(o.id);!C||u.uppy.emit("s3-multipart:part-uploaded",C,A)},"onPartComplete"),T=new dY(o.data,Vr({createMultipartUpload:u.opts.createMultipartUpload.bind(u,o),listParts:u.opts.listParts.bind(u,o),prepareUploadParts:u.opts.prepareUploadParts.bind(u,o),completeMultipartUpload:u.opts.completeMultipartUpload.bind(u,o),abortMultipartUpload:u.opts.abortMultipartUpload.bind(u,o),getChunkSize:u.opts.getChunkSize?u.opts.getChunkSize.bind(u):null,onStart:y,onProgress:m,onError:w,onSuccess:_,onPartComplete:R,limit:u.opts.limit||5,retryDelays:u.opts.retryDelays||[]},o.s3Multipart));u.uploaders[o.id]=T,u.uploaderEvents[o.id]=new dn(u.uppy),h=u.requests.run(function(){return o.isPaused||T.start(),function(){}}),u.onFileRemove(o.id,function(E){h.abort(),u.resetUploaderReferences(o.id,{abort:!0}),c("upload ".concat(E.id," was removed"))}),u.onCancelAll(o.id,function(E){var A=E===void 0?{}:E,C=A.reason;C==="user"&&(h.abort(),s.resetUploaderReferences(o.id,{abort:!0})),c("upload ".concat(o.id," was canceled"))}),u.onFilePause(o.id,function(E){E?(h.abort(),T.pause()):(h.abort(),h=u.requests.run(function(){return T.start(),function(){}}))}),u.onPauseAll(o.id,function(){h.abort(),T.pause()}),u.onResumeAll(o.id,function(){h.abort(),o.error&&T.abort(),h=u.requests.run(function(){return T.start(),function(){}})}),(!o.progress.uploadStarted||!o.isRestored)&&u.uppy.emit("upload-started",o)})},"uploadFile")},{key:"uploadRemote",value:function(){var a=mY(nh().mark(i(function u(s){var c;return nh().wrap(i(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.resetUploaderReferences(s.id),(!s.progress.uploadStarted||!s.isRestored)&&this.uppy.emit("upload-started",s),h.prev=2,!s.serverToken){h.next=5;break}return h.abrupt("return",this.connectToServerSocket(s));case 5:return h.next=7,Wr(this,th)[th](s);case 7:return c=h.sent,this.uppy.setFileState(s.id,{serverToken:c}),h.abrupt("return",this.connectToServerSocket(this.uppy.getFile(s.id)));case 12:throw h.prev=12,h.t0=h.catch(2),this.uppy.emit("upload-error",s,h.t0),h.t0;case 16:case"end":return h.stop()}},"_callee2$"),u,this,[[2,12]])},"_callee2")));function o(u){return a.apply(this,arguments)}return i(o,"uploadRemote"),o}()},{key:"connectToServerSocket",value:i(function(o){var u=this,s=this;return new Promise(function(c,p){var h,y=o.serverToken,m=ro(o.remote.companionUrl),w=new ii({target:"".concat(m,"/api/").concat(y)});u.uploaderSockets[o.id]=w,u.uploaderEvents[o.id]=new dn(u.uppy),u.onFileRemove(o.id,function(){h.abort(),w.send("cancel",{}),u.resetUploaderReferences(o.id,{abort:!0}),c("upload ".concat(o.id," was removed"))}),u.onFilePause(o.id,function(_){_?(h.abort(),w.send("pause",{})):(h.abort(),h=u.requests.run(function(){return w.send("resume",{}),function(){}}))}),u.onPauseAll(o.id,function(){h.abort(),w.send("pause",{})}),u.onCancelAll(o.id,function(_){var R=_===void 0?{}:_,T=R.reason;T==="user"&&(h.abort(),w.send("cancel",{}),s.resetUploaderReferences(o.id)),c("upload ".concat(o.id," was canceled"))}),u.onResumeAll(o.id,function(){h.abort(),o.error&&w.send("pause",{}),h=u.requests.run(function(){w.send("resume",{})})}),u.onRetry(o.id,function(){w.isOpen&&(w.send("pause",{}),w.send("resume",{}))}),u.onRetryAll(o.id,function(){w.isOpen&&(w.send("pause",{}),w.send("resume",{}))}),w.on("progress",function(_){return aa(u,_,o)}),w.on("error",function(_){u.uppy.emit("upload-error",o,new Error(_.error)),u.resetUploaderReferences(o.id),h.done(),p(new Error(_.error))}),w.on("success",function(_){var R={uploadURL:_.url};u.uppy.emit("upload-success",o,R),u.resetUploaderReferences(o.id),h.done(),c()}),h=u.requests.run(function(){return o.isPaused&&w.send("pause",{}),function(){}})})},"connectToServerSocket")},{key:"upload",value:i(function(o){var u=this;if(o.length===0)return Promise.resolve();var s=o.map(function(c){var p=u.uppy.getFile(c);return p.isRemote?u.uploadRemote(p):u.uploadFile(p)});return Promise.all(s)},"upload")},{key:"onFileRemove",value:i(function(o,u){this.uploaderEvents[o].on("file-removed",function(s){o===s.id&&u(s.id)})},"onFileRemove")},{key:"onFilePause",value:i(function(o,u){this.uploaderEvents[o].on("upload-pause",function(s,c){o===s&&u(c)})},"onFilePause")},{key:"onRetry",value:i(function(o,u){this.uploaderEvents[o].on("upload-retry",function(s){o===s&&u()})},"onRetry")},{key:"onRetryAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("retry-all",function(){!s.uppy.getFile(o)||u()})},"onRetryAll")},{key:"onPauseAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("pause-all",function(){!s.uppy.getFile(o)||u()})},"onPauseAll")},{key:"onCancelAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("cancel-all",function(){!s.uppy.getFile(o)||u.apply(void 0,arguments)})},"onCancelAll")},{key:"onResumeAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("resume-all",function(){!s.uppy.getFile(o)||u()})},"onResumeAll")},{key:"install",value:i(function(){var o=this.uppy.getState(),u=o.capabilities;this.uppy.setState({capabilities:Vr(Vr({},u),{},{resumableUploads:!0})}),this.uppy.addPreProcessor(Wr(this,rh)[rh]),this.uppy.addUploader(this.upload)},"install")},{key:"uninstall",value:i(function(){var o=this.uppy.getState(),u=o.capabilities;this.uppy.setState({capabilities:Vr(Vr({},u),{},{resumableUploads:!1})}),this.uppy.removePreProcessor(Wr(this,rh)[rh]),this.uppy.removeUploader(this.upload)},"uninstall")}]),n}(lt,bY);sk.VERSION=LQe.version;var EY="3.7.2",jQe=EY,NQe=typeof atob=="function",DQe=typeof btoa=="function",Al=typeof Buffer=="function",wY=typeof TextDecoder=="function"?new TextDecoder:void 0,OY=typeof TextEncoder=="function"?new TextEncoder:void 0,UQe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ih=Array.prototype.slice.call(UQe),gb=function(t){var e={};return t.forEach(function(r,n){return e[r]=n}),e}(ih),MQe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Wt=String.fromCharCode.bind(String),SY=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){return r};return new Uint8Array(Array.prototype.slice.call(t,0).map(e))},RY=i(function(e){return e.replace(/=/g,"").replace(/[+\/]/g,function(r){return r=="+"?"-":"_"})},"_mkUriSafe"),TY=i(function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),AY=i(function(e){for(var r,n,a,o,u="",s=e.length%3,c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");r=n<<16|a<<8|o,u+=ih[r>>18&63]+ih[r>>12&63]+ih[r>>6&63]+ih[r&63]}return s?u.slice(0,s-3)+"===".substring(s):u},"btoaPolyfill"),fk=DQe?function(t){return btoa(t)}:Al?function(t){return Buffer.from(t,"binary").toString("base64")}:AY,lk=Al?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=4096,r=[],n=0,a=t.length;n<a;n+=e)r.push(Wt.apply(null,t.subarray(n,n+e)));return fk(r.join(""))},bb=i(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r?RY(lk(e)):lk(e)},"fromUint8Array"),BQe=i(function(e){if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?Wt(192|r>>>6)+Wt(128|r&63):Wt(224|r>>>12&15)+Wt(128|r>>>6&63)+Wt(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Wt(240|r>>>18&7)+Wt(128|r>>>12&63)+Wt(128|r>>>6&63)+Wt(128|r&63)}},"cb_utob"),$Qe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,IY=i(function(e){return e.replace($Qe,BQe)},"utob"),_Y=Al?function(t){return Buffer.from(t,"utf8").toString("base64")}:OY?function(t){return lk(OY.encode(t))}:function(t){return fk(IY(t))},Tl=i(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r?RY(_Y(e)):_Y(e)},"encode"),PY=i(function(e){return Tl(e,!0)},"encodeURI"),zQe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,GQe=i(function(e){switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=r-65536;return Wt((n>>>10)+55296)+Wt((n&1023)+56320);case 3:return Wt((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Wt((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},"cb_btou"),kY=i(function(e){return e.replace(zQe,GQe)},"btou"),qY=i(function(e){if(e=e.replace(/\s+/g,""),!MQe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));for(var r,n="",a,o,u=0;u<e.length;)r=gb[e.charAt(u++)]<<18|gb[e.charAt(u++)]<<12|(a=gb[e.charAt(u++)])<<6|(o=gb[e.charAt(u++)]),n+=a===64?Wt(r>>16&255):o===64?Wt(r>>16&255,r>>8&255):Wt(r>>16&255,r>>8&255,r&255);return n},"atobPolyfill"),pk=NQe?function(t){return atob(TY(t))}:Al?function(t){return Buffer.from(t,"base64").toString("binary")}:qY,xY=Al?function(t){return SY(Buffer.from(t,"base64"))}:function(t){return SY(pk(t),function(e){return e.charCodeAt(0)})},CY=i(function(e){return xY(FY(e))},"toUint8Array"),HQe=Al?function(t){return Buffer.from(t,"base64").toString("utf8")}:wY?function(t){return wY.decode(xY(t))}:function(t){return kY(pk(t))},FY=i(function(e){return TY(e.replace(/[-_]/g,function(r){return r=="-"?"+":"/"}))},"_unURI"),ck=i(function(e){return HQe(FY(e))},"decode"),VQe=i(function(e){if(typeof e!="string")return!1;var r=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)},"isValid"),LY=i(function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),jY=i(function(){var e=i(function(n,a){return Object.defineProperty(String.prototype,n,LY(a))},"_add");e("fromBase64",function(){return ck(this)}),e("toBase64",function(r){return Tl(this,r)}),e("toBase64URI",function(){return Tl(this,!0)}),e("toBase64URL",function(){return Tl(this,!0)}),e("toUint8Array",function(){return CY(this)})},"extendString"),NY=i(function(){var e=i(function(n,a){return Object.defineProperty(Uint8Array.prototype,n,LY(a))},"_add");e("toBase64",function(r){return bb(this,r)}),e("toBase64URI",function(){return bb(this,!0)}),e("toBase64URL",function(){return bb(this,!0)})},"extendUint8Array"),WQe=i(function(){jY(),NY()},"extendBuiltins"),DY={version:EY,VERSION:jQe,atob:pk,atobPolyfill:qY,btoa:fk,btoaPolyfill:AY,fromBase64:ck,toBase64:Tl,encode:Tl,encodeURI:PY,encodeURL:PY,utob:IY,btou:kY,decode:ck,isValid:VQe,fromUint8Array:bb,toUint8Array:CY,extendString:jY,extendUint8Array:NY,extendBuiltins:WQe};var lX=Te(JY());function yk(t){return yk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yk(t)}i(yk,"_typeof");function QY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(QY,"_defineProperties");function oZe(t,e,r){return e&&QY(t.prototype,e),r&&QY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(oZe,"_createClass");function aZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aZe,"_classCallCheck");function uZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ah(t,e)}i(uZe,"_inherits");function sZe(t){var e=ZY();return i(function(){var n=uh(t),a;if(e){var o=uh(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return lZe(this,a)},"_createSuperInternal")}i(sZe,"_createSuper");function lZe(t,e){if(e&&(yk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cZe(t)}i(lZe,"_possibleConstructorReturn");function cZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(cZe,"_assertThisInitialized");function mk(t){var e=typeof Map=="function"?new Map:void 0;return mk=i(function(n){if(n===null||!fZe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Ob(n,arguments,uh(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ah(a,n)},"_wrapNativeSuper"),mk(t)}i(mk,"_wrapNativeSuper");function Ob(t,e,r){return ZY()?Ob=Reflect.construct.bind():Ob=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&ah(p,u.prototype),p},"_construct"),Ob.apply(null,arguments)}i(Ob,"_construct");function ZY(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(ZY,"_isNativeReflectConstruct");function fZe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(fZe,"_isNativeFunction");function ah(t,e){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),ah(t,e)}i(ah,"_setPrototypeOf");function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),uh(t)}i(uh,"_getPrototypeOf");var pZe=function(t){uZe(r,t);var e=sZe(r);function r(n){var a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(aZe(this,r),a=e.call(this,n),a.originalRequest=u,a.originalResponse=s,a.causingError=o,o!=null&&(n+=", caused by ".concat(o.toString())),u!=null){var c=u.getHeader("X-Request-ID")||"n/a",p=u.getMethod(),h=u.getURL(),y=s?s.getStatus():"n/a",m=s?s.getBody()||"":"n/a";n+=", originated from request (method: ".concat(p,", url: ").concat(h,", response code: ").concat(y,", response text: ").concat(m,", request id: ").concat(c,")")}return a.message=n,a}return i(r,"DetailedError"),oZe(r)}(mk(Error)),Il=pZe;var hZe=!1;function ua(t){!hZe||console.log(t)}i(ua,"log");function gk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}i(gk,"uuid");function sX(t,e){return mZe(t)||yZe(t,e)||vZe(t,e)||dZe()}i(sX,"_slicedToArray");function dZe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(dZe,"_nonIterableRest");function vZe(t,e){if(!!t){if(typeof t=="string")return eX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eX(t,e)}}i(vZe,"_unsupportedIterableToArray");function eX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(eX,"_arrayLikeToArray");function yZe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(yZe,"_iterableToArrayLimit");function mZe(t){if(Array.isArray(t))return t}i(mZe,"_arrayWithHoles");function tX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(tX,"ownKeys");function kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tX(Object(r),!0).forEach(function(n){gZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(kl,"_objectSpread");function gZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(gZe,"_defineProperty");function bZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(bZe,"_classCallCheck");function rX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rX,"_defineProperties");function wZe(t,e,r){return e&&rX(t.prototype,e),r&&rX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(wZe,"_createClass");var OZe={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},cX=function(){function t(e,r){bZe(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return i(t,"BaseUpload"),wZe(t,[{key:"findPreviousUploads",value:i(function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:i(function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey},"resumeFromPreviousUpload")},{key:"start",value:i(function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var a=this.options.retryDelays;if(a!=null&&Object.prototype.toString.call(a)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var o=0,u=["uploadUrl","uploadSize","uploadLengthDeferred"];o<u.length;o++){var s=u[o];if(this.options[s]){this._emitError(new Error("tus: cannot use the ".concat(s," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(c){return c==null?ua("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):ua("Calculated fingerprint: ".concat(c)),r._fingerprint=c,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(c){if(r._source=c,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(c){r._emitError(c)})},"start")},{key:"_startParallelUpload",value:i(function(){var r,n=this,a=this._size,o=0;this._parallelUploads=[];var u=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,s=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:_Ze(this._source.size,u);this._parallelUploadUrls&&s.forEach(function(h,y){h.uploadUrl=n._parallelUploadUrls[y]||null}),this._parallelUploadUrls=new Array(s.length);var c=s.map(function(h,y){var m=0;return n._source.slice(h.start,h.end).then(function(w){var _=w.value;return new Promise(function(R,T){var E=kl(kl({},n.options),{},{uploadUrl:h.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:kl(kl({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:R,onError:T,onProgress:i(function(U){o=o-m+U,m=U,n._emitProgress(o,a)},"onProgress"),_onUploadUrlAvailable:i(function(){n._parallelUploadUrls[y]=A.url,n._parallelUploadUrls.filter(function(U){return Boolean(U)}).length===s.length&&n._saveUploadInUrlStorage()},"_onUploadUrlAvailable")}),A=new t(_,E);A.start(),n._parallelUploads.push(A)})})}),p;Promise.all(c).then(function(){p=n._openRequest("POST",n.options.endpoint),p.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var h=nX(n.options.metadata);return h!==""&&p.setHeader("Upload-Metadata",h),n._sendRequest(p,null)}).then(function(h){if(!ql(h.getStatus(),200)){n._emitHttpError(p,h,"tus: unexpected response while creating upload");return}var y=h.getHeader("Location");if(y==null){n._emitHttpError(p,h,"tus: invalid or missing Location header");return}n.url=uX(n.options.endpoint,y),ua("Created upload at ".concat(n.url)),n._emitSuccess()}).catch(function(h){n._emitError(h)})},"_startParallelUpload")},{key:"_startSingleUpload",value:i(function(){if(this._aborted=!1,this.url!=null){ua("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){ua("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,this._resumeUpload();return}ua("Creating a new upload"),this._createUpload()},"_startSingleUpload")},{key:"abort",value:i(function(r){var n=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(a){a.abort(r)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})},"abort")},{key:"_emitHttpError",value:i(function(r,n,a,o){this._emitError(new Il(a,o,r,n))},"_emitHttpError")},{key:"_emitError",value:i(function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var a=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(a&&(this._retryAttempt=0),aX(r,this._retryAttempt,this.options)){var o=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},o);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}},"_emitError")},{key:"_emitSuccess",value:i(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()},"_emitSuccess")},{key:"_emitProgress",value:i(function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)},"_emitProgress")},{key:"_emitChunkComplete",value:i(function(r,n,a){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,a)},"_emitChunkComplete")},{key:"_createUpload",value:i(function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var a=nX(this.options.metadata);a!==""&&n.setHeader("Upload-Metadata",a);var o;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,o=this._addChunkToRequest(n)):o=this._sendRequest(n,null),o.then(function(u){if(!ql(u.getStatus(),200)){r._emitHttpError(n,u,"tus: unexpected response while creating upload");return}var s=u.getHeader("Location");if(s==null){r._emitHttpError(n,u,"tus: invalid or missing Location header");return}if(r.url=uX(r.options.endpoint,s),ua("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(n,u):(r._offset=0,r._performUpload())})}).catch(function(u){r._emitHttpError(n,null,"tus: failed to create upload",u)})},"_createUpload")},{key:"_resumeUpload",value:i(function(){var r=this,n=this._openRequest("HEAD",this.url),a=this._sendRequest(n,null);a.then(function(o){var u=o.getStatus();if(!ql(u,200)){if(u===423){r._emitHttpError(n,o,"tus: upload is currently locked; retry later");return}if(ql(u,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(n,o,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var s=parseInt(o.getHeader("Upload-Offset"),10);if(Number.isNaN(s)){r._emitHttpError(n,o,"tus: invalid or missing offset value");return}var c=parseInt(o.getHeader("Upload-Length"),10);if(Number.isNaN(c)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,o,"tus: invalid or missing length value");return}typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(s===c){r._emitProgress(c,c),r._emitSuccess();return}r._offset=s,r._performUpload()})}).catch(function(o){r._emitHttpError(n,null,"tus: failed to resume upload",o)})},"_resumeUpload")},{key:"_performUpload",value:i(function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var a=this._addChunkToRequest(n);a.then(function(o){if(!ql(o.getStatus(),200)){r._emitHttpError(n,o,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,o)}).catch(function(o){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),o)})}},"_performUpload")},{key:"_addChunkToRequest",value:i(function(r){var n=this,a=this._offset,o=this._offset+this.options.chunkSize;return r.setProgressHandler(function(u){n._emitProgress(a+u,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(o===1/0||o>this._size)&&!this.options.uploadLengthDeferred&&(o=this._size),this._source.slice(a,o).then(function(u){var s=u.value,c=u.done;return n.options.uploadLengthDeferred&&c&&(n._size=n._offset+(s&&s.size?s.size:0),r.setHeader("Upload-Length",n._size)),s===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,s))})},"_addChunkToRequest")},{key:"_handleUploadResponse",value:i(function(r,n){var a=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(a,this._size),this._emitChunkComplete(a-this._offset,a,this._size),this._offset=a,a===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()},"_handleUploadResponse")},{key:"_openRequest",value:i(function(r,n){var a=iX(r,n,this.options);return this._req=a,a},"_openRequest")},{key:"_removeFromUrlStorage",value:i(function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:i(function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(a){r._urlStorageKey=a})},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return oX(r,n,this.options)},"_sendRequest")}],[{key:"terminate",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=iX("DELETE",r,n);return oX(a,null,n).then(function(o){if(o.getStatus()!==204)throw new Il("tus: unexpected response while terminating upload",null,a,o)}).catch(function(o){if(o instanceof Il||(o=new Il("tus: failed to terminate upload",o,a,null)),!aX(o,0,n))throw o;var u=n.retryDelays[0],s=n.retryDelays.slice(1),c=kl(kl({},n),{},{retryDelays:s});return new Promise(function(p){return setTimeout(p,u)}).then(function(){return t.terminate(r,c)})})},"terminate")}]),t}();function nX(t){return Object.entries(t).map(function(e){var r=sX(e,2),n=r[0],a=r[1];return"".concat(n," ").concat(DY.encode(String(a)))}).join(",")}i(nX,"encodeMetadata");function ql(t,e){return t>=e&&t<e+100}i(ql,"inStatusCategory");function iX(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var a=r.headers||{};if(Object.entries(a).forEach(function(u){var s=sX(u,2),c=s[0],p=s[1];n.setHeader(c,p)}),r.addRequestId){var o=gk();n.setHeader("X-Request-ID",o)}return n}i(iX,"openRequest");function oX(t,e,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve();return n.then(function(){return t.send(e).then(function(a){var o=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(t,a)):Promise.resolve();return o.then(function(){return a})})})}i(oX,"sendRequest");function SZe(){var t=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}i(SZe,"isOnline");function aX(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!ql(n,400)||n===409||n===423)&&SZe()}i(aX,"shouldRetry");function uX(t,e){return new lX.default(e,t).toString()}i(uX,"resolveUrl");function _Ze(t,e){for(var r=Math.floor(t/e),n=[],a=0;a<e;a++)n.push({start:r*a,end:r*(a+1)});return n[e-1].end=t,n}i(_Ze,"splitSizeIntoParts");cX.defaultOptions=OZe;var Sb=cX;function PZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(PZe,"_classCallCheck");function fX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(fX,"_defineProperties");function EZe(t,e,r){return e&&fX(t.prototype,e),r&&fX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(EZe,"_createClass");var pX=function(){function t(){PZe(this,t)}return i(t,"NoopUrlStorage"),EZe(t,[{key:"listAllUploads",value:i(function(){return Promise.resolve([])},"listAllUploads")},{key:"findUploadsByFingerprint",value:i(function(r){return Promise.resolve([])},"findUploadsByFingerprint")},{key:"removeUpload",value:i(function(r){return Promise.resolve()},"removeUpload")},{key:"addUpload",value:i(function(r,n){return Promise.resolve(null)},"addUpload")}]),t}();function RZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(RZe,"_classCallCheck");function hX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(hX,"_defineProperties");function TZe(t,e,r){return e&&hX(t.prototype,e),r&&hX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(TZe,"_createClass");var wk=!1;try{wk="localStorage"in window,bk="tusSupport",localStorage.setItem(bk,localStorage.getItem(bk))}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)wk=!1;else throw t}var bk,dX=wk,vX=function(){function t(){RZe(this,t)}return i(t,"WebStorageUrlStorage"),TZe(t,[{key:"findAllUploads",value:i(function(){var r=this._findEntries("tus::");return Promise.resolve(r)},"findAllUploads")},{key:"findUploadsByFingerprint",value:i(function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)},"findUploadsByFingerprint")},{key:"removeUpload",value:i(function(r){return localStorage.removeItem(r),Promise.resolve()},"removeUpload")},{key:"addUpload",value:i(function(r,n){var a=Math.round(Math.random()*1e12),o="tus::".concat(r,"::").concat(a);return localStorage.setItem(o,JSON.stringify(n)),Promise.resolve(o)},"addUpload")},{key:"_findEntries",value:i(function(r){for(var n=[],a=0;a<localStorage.length;a++){var o=localStorage.key(a);if(o.indexOf(r)===0)try{var u=JSON.parse(localStorage.getItem(o));u.urlStorageKey=o,n.push(u)}catch(s){}}return n},"_findEntries")}]),t}();function Ok(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Ok,"_classCallCheck");function yX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(yX,"_defineProperties");function Sk(t,e,r){return e&&yX(t.prototype,e),r&&yX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Sk,"_createClass");var mX=function(){function t(){Ok(this,t)}return i(t,"XHRHttpStack"),Sk(t,[{key:"createRequest",value:i(function(r,n){return new AZe(r,n)},"createRequest")},{key:"getName",value:i(function(){return"XHRHttpStack"},"getName")}]),t}();var AZe=function(){function t(e,r){Ok(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return i(t,"Request"),Sk(t,[{key:"getMethod",value:i(function(){return this._method},"getMethod")},{key:"getURL",value:i(function(){return this._url},"getURL")},{key:"setHeader",value:i(function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n},"setHeader")},{key:"getHeader",value:i(function(r){return this._headers[r]},"getHeader")},{key:"setProgressHandler",value:i(function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})},"setProgressHandler")},{key:"send",value:i(function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(a,o){r._xhr.onload=function(){a(new IZe(r._xhr))},r._xhr.onerror=function(u){o(u)},r._xhr.send(n)})},"send")},{key:"abort",value:i(function(){return this._xhr.abort(),Promise.resolve()},"abort")},{key:"getUnderlyingObject",value:i(function(){return this._xhr},"getUnderlyingObject")}]),t}(),IZe=function(){function t(e){Ok(this,t),this._xhr=e}return i(t,"Response"),Sk(t,[{key:"getStatus",value:i(function(){return this._xhr.status},"getStatus")},{key:"getHeader",value:i(function(r){return this._xhr.getResponseHeader(r)},"getHeader")},{key:"getBody",value:i(function(){return this._xhr.responseText},"getBody")},{key:"getUnderlyingObject",value:i(function(){return this._xhr},"getUnderlyingObject")}]),t}();var kZe=i(function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},"isReactNative"),_b=kZe;function _k(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var a=n.response;e(a)},n.onerror=function(a){r(a)},n.open("GET",t),n.send()})}i(_k,"uriToBlob");var qZe=i(function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},"isCordova"),gX=qZe;function Pk(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var a=new Uint8Array(n.result);e({value:a})},n.onerror=function(a){r(a)},n.readAsArrayBuffer(t)})}i(Pk,"readAsByteArray");function xZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(xZe,"_classCallCheck");function bX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(bX,"_defineProperties");function CZe(t,e,r){return e&&bX(t.prototype,e),r&&bX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(CZe,"_createClass");var Ek=function(){function t(e){xZe(this,t),this._file=e,this.size=e.size}return i(t,"FileSource"),CZe(t,[{key:"slice",value:i(function(r,n){if(gX())return Pk(this._file.slice(r,n));var a=this._file.slice(r,n);return Promise.resolve({value:a})},"slice")},{key:"close",value:i(function(){},"close")}]),t}();function FZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(FZe,"_classCallCheck");function wX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wX,"_defineProperties");function LZe(t,e,r){return e&&wX(t.prototype,e),r&&wX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(LZe,"_createClass");function OX(t){return t===void 0?0:t.size!==void 0?t.size:t.length}i(OX,"len");function jZe(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}i(jZe,"concat");var SX=function(){function t(e){FZe(this,t),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return i(t,"StreamSource"),LZe(t,[{key:"slice",value:i(function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)},"slice")},{key:"_readUntilEnoughDataOrDone",value:i(function(r,n){var a=this,o=n<=this._bufferOffset+OX(this._buffer);if(this._done||o){var u=this._getDataFromBuffer(r,n),s=u==null?this._done:!1;return Promise.resolve({value:u,done:s})}return this._reader.read().then(function(c){var p=c.value,h=c.done;return h?a._done=!0:a._buffer===void 0?a._buffer=p:a._buffer=jZe(a._buffer,p),a._readUntilEnoughDataOrDone(r,n)})},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:i(function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var a=OX(this._buffer)===0;return this._done&&a?null:this._buffer.slice(0,n-r)},"_getDataFromBuffer")},{key:"close",value:i(function(){this._reader.cancel&&this._reader.cancel()},"close")}]),t}();function NZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(NZe,"_classCallCheck");function _X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_X,"_defineProperties");function DZe(t,e,r){return e&&_X(t.prototype,e),r&&_X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(DZe,"_createClass");var PX=function(){function t(){NZe(this,t)}return i(t,"FileReader"),DZe(t,[{key:"openFile",value:i(function(r,n){return _b()&&r&&typeof r.uri!="undefined"?_k(r.uri).then(function(a){return new Ek(a)}).catch(function(a){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(a))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new Ek(r)):typeof r.read=="function"?(n=Number(n),Number.isFinite(n)?Promise.resolve(new SX(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))},"openFile")}]),t}();function Rk(t,e){return _b()?Promise.resolve(UZe(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}i(Rk,"fingerprint");function UZe(t,e){var r=t.exif?MZe(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}i(UZe,"reactNativeFingerprint");function MZe(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}i(MZe,"hashCode");function Tk(t){return Tk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tk(t)}i(Tk,"_typeof");function BZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(BZe,"_classCallCheck");function EX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(EX,"_defineProperties");function $Ze(t,e,r){return e&&EX(t.prototype,e),r&&EX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i($Ze,"_createClass");function zZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ak(t,e)}i(zZe,"_inherits");function Ak(t,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Ak(t,e)}i(Ak,"_setPrototypeOf");function GZe(t){var e=WZe();return i(function(){var n=Pb(t),a;if(e){var o=Pb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return HZe(this,a)},"_createSuperInternal")}i(GZe,"_createSuper");function HZe(t,e){if(e&&(Tk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VZe(t)}i(HZe,"_possibleConstructorReturn");function VZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(VZe,"_assertThisInitialized");function WZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(WZe,"_isNativeReflectConstruct");function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Pb(t)}i(Pb,"_getPrototypeOf");function RX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(RX,"ownKeys");function xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RX(Object(r),!0).forEach(function(n){KZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(xl,"_objectSpread");function KZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(KZe,"_defineProperty");var Eb=xl(xl({},Sb.defaultOptions),{},{httpStack:new mX,fileReader:new PX,urlStorage:dX?new vX:new pX,fingerprint:Rk}),AX=function(t){zZe(r,t);var e=GZe(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return BZe(this,r),a=xl(xl({},Eb),a),e.call(this,n,a)}return i(r,"Upload"),$Ze(r,null,[{key:"terminate",value:i(function(a,o,u){return o=xl(xl({},Eb),o),Sb.terminate(a,o,u)},"terminate")}]),r}(Sb),IX=window,YZe=IX.XMLHttpRequest,TX=IX.Blob,W0t=YZe&&TX&&typeof TX.prototype.slice=="function";function sh(t){var e=[],r=[];function n(u){e.push(u)}i(n,"resolved");function a(u){r.push(u)}i(a,"rejected");var o=Promise.all(t.map(function(u){return u.then(n,a)}));return o.then(function(){return{successful:e,failed:r}})}i(sh,"settle");function XZe(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}i(XZe,"isCordova");function JZe(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}i(JZe,"isReactNative");function Ik(t){return function(e,r){if(XZe()||JZe())return Eb.fingerprint(e,r);var n=["tus",t.id,r.endpoint].join("-");return Promise.resolve(n)}}i(Ik,"getFingerprint");function Rb(t){return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}i(Rb,"_typeof");function ph(){"use strict";ph=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Rb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(ph,"_regeneratorRuntime");function qX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(qX,"ownKeys");function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qX(Object(r),!0).forEach(function(n){QZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Ct,"_objectSpread");function QZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(QZe,"_defineProperty");function xX(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(xX,"asyncGeneratorStep");function CX(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){xX(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){xX(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(CX,"_asyncToGenerator");function ZZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ZZe,"_classCallCheck");function FX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FX,"_defineProperties");function eet(t,e,r){return e&&FX(t.prototype,e),r&&FX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(eet,"_createClass");function tet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qk(t,e)}i(tet,"_inherits");function qk(t,e){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),qk(t,e)}i(qk,"_setPrototypeOf");function ret(t){var e=iet();return i(function(){var n=Tb(t),a;if(e){var o=Tb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return net(this,a)},"_createSuperInternal")}i(ret,"_createSuper");function net(t,e){if(e&&(Rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}i(net,"_possibleConstructorReturn");function ao(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ao,"_assertThisInitialized");function iet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(iet,"_isNativeReflectConstruct");function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Tb(t)}i(Tb,"_getPrototypeOf");function lh(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(lh,"_classPrivateFieldLooseBase");var oet=0;function xk(t){return"__private_"+oet+++"_"+t}i(xk,"_classPrivateFieldLooseKey");var aet={version:"3.0.2"},LX={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},ch=xk("retryDelayIterator"),fh=xk("queueRequestSocketToken"),kk=xk("requestSocketToken"),Cl=function(t){tet(r,t);var e=ret(r);function r(n,a){var o;ZZe(this,r);var u,s;o=e.call(this,n,a),Object.defineProperty(ao(o),ch,{writable:!0,value:void 0}),Object.defineProperty(ao(o),fh,{writable:!0,value:void 0}),Object.defineProperty(ao(o),kk,{writable:!0,value:function(){var p=CX(ph().mark(i(function y(m){var w,_,R,T;return ph().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:return w=m.remote.providerOptions.provider?Me:ht,_=new w(o.uppy,m.remote.providerOptions),R=Ct({},o.opts),m.tus&&Object.assign(R,m.tus),A.next=6,_.post(m.remote.url,Ct(Ct({},m.remote.body),{},{endpoint:R.endpoint,uploadUrl:R.uploadUrl,protocol:"tus",size:m.data.size,headers:R.headers,metadata:m.meta}));case 6:return T=A.sent,A.abrupt("return",T.token);case 8:case"end":return A.stop()}},"_callee$"),y)},"_callee")));function h(y){return p.apply(this,arguments)}return i(h,"value"),h}()}),o.type="uploader",o.id=o.opts.id||"Tus",o.title="Tus";var c={useFastRemoteRetry:!0,limit:20,retryDelays:LX.retryDelays,withCredentials:!1};if(o.opts=Ct(Ct({},c),a),(a==null?void 0:a.allowedMetaFields)===void 0&&"metaFields"in o.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in a)throw new Error("The `autoRetry` option was deprecated and has been removed.");return o.requests=(u=o.opts.rateLimitedQueue)!=null?u:new hn(o.opts.limit),lh(ao(o),ch)[ch]=(s=o.opts.retryDelays)==null?void 0:s.values(),o.uploaders=Object.create(null),o.uploaderEvents=Object.create(null),o.uploaderSockets=Object.create(null),o.handleResetProgress=o.handleResetProgress.bind(ao(o)),o.handleUpload=o.handleUpload.bind(ao(o)),lh(ao(o),fh)[fh]=o.requests.wrapPromiseFunction(lh(ao(o),kk)[kk]),o}return i(r,"Tus"),eet(r,[{key:"handleResetProgress",value:i(function(){var a=Ct({},this.uppy.getState().files);Object.keys(a).forEach(function(o){if(a[o].tus&&a[o].tus.uploadUrl){var u=Ct({},a[o].tus);delete u.uploadUrl,a[o]=Ct(Ct({},a[o]),{},{tus:u})}}),this.uppy.setState({files:a})},"handleResetProgress")},{key:"resetUploaderReferences",value:i(function(a,o){if(o===void 0&&(o={}),this.uploaders[a]){var u=this.uploaders[a];u.abort(),o.abort&&u.abort(!0),this.uploaders[a]=null}this.uploaderEvents[a]&&(this.uploaderEvents[a].remove(),this.uploaderEvents[a]=null),this.uploaderSockets[a]&&(this.uploaderSockets[a].close(),this.uploaderSockets[a]=null)},"resetUploaderReferences")},{key:"upload",value:i(function(a){var o=this,u=this;return this.resetUploaderReferences(a.id),new Promise(function(s,c){var p,h,y;o.uppy.emit("upload-started",a);var m=Ct(Ct({},o.opts),a.tus||{});typeof m.headers=="function"&&(m.headers=m.headers(a));var w=Ct(Ct({},LX),m);w.fingerprint=Ik(a),w.onBeforeRequest=function(A){var C=A.getUnderlyingObject();C.withCredentials=!!m.withCredentials;var U;if(typeof m.onBeforeRequest=="function"&&(U=m.onBeforeRequest(A,a)),Dr(p,"shouldBeRequeued")){if(!p.shouldBeRequeued)return Promise.reject();var G,M=new Promise(function(z){G=z});return p=o.requests.run(function(){return a.isPaused&&p.abort(),G(),function(){}}),Promise.all([M,U])}return U},w.onError=function(A){var C;o.uppy.log(A);var U=A.originalRequest?A.originalRequest.getUnderlyingObject():null;Tu(U)&&(A=new xn(A,U)),o.resetUploaderReferences(a.id),(C=p)==null||C.abort(),o.uppy.emit("upload-error",a,A),c(A)},w.onProgress=function(A,C){o.onReceiveUploadUrl(a,y.url),o.uppy.emit("upload-progress",a,{uploader:o,bytesUploaded:A,bytesTotal:C})},w.onSuccess=function(){var A={uploadURL:y.url};o.resetUploaderReferences(a.id),p.done(),o.uppy.emit("upload-success",a,A),y.url&&o.uppy.log("Download ".concat(y.file.name," from ").concat(y.url)),s(y)};var _=i(function(C){var U,G=C==null||(U=C.originalResponse)==null?void 0:U.getStatus();if(G===429){if(!o.requests.isPaused){var M,z=(M=lh(o,ch)[ch])==null?void 0:M.next();if(z==null||z.done)return!1;o.requests.rateLimit(z.value)}}else{if(G>400&&G<500&&G!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(o.requests.isPaused||(o.requests.pause(),window.addEventListener("online",function(){o.requests.resume()},{once:!0})))}return p.abort(),p={shouldBeRequeued:!0,abort:i(function(){this.shouldBeRequeued=!1},"abort"),done:i(function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},"done"),fn:i(function(){throw new Error("Cannot run a queued request: this indicates a bug")},"fn")},!0},"defaultOnShouldRetry");m.onShouldRetry!=null?w.onShouldRetry=function(){for(var A=arguments.length,C=new Array(A),U=0;U<A;U++)C[U]=arguments[U];return m.onShouldRetry.apply(m,C.concat([_]))}:w.onShouldRetry=_;var R=i(function(C,U,G){Dr(C,U)&&!Dr(C,G)&&(C[G]=C[U])},"copyProp"),T={},E=Array.isArray(m.allowedMetaFields)?m.allowedMetaFields:Object.keys(a.meta);E.forEach(function(A){T[A]=a.meta[A]}),R(T,"type","filetype"),R(T,"name","filename"),w.metadata=T,y=new AX(a.data,w),o.uploaders[a.id]=y,o.uploaderEvents[a.id]=new dn(o.uppy),h=i(function(){return a.isPaused||y.start(),function(){}},"qRequest"),y.findPreviousUploads().then(function(A){var C=A[0];C&&(o.uppy.log("[Tus] Resuming upload of ".concat(a.id," started at ").concat(C.creationTime)),y.resumeFromPreviousUpload(C))}),p=o.requests.run(h),o.onFileRemove(a.id,function(A){p.abort(),o.resetUploaderReferences(a.id,{abort:!!y.url}),s("upload ".concat(A," was removed"))}),o.onPause(a.id,function(A){p.abort(),A?y.abort():p=o.requests.run(h)}),o.onPauseAll(a.id,function(){p.abort(),y.abort()}),o.onCancelAll(a.id,function(A){var C=A===void 0?{}:A,U=C.reason;U==="user"&&(p.abort(),u.resetUploaderReferences(a.id,{abort:!!y.url})),s("upload ".concat(a.id," was canceled"))}),o.onResumeAll(a.id,function(){p.abort(),a.error&&y.abort(),p=o.requests.run(h)})}).catch(function(s){throw o.uppy.emit("upload-error",a,s),s})},"upload")},{key:"uploadRemote",value:function(){var n=CX(ph().mark(i(function o(u){var s;return ph().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.resetUploaderReferences(u.id),(!u.progress.uploadStarted||!u.isRestored)&&this.uppy.emit("upload-started",u),p.prev=2,!u.serverToken){p.next=5;break}return p.abrupt("return",this.connectToServerSocket(u));case 5:return p.next=7,lh(this,fh)[fh](u);case 7:return s=p.sent,this.uppy.setFileState(u.id,{serverToken:s}),p.abrupt("return",this.connectToServerSocket(this.uppy.getFile(u.id)));case 12:throw p.prev=12,p.t0=p.catch(2),this.uppy.emit("upload-error",u,p.t0),p.t0;case 16:case"end":return p.stop()}},"_callee2$"),o,this,[[2,12]])},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"uploadRemote"),a}()},{key:"connectToServerSocket",value:i(function(a){var o=this,u=this;return new Promise(function(s,c){var p=a.serverToken,h=ro(a.remote.companionUrl),y=new ii({target:"".concat(h,"/api/").concat(p)});o.uploaderSockets[a.id]=y,o.uploaderEvents[a.id]=new dn(o.uppy);var m;o.onFileRemove(a.id,function(){m.abort(),y.send("cancel",{}),o.resetUploaderReferences(a.id),s("upload ".concat(a.id," was removed"))}),o.onPause(a.id,function(w){w?(m.abort(),y.send("pause",{})):(m.abort(),m=o.requests.run(function(){return y.send("resume",{}),function(){}}))}),o.onPauseAll(a.id,function(){m.abort(),y.send("pause",{})}),o.onCancelAll(a.id,function(w){var _=w===void 0?{}:w,R=_.reason;R==="user"&&(m.abort(),y.send("cancel",{}),u.resetUploaderReferences(a.id)),s("upload ".concat(a.id," was canceled"))}),o.onResumeAll(a.id,function(){m.abort(),a.error&&y.send("pause",{}),m=o.requests.run(function(){return y.send("resume",{}),function(){}})}),o.onRetry(a.id,function(){y.isOpen&&(y.send("pause",{}),y.send("resume",{}))}),o.onRetryAll(a.id,function(){y.isOpen&&(y.send("pause",{}),y.send("resume",{}))}),y.on("progress",function(w){return aa(o,w,a)}),y.on("error",function(w){var _=w.error.message,R=Object.assign(new Error(_),{cause:w.error});o.opts.useFastRemoteRetry?y.close():(o.resetUploaderReferences(a.id),o.uppy.setFileState(a.id,{serverToken:null})),o.uppy.emit("upload-error",a,R),m.done(),c(R)}),y.on("success",function(w){var _={uploadURL:w.url};o.uppy.emit("upload-success",a,_),o.resetUploaderReferences(a.id),m.done(),s()}),m=o.requests.run(function(){return a.isPaused&&y.send("pause",{}),function(){}})})},"connectToServerSocket")},{key:"onReceiveUploadUrl",value:i(function(a,o){var u=this.uppy.getFile(a.id);!u||(!u.tus||u.tus.uploadUrl!==o)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(u.id,{tus:Ct(Ct({},u.tus),{},{uploadUrl:o})}))},"onReceiveUploadUrl")},{key:"onFileRemove",value:i(function(a,o){this.uploaderEvents[a].on("file-removed",function(u){a===u.id&&o(u.id)})},"onFileRemove")},{key:"onPause",value:i(function(a,o){this.uploaderEvents[a].on("upload-pause",function(u,s){a===u&&o(s)})},"onPause")},{key:"onRetry",value:i(function(a,o){this.uploaderEvents[a].on("upload-retry",function(u){a===u&&o()})},"onRetry")},{key:"onRetryAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("retry-all",function(){!u.uppy.getFile(a)||o()})},"onRetryAll")},{key:"onPauseAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("pause-all",function(){!u.uppy.getFile(a)||o()})},"onPauseAll")},{key:"onCancelAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("cancel-all",function(){!u.uppy.getFile(a)||o.apply(void 0,arguments)})},"onCancelAll")},{key:"onResumeAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("resume-all",function(){!u.uppy.getFile(a)||o()})},"onResumeAll")},{key:"uploadFiles",value:i(function(a){var o=this,u=a.map(function(s,c){var p=c+1,h=a.length;return"error"in s&&s.error?Promise.reject(new Error(s.error)):s.isRemote?((!s.progress.uploadStarted||!s.isRestored)&&o.uppy.emit("upload-started",s),o.uploadRemote(s,p,h)):((!s.progress.uploadStarted||!s.isRestored)&&o.uppy.emit("upload-started",s),o.upload(s,p,h))});return sh(u)},"uploadFiles")},{key:"handleUpload",value:i(function(a){var o=this;if(a.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var u=a.map(function(s){return o.uppy.getFile(s)});return this.uploadFiles(u).then(function(){return null})},"handleUpload")},{key:"install",value:i(function(){this.uppy.setState({capabilities:Ct(Ct({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)},"install")},{key:"uninstall",value:i(function(){this.uppy.setState({capabilities:Ct(Ct({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)},"uninstall")}]),r}(lt);Cl.VERSION=aet.version;var LJ=Te(Fk(),1);var Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";var hh=Object.create(null);Object.keys(Nn).forEach(function(t){hh[Nn[t]]=t});var jX={type:"error",data:"parser error"};var set=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",cet=typeof ArrayBuffer=="function",fet=i(function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},"isView"),pet=i(function(e,r,n){var a=e.type,o=e.data;return set&&o instanceof Blob?r?n(o):NX(o,n):cet&&(o instanceof ArrayBuffer||fet(o))?r?n(o):NX(new Blob([o]),n):n(Nn[a]+(o||""))},"encodePacket"),NX=i(function(e,r){var n=new FileReader;return n.onload=function(){var a=n.result.split(",")[1];r("b"+a)},n.readAsDataURL(e)},"encodeBlobAsBase64"),Ab=pet;var DX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vh=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(dh=0;dh<DX.length;dh++)vh[DX.charCodeAt(dh)]=dh;var dh;var UX=i(function(e){var r=e.length*.75,n=e.length,a,o=0,u,s,c,p;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var h=new ArrayBuffer(r),y=new Uint8Array(h);for(a=0;a<n;a+=4)u=vh[e.charCodeAt(a)],s=vh[e.charCodeAt(a+1)],c=vh[e.charCodeAt(a+2)],p=vh[e.charCodeAt(a+3)],y[o++]=u<<2|s>>4,y[o++]=(s&15)<<4|c>>2,y[o++]=(c&3)<<6|p&63;return h},"decode");var het=typeof ArrayBuffer=="function",det=i(function(e,r){if(typeof e!="string")return{type:"message",data:MX(e,r)};var n=e.charAt(0);if(n==="b")return{type:"message",data:vet(e.substring(1),r)};var a=hh[n];return a?e.length>1?{type:hh[n],data:e.substring(1)}:{type:hh[n]}:jX},"decodePacket"),vet=i(function(e,r){if(het){var n=UX(e);return MX(n,r)}else return{base64:!0,data:e}},"decodeBase64Packet"),MX=i(function(e,r){switch(r){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},"mapBinary"),Ib=det;var BX=String.fromCharCode(30),$X=i(function(e,r){var n=e.length,a=new Array(n),o=0;e.forEach(function(u,s){Ab(u,!1,function(c){a[s]=c,++o===n&&r(a.join(BX))})})},"encodePayload"),zX=i(function(e,r){for(var n=e.split(BX),a=[],o=0;o<n.length;o++){var u=Ib(n[o],r);if(a.push(u),u.type==="error")break}return a},"decodePayload"),Lk=4;function Qe(t){if(t)return yet(t)}i(Qe,"Emitter");function yet(t){for(var e in Qe.prototype)t[e]=Qe.prototype[e];return t}i(yet,"mixin");Qe.prototype.on=Qe.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Qe.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return i(r,"on"),r.fn=e,this.on(t,r),this};Qe.prototype.off=Qe.prototype.removeListener=Qe.prototype.removeAllListeners=Qe.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Qe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Qe.prototype.emitReserved=Qe.prototype.emit;Qe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Qe.prototype.hasListeners=function(t){return!!this.listeners(t).length};var mn=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}();function kb(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce(function(a,o){return t.hasOwnProperty(o)&&(a[o]=t[o]),a},{})}i(kb,"pick");var met=setTimeout,get=clearTimeout;function uo(t,e){e.useNativeTimers?(t.setTimeoutFn=met.bind(mn),t.clearTimeoutFn=get.bind(mn)):(t.setTimeoutFn=setTimeout.bind(mn),t.clearTimeoutFn=clearTimeout.bind(mn))}i(uo,"installTimerFunctions");var bet=1.33;function GX(t){return typeof t=="string"?wet(t):Math.ceil((t.byteLength||t.size)*bet)}i(GX,"byteLength");function wet(t){for(var e=0,r=0,n=0,a=t.length;n<a;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}i(wet,"utf8Length");function jk(t){return jk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(t)}i(jk,"_typeof");function Lu(){return typeof Reflect!="undefined"&&Reflect.get?Lu=Reflect.get.bind():Lu=i(function(e,r,n){var a=Oet(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),Lu.apply(this,arguments)}i(Lu,"_get");function Oet(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=mi(t),t!==null););return t}i(Oet,"_superPropBase");function HX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(HX,"_defineProperties");function VX(t,e,r){return e&&HX(t.prototype,e),r&&HX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(VX,"_createClass");function WX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(WX,"_classCallCheck");function KX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yh(t,e)}i(KX,"_inherits");function YX(t){var e=JX();return i(function(){var n=mi(t),a;if(e){var o=mi(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _et(this,a)},"_createSuperInternal")}i(YX,"_createSuper");function _et(t,e){if(e&&(jk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(t)}i(_et,"_possibleConstructorReturn");function XX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(XX,"_assertThisInitialized");function Nk(t){var e=typeof Map=="function"?new Map:void 0;return Nk=i(function(n){if(n===null||!Pet(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return qb(n,arguments,mi(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),yh(a,n)},"_wrapNativeSuper"),Nk(t)}i(Nk,"_wrapNativeSuper");function qb(t,e,r){return JX()?qb=Reflect.construct.bind():qb=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),p=new c;return u&&yh(p,u.prototype),p},"_construct"),qb.apply(null,arguments)}i(qb,"_construct");function JX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(JX,"_isNativeReflectConstruct");function Pet(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(Pet,"_isNativeFunction");function yh(t,e){return yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),yh(t,e)}i(yh,"_setPrototypeOf");function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),mi(t)}i(mi,"_getPrototypeOf");var Eet=function(t){KX(r,t);var e=YX(r);function r(n,a,o){var u;return WX(this,r),u=e.call(this,n),u.description=a,u.context=o,u.type="TransportError",u}return i(r,"TransportError"),VX(r)}(Nk(Error)),mh=function(t){KX(r,t);var e=YX(r);function r(n){var a;return WX(this,r),a=e.call(this),a.writable=!1,uo(XX(a),n),a.opts=n,a.query=n.query,a.readyState="",a.socket=n.socket,a}return i(r,"Transport"),VX(r,[{key:"onError",value:i(function(a,o,u){return Lu(mi(r.prototype),"emitReserved",this).call(this,"error",new Eet(a,o,u)),this},"onError")},{key:"open",value:i(function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},"open")},{key:"close",value:i(function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},"close")},{key:"send",value:i(function(a){this.readyState==="open"&&this.write(a)},"send")},{key:"onOpen",value:i(function(){this.readyState="open",this.writable=!0,Lu(mi(r.prototype),"emitReserved",this).call(this,"open")},"onOpen")},{key:"onData",value:i(function(a){var o=Ib(a,this.socket.binaryType);this.onPacket(o)},"onData")},{key:"onPacket",value:i(function(a){Lu(mi(r.prototype),"emitReserved",this).call(this,"packet",a)},"onPacket")},{key:"onClose",value:i(function(a){this.readyState="closed",Lu(mi(r.prototype),"emitReserved",this).call(this,"close",a)},"onClose")}]),r}(Qe);var tJ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Dk=64,Ret={},QX=0,xb=0,ZX;function eJ(t){var e="";do e=tJ[t%Dk]+e,t=Math.floor(t/Dk);while(t>0);return e}i(eJ,"encode");function Cb(){var t=eJ(+new Date);return t!==ZX?(QX=0,ZX=t):t+"."+eJ(QX++)}i(Cb,"yeast");for(;xb<Dk;xb++)Ret[tJ[xb]]=xb;function Fb(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}i(Fb,"encode");function rJ(t){for(var e={},r=t.split("&"),n=0,a=r.length;n<a;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}i(rJ,"decode");var nJ=!1;try{nJ=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}var iJ=nJ;function Uk(t){var e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||iJ))return new XMLHttpRequest}catch(r){}if(!e)try{return new mn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}i(Uk,"XHR");function Mk(t){return Mk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mk(t)}i(Mk,"_typeof");function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(sJ,"_classCallCheck");function oJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(oJ,"_defineProperties");function lJ(t,e,r){return e&&oJ(t.prototype,e),r&&oJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(lJ,"_createClass");function cJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bk(t,e)}i(cJ,"_inherits");function Bk(t,e){return Bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Bk(t,e)}i(Bk,"_setPrototypeOf");function fJ(t){var e=Aet();return i(function(){var n=Lb(t),a;if(e){var o=Lb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Tet(this,a)},"_createSuperInternal")}i(fJ,"_createSuper");function Tet(t,e){if(e&&(Mk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pJ(t)}i(Tet,"_possibleConstructorReturn");function pJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(pJ,"_assertThisInitialized");function Aet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Aet,"_isNativeReflectConstruct");function Lb(t){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Lb(t)}i(Lb,"_getPrototypeOf");function Iet(){}i(Iet,"empty");var ket=function(){var t=new Uk({xdomain:!1});return t.responseType!=null}(),hJ=function(t){cJ(r,t);var e=fJ(r);function r(n){var a;if(sJ(this,r),a=e.call(this,n),a.polling=!1,typeof location!="undefined"){var o=location.protocol==="https:",u=location.port;u||(u=o?"443":"80"),a.xd=typeof location!="undefined"&&n.hostname!==location.hostname||u!==n.port,a.xs=n.secure!==o}var s=n&&n.forceBase64;return a.supportsBinary=ket&&!s,a}return i(r,"Polling"),lJ(r,[{key:"name",get:i(function(){return"polling"},"get")},{key:"doOpen",value:i(function(){this.poll()},"doOpen")},{key:"pause",value:i(function(a){var o=this;this.readyState="pausing";var u=i(function(){o.readyState="paused",a()},"pause");if(this.polling||!this.writable){var s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||u()})),this.writable||(s++,this.once("drain",function(){--s||u()}))}else u()},"pause")},{key:"poll",value:i(function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")},"poll")},{key:"onData",value:i(function(a){var o=this,u=i(function(c){if(o.readyState==="opening"&&c.type==="open"&&o.onOpen(),c.type==="close")return o.onClose({description:"transport closed by the server"}),!1;o.onPacket(c)},"callback");zX(a,this.socket.binaryType).forEach(u),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())},"onData")},{key:"doClose",value:i(function(){var a=this,o=i(function(){a.write([{type:"close"}])},"close");this.readyState==="open"?o():this.once("open",o)},"doClose")},{key:"write",value:i(function(a){var o=this;this.writable=!1,$X(a,function(u){o.doWrite(u,function(){o.writable=!0,o.emitReserved("drain")})})},"write")},{key:"uri",value:i(function(){var a=this.query||{},o=this.opts.secure?"https":"http",u="";this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=Cb()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.opts.port&&(o==="https"&&Number(this.opts.port)!==443||o==="http"&&Number(this.opts.port)!==80)&&(u=":"+this.opts.port);var s=Fb(a),c=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(c?"["+this.opts.hostname+"]":this.opts.hostname)+u+this.opts.path+(s.length?"?"+s:"")},"uri")},{key:"request",value:i(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(a,{xd:this.xd,xs:this.xs},this.opts),new Fl(this.uri(),a)},"request")},{key:"doWrite",value:i(function(a,o){var u=this,s=this.request({method:"POST",data:a});s.on("success",o),s.on("error",function(c,p){u.onError("xhr post error",c,p)})},"doWrite")},{key:"doPoll",value:i(function(){var a=this,o=this.request();o.on("data",this.onData.bind(this)),o.on("error",function(u,s){a.onError("xhr poll error",u,s)}),this.pollXhr=o},"doPoll")}]),r}(mh),Fl=function(t){cJ(r,t);var e=fJ(r);function r(n,a){var o;return sJ(this,r),o=e.call(this),uo(pJ(o),a),o.opts=a,o.method=a.method||"GET",o.uri=n,o.async=a.async!==!1,o.data=a.data!==void 0?a.data:null,o.create(),o}return i(r,"Request"),lJ(r,[{key:"create",value:i(function(){var a=this,o=kb(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd,o.xscheme=!!this.opts.xs;var u=this.xhr=new Uk(o);try{u.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){u.setDisableHeaderCheck&&u.setDisableHeaderCheck(!0);for(var s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&u.setRequestHeader(s,this.opts.extraHeaders[s])}}catch(c){}if(this.method==="POST")try{u.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(c){}try{u.setRequestHeader("Accept","*/*")}catch(c){}"withCredentials"in u&&(u.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(u.timeout=this.opts.requestTimeout),u.onreadystatechange=function(){u.readyState===4&&(u.status===200||u.status===1223?a.onLoad():a.setTimeoutFn(function(){a.onError(typeof u.status=="number"?u.status:0)},0))},u.send(this.data)}catch(c){this.setTimeoutFn(function(){a.onError(c)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)},"create")},{key:"onError",value:i(function(a){this.emitReserved("error",a,this.xhr),this.cleanup(!0)},"onError")},{key:"cleanup",value:i(function(a){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Iet,a)try{this.xhr.abort()}catch(o){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}},"cleanup")},{key:"onLoad",value:i(function(){var a=this.xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this.cleanup())},"onLoad")},{key:"abort",value:i(function(){this.cleanup()},"abort")}]),r}(Qe);Fl.requestsCount=0;Fl.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",uJ):typeof addEventListener=="function"&&(aJ="onpagehide"in mn?"pagehide":"unload",addEventListener(aJ,uJ,!1)));var aJ;function uJ(){for(var t in Fl.requests)Fl.requests.hasOwnProperty(t)&&Fl.requests[t].abort()}i(uJ,"unloadHandler");var dJ=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(e){return Promise.resolve().then(e)}:function(e,r){return r(e,0)}}(),gh=mn.WebSocket||mn.MozWebSocket,jb=!0,vJ="arraybuffer";function $k(t){return $k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$k(t)}i($k,"_typeof");function qet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(qet,"_classCallCheck");function yJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(yJ,"_defineProperties");function xet(t,e,r){return e&&yJ(t.prototype,e),r&&yJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(xet,"_createClass");function Cet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zk(t,e)}i(Cet,"_inherits");function zk(t,e){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),zk(t,e)}i(zk,"_setPrototypeOf");function Fet(t){var e=Net();return i(function(){var n=Nb(t),a;if(e){var o=Nb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Let(this,a)},"_createSuperInternal")}i(Fet,"_createSuper");function Let(t,e){if(e&&($k(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jet(t)}i(Let,"_possibleConstructorReturn");function jet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(jet,"_assertThisInitialized");function Net(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Net,"_isNativeReflectConstruct");function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Nb(t)}i(Nb,"_getPrototypeOf");var mJ=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",gJ=function(t){Cet(r,t);var e=Fet(r);function r(n){var a;return qet(this,r),a=e.call(this,n),a.supportsBinary=!n.forceBase64,a}return i(r,"WS"),xet(r,[{key:"name",get:i(function(){return"websocket"},"get")},{key:"doOpen",value:i(function(){if(!!this.check()){var a=this.uri(),o=this.opts.protocols,u=mJ?{}:kb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(u.headers=this.opts.extraHeaders);try{this.ws=jb&&!mJ?o?new gh(a,o):new gh(a):new gh(a,o,u)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||vJ,this.addEventListeners()}},"doOpen")},{key:"addEventListeners",value:i(function(){var a=this;this.ws.onopen=function(){a.opts.autoUnref&&a.ws._socket.unref(),a.onOpen()},this.ws.onclose=function(o){return a.onClose({description:"websocket connection closed",context:o})},this.ws.onmessage=function(o){return a.onData(o.data)},this.ws.onerror=function(o){return a.onError("websocket error",o)}},"addEventListeners")},{key:"write",value:i(function(a){var o=this;this.writable=!1;for(var u=i(function(p){var h=a[p],y=p===a.length-1;Ab(h,o.supportsBinary,function(m){var w={};if(!jb&&(h.options&&(w.compress=h.options.compress),o.opts.perMessageDeflate)){var _=typeof m=="string"?Buffer.byteLength(m):m.length;_<o.opts.perMessageDeflate.threshold&&(w.compress=!1)}try{jb?o.ws.send(m):o.ws.send(m,w)}catch(R){}y&&dJ(function(){o.writable=!0,o.emitReserved("drain")},o.setTimeoutFn)})},"_loop"),s=0;s<a.length;s++)u(s)},"write")},{key:"doClose",value:i(function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)},"doClose")},{key:"uri",value:i(function(){var a=this.query||{},o=this.opts.secure?"wss":"ws",u="";this.opts.port&&(o==="wss"&&Number(this.opts.port)!==443||o==="ws"&&Number(this.opts.port)!==80)&&(u=":"+this.opts.port),this.opts.timestampRequests&&(a[this.opts.timestampParam]=Cb()),this.supportsBinary||(a.b64=1);var s=Fb(a),c=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(c?"["+this.opts.hostname+"]":this.opts.hostname)+u+this.opts.path+(s.length?"?"+s:"")},"uri")},{key:"check",value:i(function(){return!!gh},"check")}]),r}(mh);var Gk={websocket:gJ,polling:hJ};var Det=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Uet=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ll(t){var e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));for(var a=Det.exec(t||""),o={},u=14;u--;)o[Uet[u]]=a[u]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Met(o,o.path),o.queryKey=Bet(o,o.query),o}i(Ll,"parse");function Met(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}i(Met,"pathNames");function Bet(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(r[a]=o)}),r}i(Bet,"queryKey");function Db(t){return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}i(Db,"_typeof");function $et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($et,"_classCallCheck");function bJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(bJ,"_defineProperties");function zet(t,e,r){return e&&bJ(t.prototype,e),r&&bJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(zet,"_createClass");function Get(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hk(t,e)}i(Get,"_inherits");function Hk(t,e){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Hk(t,e)}i(Hk,"_setPrototypeOf");function Het(t){var e=Wet();return i(function(){var n=Ub(t),a;if(e){var o=Ub(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Vet(this,a)},"_createSuperInternal")}i(Het,"_createSuper");function Vet(t,e){if(e&&(Db(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wJ(t)}i(Vet,"_possibleConstructorReturn");function wJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(wJ,"_assertThisInitialized");function Wet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Wet,"_isNativeReflectConstruct");function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ub(t)}i(Ub,"_getPrototypeOf");var bh=function(t){Get(r,t);var e=Het(r);function r(n){var a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $et(this,r),a=e.call(this),n&&Db(n)==="object"&&(o=n,n=null),n?(n=Ll(n),o.hostname=n.host,o.secure=n.protocol==="https"||n.protocol==="wss",o.port=n.port,n.query&&(o.query=n.query)):o.host&&(o.hostname=Ll(o.host).host),uo(wJ(a),o),a.secure=o.secure!=null?o.secure:typeof location!="undefined"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=a.secure?"443":"80"),a.hostname=o.hostname||(typeof location!="undefined"?location.hostname:"localhost"),a.port=o.port||(typeof location!="undefined"&&location.port?location.port:a.secure?"443":"80"),a.transports=o.transports||["polling","websocket"],a.readyState="",a.writeBuffer=[],a.prevBufferLen=0,a.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),a.opts.path=a.opts.path.replace(/\/$/,"")+"/",typeof a.opts.query=="string"&&(a.opts.query=rJ(a.opts.query)),a.id=null,a.upgrades=null,a.pingInterval=null,a.pingTimeout=null,a.pingTimeoutTimer=null,typeof addEventListener=="function"&&(a.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){a.transport&&(a.transport.removeAllListeners(),a.transport.close())},!1),a.hostname!=="localhost"&&(a.offlineEventListener=function(){a.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",a.offlineEventListener,!1))),a.open(),a}return i(r,"Socket"),zet(r,[{key:"createTransport",value:i(function(a){var o=Object.assign({},this.opts.query);o.EIO=Lk,o.transport=a,this.id&&(o.sid=this.id);var u=Object.assign({},this.opts.transportOptions[a],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Gk[a](u)},"createTransport")},{key:"open",value:i(function(){var a=this,o;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)o="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){a.emitReserved("error","No transports available")},0);return}else o=this.transports[0];this.readyState="opening";try{o=this.createTransport(o)}catch(u){this.transports.shift(),this.open();return}o.open(),this.setTransport(o)},"open")},{key:"setTransport",value:i(function(a){var o=this;this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(u){return o.onClose("transport close",u)})},"setTransport")},{key:"probe",value:i(function(a){var o=this,u=this.createTransport(a),s=!1;r.priorWebsocketSuccess=!1;var c=i(function(){s||(u.send([{type:"ping",data:"probe"}]),u.once("packet",function(T){if(!s)if(T.type==="pong"&&T.data==="probe"){if(o.upgrading=!0,o.emitReserved("upgrading",u),!u)return;r.priorWebsocketSuccess=u.name==="websocket",o.transport.pause(function(){s||o.readyState!=="closed"&&(_(),o.setTransport(u),u.send([{type:"upgrade"}]),o.emitReserved("upgrade",u),u=null,o.upgrading=!1,o.flush())})}else{var E=new Error("probe error");E.transport=u.name,o.emitReserved("upgradeError",E)}}))},"onTransportOpen");function p(){s||(s=!0,_(),u.close(),u=null)}i(p,"freezeTransport");var h=i(function(T){var E=new Error("probe error: "+T);E.transport=u.name,p(),o.emitReserved("upgradeError",E)},"onerror");function y(){h("transport closed")}i(y,"onTransportClose");function m(){h("socket closed")}i(m,"onclose");function w(R){u&&R.name!==u.name&&p()}i(w,"onupgrade");var _=i(function(){u.removeListener("open",c),u.removeListener("error",h),u.removeListener("close",y),o.off("close",m),o.off("upgrading",w)},"cleanup");u.once("open",c),u.once("error",h),u.once("close",y),this.once("close",m),this.once("upgrading",w),u.open()},"probe")},{key:"onOpen",value:i(function(){if(this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause)for(var a=0,o=this.upgrades.length;a<o;a++)this.probe(this.upgrades[a])},"onOpen")},{key:"onPacket",value:i(function(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var o=new Error("server error");o.code=a.data,this.onError(o);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}},"onPacket")},{key:"onHandshake",value:i(function(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()},"onHandshake")},{key:"resetPingTimeout",value:i(function(){var a=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){a.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()},"resetPingTimeout")},{key:"onDrain",value:i(function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()},"onDrain")},{key:"flush",value:i(function(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var a=this.getWritablePackets();this.transport.send(a),this.prevBufferLen=a.length,this.emitReserved("flush")}},"flush")},{key:"getWritablePackets",value:i(function(){var a=this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!a)return this.writeBuffer;for(var o=1,u=0;u<this.writeBuffer.length;u++){var s=this.writeBuffer[u].data;if(s&&(o+=GX(s)),u>0&&o>this.maxPayload)return this.writeBuffer.slice(0,u);o+=2}return this.writeBuffer},"getWritablePackets")},{key:"write",value:i(function(a,o,u){return this.sendPacket("message",a,o,u),this},"write")},{key:"send",value:i(function(a,o,u){return this.sendPacket("message",a,o,u),this},"send")},{key:"sendPacket",value:i(function(a,o,u,s){if(typeof o=="function"&&(s=o,o=void 0),typeof u=="function"&&(s=u,u=null),!(this.readyState==="closing"||this.readyState==="closed")){u=u||{},u.compress=u.compress!==!1;var c={type:a,data:o,options:u};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),s&&this.once("flush",s),this.flush()}},"sendPacket")},{key:"close",value:i(function(){var a=this,o=i(function(){a.onClose("forced close"),a.transport.close()},"close"),u=i(function c(){a.off("upgrade",c),a.off("upgradeError",c),o()},"cleanupAndClose"),s=i(function(){a.once("upgrade",u),a.once("upgradeError",u)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){a.upgrading?s():o()}):this.upgrading?s():o()),this},"close")},{key:"onError",value:i(function(a){r.priorWebsocketSuccess=!1,this.emitReserved("error",a),this.onClose("transport error",a)},"onError")},{key:"onClose",value:i(function(a,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",a,o),this.writeBuffer=[],this.prevBufferLen=0)},"onClose")},{key:"filterUpgrades",value:i(function(a){for(var o=[],u=0,s=a.length;u<s;u++)~this.transports.indexOf(a[u])&&o.push(a[u]);return o},"filterUpgrades")}]),r}(Qe);bh.protocol=Lk;var lSt=bh.protocol;function OJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),n=Ll(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var a=n.host.indexOf(":")!==-1,o=a?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}i(OJ,"url");var Qk={};Hl(Qk,{Decoder:function(){return ott},Encoder:function(){return itt},PacketType:function(){return De},protocol:function(){return RJ}});function Vk(t){return Vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vk(t)}i(Vk,"_typeof");var Ket=typeof ArrayBuffer=="function",Yet=i(function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},"isView"),SJ=Object.prototype.toString,Xet=typeof Blob=="function"||typeof Blob!="undefined"&&SJ.call(Blob)==="[object BlobConstructor]",Jet=typeof File=="function"||typeof File!="undefined"&&SJ.call(File)==="[object FileConstructor]";function Oh(t){return Ket&&(t instanceof ArrayBuffer||Yet(t))||Xet&&t instanceof Blob||Jet&&t instanceof File}i(Oh,"isBinary");function wh(t,e){if(!t||Vk(t)!=="object")return!1;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(wh(t[r]))return!0;return!1}if(Oh(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wh(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&wh(t[a]))return!0;return!1}i(wh,"hasBinary");function Mb(t){return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}i(Mb,"_typeof");function _J(t){var e=[],r=t.data,n=t;return n.data=Wk(r,e),n.attachments=e.length,{packet:n,buffers:e}}i(_J,"deconstructPacket");function Wk(t,e){if(!t)return t;if(Oh(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){for(var n=new Array(t.length),a=0;a<t.length;a++)n[a]=Wk(t[a],e);return n}else if(Mb(t)==="object"&&!(t instanceof Date)){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(o[u]=Wk(t[u],e));return o}return t}i(Wk,"_deconstructPacket");function PJ(t,e){return t.data=Kk(t.data,e),t.attachments=void 0,t}i(PJ,"reconstructPacket");function Kk(t,e){if(!t)return t;if(t&&t._placeholder===!0){var r=typeof t.num=="number"&&t.num>=0&&t.num<e.length;if(r)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Kk(t[n],e);else if(Mb(t)==="object")for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]=Kk(t[a],e));return t}i(Kk,"_reconstructPacket");function Sh(t){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}i(Sh,"_typeof");function jl(){return typeof Reflect!="undefined"&&Reflect.get?jl=Reflect.get.bind():jl=i(function(e,r,n){var a=Qet(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),jl.apply(this,arguments)}i(jl,"_get");function Qet(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=sa(t),t!==null););return t}i(Qet,"_superPropBase");function Zet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yk(t,e)}i(Zet,"_inherits");function Yk(t,e){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Yk(t,e)}i(Yk,"_setPrototypeOf");function ett(t){var e=ntt();return i(function(){var n=sa(t),a;if(e){var o=sa(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return ttt(this,a)},"_createSuperInternal")}i(ett,"_createSuper");function ttt(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rtt(t)}i(ttt,"_possibleConstructorReturn");function rtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(rtt,"_assertThisInitialized");function ntt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(ntt,"_isNativeReflectConstruct");function sa(t){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),sa(t)}i(sa,"_getPrototypeOf");function Xk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Xk,"_classCallCheck");function EJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(EJ,"_defineProperties");function Jk(t,e,r){return e&&EJ(t.prototype,e),r&&EJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Jk,"_createClass");var RJ=5,De;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));var itt=function(){function t(e){Xk(this,t),this.replacer=e}return i(t,"Encoder"),Jk(t,[{key:"encode",value:i(function(r){return(r.type===De.EVENT||r.type===De.ACK)&&wh(r)?(r.type=r.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]},"encode")},{key:"encodeAsString",value:i(function(r){var n=""+r.type;return(r.type===De.BINARY_EVENT||r.type===De.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data,this.replacer)),n},"encodeAsString")},{key:"encodeAsBinary",value:i(function(r){var n=_J(r),a=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(a),o},"encodeAsBinary")}]),t}(),ott=function(t){Zet(r,t);var e=ett(r);function r(n){var a;return Xk(this,r),a=e.call(this),a.reviver=n,a}return i(r,"Decoder"),Jk(r,[{key:"add",value:i(function(a){var o;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(a),o.type===De.BINARY_EVENT||o.type===De.BINARY_ACK?(this.reconstructor=new att(o),o.attachments===0&&jl(sa(r.prototype),"emitReserved",this).call(this,"decoded",o)):jl(sa(r.prototype),"emitReserved",this).call(this,"decoded",o)}else if(Oh(a)||a.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(a),o&&(this.reconstructor=null,jl(sa(r.prototype),"emitReserved",this).call(this,"decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)},"add")},{key:"decodeString",value:i(function(a){var o=0,u={type:Number(a.charAt(0))};if(De[u.type]===void 0)throw new Error("unknown packet type "+u.type);if(u.type===De.BINARY_EVENT||u.type===De.BINARY_ACK){for(var s=o+1;a.charAt(++o)!=="-"&&o!=a.length;);var c=a.substring(s,o);if(c!=Number(c)||a.charAt(o)!=="-")throw new Error("Illegal attachments");u.attachments=Number(c)}if(a.charAt(o+1)==="/"){for(var p=o+1;++o;){var h=a.charAt(o);if(h===","||o===a.length)break}u.nsp=a.substring(p,o)}else u.nsp="/";var y=a.charAt(o+1);if(y!==""&&Number(y)==y){for(var m=o+1;++o;){var w=a.charAt(o);if(w==null||Number(w)!=w){--o;break}if(o===a.length)break}u.id=Number(a.substring(m,o+1))}if(a.charAt(++o)){var _=this.tryParse(a.substr(o));if(r.isPayloadValid(u.type,_))u.data=_;else throw new Error("invalid payload")}return u},"decodeString")},{key:"tryParse",value:i(function(a){try{return JSON.parse(a,this.reviver)}catch(o){return!1}},"tryParse")},{key:"destroy",value:i(function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},"destroy")}],[{key:"isPayloadValid",value:i(function(a,o){switch(a){case De.CONNECT:return Sh(o)==="object";case De.DISCONNECT:return o===void 0;case De.CONNECT_ERROR:return typeof o=="string"||Sh(o)==="object";case De.EVENT:case De.BINARY_EVENT:return Array.isArray(o)&&o.length>0;case De.ACK:case De.BINARY_ACK:return Array.isArray(o)}},"isPayloadValid")}]),r}(Qe),att=function(){function t(e){Xk(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return i(t,"BinaryReconstructor"),Jk(t,[{key:"takeBinaryData",value:i(function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=PJ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null},"takeBinaryData")},{key:"finishedReconstruction",value:i(function(){this.reconPack=null,this.buffers=[]},"finishedReconstruction")}]),t}();function Yr(t,e,r){return t.on(e,r),i(function(){t.off(e,r)},"subDestroy")}i(Yr,"on");function Zk(t){return Zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zk(t)}i(Zk,"_typeof");function TJ(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=utt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(TJ,"_createForOfIteratorHelper");function utt(t,e){if(!!t){if(typeof t=="string")return AJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AJ(t,e)}}i(utt,"_unsupportedIterableToArray");function AJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(AJ,"_arrayLikeToArray");function stt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(stt,"_classCallCheck");function IJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(IJ,"_defineProperties");function ltt(t,e,r){return e&&IJ(t.prototype,e),r&&IJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(ltt,"_createClass");function Bb(){return typeof Reflect!="undefined"&&Reflect.get?Bb=Reflect.get.bind():Bb=i(function(e,r,n){var a=ctt(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),Bb.apply(this,arguments)}i(Bb,"_get");function ctt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Nl(t),t!==null););return t}i(ctt,"_superPropBase");function ftt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eq(t,e)}i(ftt,"_inherits");function eq(t,e){return eq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),eq(t,e)}i(eq,"_setPrototypeOf");function ptt(t){var e=vtt();return i(function(){var n=Nl(t),a;if(e){var o=Nl(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return htt(this,a)},"_createSuperInternal")}i(ptt,"_createSuper");function htt(t,e){if(e&&(Zk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dtt(t)}i(htt,"_possibleConstructorReturn");function dtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(dtt,"_assertThisInitialized");function vtt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(vtt,"_isNativeReflectConstruct");function Nl(t){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Nl(t)}i(Nl,"_getPrototypeOf");var ytt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),$b=function(t){ftt(r,t);var e=ptt(r);function r(n,a,o){var u;return stt(this,r),u=e.call(this),u.connected=!1,u.receiveBuffer=[],u.sendBuffer=[],u.ids=0,u.acks={},u.flags={},u.io=n,u.nsp=a,o&&o.auth&&(u.auth=o.auth),u.io._autoConnect&&u.open(),u}return i(r,"Socket"),ltt(r,[{key:"disconnected",get:i(function(){return!this.connected},"get")},{key:"subEvents",value:i(function(){if(!this.subs){var a=this.io;this.subs=[Yr(a,"open",this.onopen.bind(this)),Yr(a,"packet",this.onpacket.bind(this)),Yr(a,"error",this.onerror.bind(this)),Yr(a,"close",this.onclose.bind(this))]}},"subEvents")},{key:"active",get:i(function(){return!!this.subs},"get")},{key:"connect",value:i(function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)},"connect")},{key:"open",value:i(function(){return this.connect()},"open")},{key:"send",value:i(function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return o.unshift("message"),this.emit.apply(this,o),this},"send")},{key:"emit",value:i(function(a){if(ytt.hasOwnProperty(a))throw new Error('"'+a+'" is a reserved event name');for(var o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];u.unshift(a);var c={type:De.EVENT,data:u};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof u[u.length-1]=="function"){var p=this.ids++,h=u.pop();this._registerAckCallback(p,h),c.id=p}var y=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,m=this.flags.volatile&&(!y||!this.connected);return m||(this.connected?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this},"emit")},{key:"_registerAckCallback",value:i(function(a,o){var u=this,s=this.flags.timeout;if(s===void 0){this.acks[a]=o;return}var c=this.io.setTimeoutFn(function(){delete u.acks[a];for(var p=0;p<u.sendBuffer.length;p++)u.sendBuffer[p].id===a&&u.sendBuffer.splice(p,1);o.call(u,new Error("operation has timed out"))},s);this.acks[a]=function(){u.io.clearTimeoutFn(c);for(var p=arguments.length,h=new Array(p),y=0;y<p;y++)h[y]=arguments[y];o.apply(u,[null].concat(h))}},"_registerAckCallback")},{key:"packet",value:i(function(a){a.nsp=this.nsp,this.io._packet(a)},"packet")},{key:"onopen",value:i(function(){var a=this;typeof this.auth=="function"?this.auth(function(o){a.packet({type:De.CONNECT,data:o})}):this.packet({type:De.CONNECT,data:this.auth})},"onopen")},{key:"onerror",value:i(function(a){this.connected||this.emitReserved("connect_error",a)},"onerror")},{key:"onclose",value:i(function(a,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,o)},"onclose")},{key:"onpacket",value:i(function(a){var o=a.nsp===this.nsp;if(!!o)switch(a.type){case De.CONNECT:if(a.data&&a.data.sid){var u=a.data.sid;this.onconnect(u)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(a);break;case De.ACK:case De.BINARY_ACK:this.onack(a);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();var s=new Error(a.data.message);s.data=a.data.data,this.emitReserved("connect_error",s);break}},"onpacket")},{key:"onevent",value:i(function(a){var o=a.data||[];a.id!=null&&o.push(this.ack(a.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))},"onevent")},{key:"emitEvent",value:i(function(a){if(this._anyListeners&&this._anyListeners.length){var o=this._anyListeners.slice(),u=TJ(o),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;c.apply(this,a)}}catch(p){u.e(p)}finally{u.f()}}Bb(Nl(r.prototype),"emit",this).apply(this,a)},"emitEvent")},{key:"ack",value:i(function(a){var o=this,u=!1;return function(){if(!u){u=!0;for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];o.packet({type:De.ACK,id:a,data:c})}}},"ack")},{key:"onack",value:i(function(a){var o=this.acks[a.id];typeof o=="function"&&(o.apply(this,a.data),delete this.acks[a.id])},"onack")},{key:"onconnect",value:i(function(a){this.id=a,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")},"onconnect")},{key:"emitBuffered",value:i(function(){var a=this;this.receiveBuffer.forEach(function(o){return a.emitEvent(o)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(o){a.notifyOutgoingListeners(o),a.packet(o)}),this.sendBuffer=[]},"emitBuffered")},{key:"ondisconnect",value:i(function(){this.destroy(),this.onclose("io server disconnect")},"ondisconnect")},{key:"destroy",value:i(function(){this.subs&&(this.subs.forEach(function(a){return a()}),this.subs=void 0),this.io._destroy(this)},"destroy")},{key:"disconnect",value:i(function(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},"disconnect")},{key:"close",value:i(function(){return this.disconnect()},"close")},{key:"compress",value:i(function(a){return this.flags.compress=a,this},"compress")},{key:"volatile",get:i(function(){return this.flags.volatile=!0,this},"get")},{key:"timeout",value:i(function(a){return this.flags.timeout=a,this},"timeout")},{key:"onAny",value:i(function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this},"onAny")},{key:"prependAny",value:i(function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this},"prependAny")},{key:"offAny",value:i(function(a){if(!this._anyListeners)return this;if(a){for(var o=this._anyListeners,u=0;u<o.length;u++)if(a===o[u])return o.splice(u,1),this}else this._anyListeners=[];return this},"offAny")},{key:"listenersAny",value:i(function(){return this._anyListeners||[]},"listenersAny")},{key:"onAnyOutgoing",value:i(function(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this},"onAnyOutgoing")},{key:"prependAnyOutgoing",value:i(function(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this},"prependAnyOutgoing")},{key:"offAnyOutgoing",value:i(function(a){if(!this._anyOutgoingListeners)return this;if(a){for(var o=this._anyOutgoingListeners,u=0;u<o.length;u++)if(a===o[u])return o.splice(u,1),this}else this._anyOutgoingListeners=[];return this},"offAnyOutgoing")},{key:"listenersAnyOutgoing",value:i(function(){return this._anyOutgoingListeners||[]},"listenersAnyOutgoing")},{key:"notifyOutgoingListeners",value:i(function(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var o=this._anyOutgoingListeners.slice(),u=TJ(o),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;c.apply(this,a.data)}}catch(p){u.e(p)}finally{u.f()}}},"notifyOutgoingListeners")}]),r}(Qe);function ju(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}i(ju,"Backoff");ju.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ju.prototype.reset=function(){this.attempts=0};ju.prototype.setMin=function(t){this.ms=t};ju.prototype.setMax=function(t){this.max=t};ju.prototype.setJitter=function(t){this.jitter=t};function zb(t){return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}i(zb,"_typeof");function mtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(mtt,"_classCallCheck");function kJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(kJ,"_defineProperties");function gtt(t,e,r){return e&&kJ(t.prototype,e),r&&kJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(gtt,"_createClass");function btt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tq(t,e)}i(btt,"_inherits");function tq(t,e){return tq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),tq(t,e)}i(tq,"_setPrototypeOf");function wtt(t){var e=Stt();return i(function(){var n=Gb(t),a;if(e){var o=Gb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Ott(this,a)},"_createSuperInternal")}i(wtt,"_createSuper");function Ott(t,e){if(e&&(zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qJ(t)}i(Ott,"_possibleConstructorReturn");function qJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qJ,"_assertThisInitialized");function Stt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Stt,"_isNativeReflectConstruct");function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Gb(t)}i(Gb,"_getPrototypeOf");var Hb=function(t){btt(r,t);var e=wtt(r);function r(n,a){var o;mtt(this,r);var u;o=e.call(this),o.nsps={},o.subs=[],n&&zb(n)==="object"&&(a=n,n=void 0),a=a||{},a.path=a.path||"/socket.io",o.opts=a,uo(qJ(o),a),o.reconnection(a.reconnection!==!1),o.reconnectionAttempts(a.reconnectionAttempts||1/0),o.reconnectionDelay(a.reconnectionDelay||1e3),o.reconnectionDelayMax(a.reconnectionDelayMax||5e3),o.randomizationFactor((u=a.randomizationFactor)!==null&&u!==void 0?u:.5),o.backoff=new ju({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(a.timeout==null?2e4:a.timeout),o._readyState="closed",o.uri=n;var s=a.parser||Qk;return o.encoder=new s.Encoder,o.decoder=new s.Decoder,o._autoConnect=a.autoConnect!==!1,o._autoConnect&&o.open(),o}return i(r,"Manager"),gtt(r,[{key:"reconnection",value:i(function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},"reconnection")},{key:"reconnectionAttempts",value:i(function(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)},"reconnectionAttempts")},{key:"reconnectionDelay",value:i(function(a){var o;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(o=this.backoff)===null||o===void 0||o.setMin(a),this)},"reconnectionDelay")},{key:"randomizationFactor",value:i(function(a){var o;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(o=this.backoff)===null||o===void 0||o.setJitter(a),this)},"randomizationFactor")},{key:"reconnectionDelayMax",value:i(function(a){var o;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(o=this.backoff)===null||o===void 0||o.setMax(a),this)},"reconnectionDelayMax")},{key:"timeout",value:i(function(a){return arguments.length?(this._timeout=a,this):this._timeout},"timeout")},{key:"maybeReconnectOnOpen",value:i(function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},"maybeReconnectOnOpen")},{key:"open",value:i(function(a){var o=this;if(~this._readyState.indexOf("open"))return this;this.engine=new bh(this.uri,this.opts);var u=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;var c=Yr(u,"open",function(){s.onopen(),a&&a()}),p=Yr(u,"error",function(m){s.cleanup(),s._readyState="closed",o.emitReserved("error",m),a?a(m):s.maybeReconnectOnOpen()});if(this._timeout!==!1){var h=this._timeout;h===0&&c();var y=this.setTimeoutFn(function(){c(),u.close(),u.emit("error",new Error("timeout"))},h);this.opts.autoUnref&&y.unref(),this.subs.push(i(function(){clearTimeout(y)},"subDestroy"))}return this.subs.push(c),this.subs.push(p),this},"open")},{key:"connect",value:i(function(a){return this.open(a)},"connect")},{key:"onopen",value:i(function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var a=this.engine;this.subs.push(Yr(a,"ping",this.onping.bind(this)),Yr(a,"data",this.ondata.bind(this)),Yr(a,"error",this.onerror.bind(this)),Yr(a,"close",this.onclose.bind(this)),Yr(this.decoder,"decoded",this.ondecoded.bind(this)))},"onopen")},{key:"onping",value:i(function(){this.emitReserved("ping")},"onping")},{key:"ondata",value:i(function(a){this.decoder.add(a)},"ondata")},{key:"ondecoded",value:i(function(a){this.emitReserved("packet",a)},"ondecoded")},{key:"onerror",value:i(function(a){this.emitReserved("error",a)},"onerror")},{key:"socket",value:i(function(a,o){var u=this.nsps[a];return u||(u=new $b(this,a,o),this.nsps[a]=u),u},"socket")},{key:"_destroy",value:i(function(a){for(var o=Object.keys(this.nsps),u=0,s=o;u<s.length;u++){var c=s[u],p=this.nsps[c];if(p.active)return}this._close()},"_destroy")},{key:"_packet",value:i(function(a){for(var o=this.encoder.encode(a),u=0;u<o.length;u++)this.engine.write(o[u],a.options)},"_packet")},{key:"cleanup",value:i(function(){this.subs.forEach(function(a){return a()}),this.subs.length=0,this.decoder.destroy()},"cleanup")},{key:"_close",value:i(function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()},"_close")},{key:"disconnect",value:i(function(){return this._close()},"disconnect")},{key:"onclose",value:i(function(a,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,o),this._reconnection&&!this.skipReconnect&&this.reconnect()},"onclose")},{key:"reconnect",value:i(function(){var a=this;if(this._reconnecting||this.skipReconnect)return this;var o=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var u=this.backoff.duration();this._reconnecting=!0;var s=this.setTimeoutFn(function(){o.skipReconnect||(a.emitReserved("reconnect_attempt",o.backoff.attempts),!o.skipReconnect&&o.open(function(c){c?(o._reconnecting=!1,o.reconnect(),a.emitReserved("reconnect_error",c)):o.onreconnect()}))},u);this.opts.autoUnref&&s.unref(),this.subs.push(i(function(){clearTimeout(s)},"subDestroy"))}},"reconnect")},{key:"onreconnect",value:i(function(){var a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)},"onreconnect")}]),r}(Qe);function rq(t){return rq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rq(t)}i(rq,"_typeof");var _h={};function Ph(t,e){rq(t)==="object"&&(e=t,t=void 0),e=e||{};var r=OJ(t,e.path||"/socket.io"),n=r.source,a=r.id,o=r.path,u=_h[a]&&o in _h[a].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||u,c;return s?c=new Hb(n,e):(_h[a]||(_h[a]=new Hb(n,e)),c=_h[a]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}i(Ph,"lookup");Object.assign(Ph,{Manager:Hb,Socket:$b,io:Ph,connect:Ph});function nq(t){var e=/^\w+:\/\//.exec(t),r=0;e&&(r=e[0].length+1);var n=t.indexOf("/",r);return n===-1?{origin:t,pathname:"/"}:{origin:t.slice(0,n),pathname:t.slice(n)}}i(nq,"parseUrl");function Wb(t){return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}i(Wb,"_typeof");function uq(){"use strict";uq=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Wb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(uq,"_regeneratorRuntime");function xJ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(xJ,"asyncGeneratorStep");function _tt(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){xJ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){xJ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(_tt,"_asyncToGenerator");function Ptt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Ptt,"_classCallCheck");function CJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(CJ,"_defineProperties");function Ett(t,e,r){return e&&CJ(t.prototype,e),r&&CJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ett,"_createClass");function Rtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sq(t,e)}i(Rtt,"_inherits");function sq(t,e){return sq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),sq(t,e)}i(sq,"_setPrototypeOf");function Ttt(t){var e=Itt();return i(function(){var n=Kb(t),a;if(e){var o=Kb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Att(this,a)},"_createSuperInternal")}i(Ttt,"_createSuper");function Att(t,e){if(e&&(Wb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gn(t)}i(Att,"_possibleConstructorReturn");function gn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(gn,"_assertThisInitialized");function Itt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Itt,"_isNativeReflectConstruct");function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Kb(t)}i(Kb,"_getPrototypeOf");function Rt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Rt,"_classPrivateFieldLooseBase");var ktt=0;function co(t){return"__private_"+ktt+++"_"+t}i(co,"_classPrivateFieldLooseKey");var qtt="ASSEMBLY_UPLOADING",lq="ASSEMBLY_EXECUTING",cq="ASSEMBLY_COMPLETED",FJ=[qtt,lq,cq];function Vb(t,e){return FJ.indexOf(t)>=FJ.indexOf(e)}i(Vb,"isStatus");var Du=co("rateLimitedQueue"),Eh=co("fetchWithNetworkError"),Nu=co("previousFetchStatusStillPending"),fq=co("onFinished"),iq=co("connectSocket"),so=co("onError"),oq=co("beginPolling"),lo=co("fetchStatus"),aq=co("diffStatus"),xtt=function(t){Rtt(r,t);var e=Ttt(r);function r(n,a){var o;return Ptt(this,r),o=e.call(this),Object.defineProperty(gn(o),aq,{value:Dtt}),Object.defineProperty(gn(o),lo,{value:Ntt}),Object.defineProperty(gn(o),oq,{value:jtt}),Object.defineProperty(gn(o),so,{value:Ltt}),Object.defineProperty(gn(o),iq,{value:Ftt}),Object.defineProperty(gn(o),fq,{value:Ctt}),Object.defineProperty(gn(o),Du,{writable:!0,value:void 0}),Object.defineProperty(gn(o),Eh,{writable:!0,value:void 0}),Object.defineProperty(gn(o),Nu,{writable:!0,value:!1}),o.status=n,o.socket=null,o.pollInterval=null,o.closed=!1,Rt(gn(o),Du)[Du]=a,Rt(gn(o),Eh)[Eh]=a.wrapPromiseFunction($i),o}return i(r,"TransloaditAssembly"),Ett(r,[{key:"connect",value:i(function(){Rt(this,iq)[iq](),Rt(this,oq)[oq]()},"connect")},{key:"update",value:i(function(){return Rt(this,lo)[lo]({diff:!0})},"update")},{key:"updateStatus",value:i(function(a){Rt(this,aq)[aq](this.status,a),this.status=a},"updateStatus")},{key:"close",value:i(function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null},"close")}]),r}(LJ.default);function Ctt(){this.emit("finished"),this.close()}i(Ctt,"_onFinished2");function Ftt(){var t=this,e=nq(this.status.websocket_url),r=Ph(e.origin,{transports:["websocket"],path:e.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:t.status.assembly_id}),t.emit("connect")}),r.on("connect_error",function(){r.disconnect(),t.socket=null}),r.on("assembly_finished",function(){Rt(t,fq)[fq]()}),r.on("assembly_upload_finished",function(n){t.emit("upload",n),t.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){t.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){t.emit("metadata"),Rt(t,lo)[lo]({diff:!1})}),r.on("assembly_result_finished",function(n,a){t.emit("result",n,a),t.status.results[n]||(t.status.results[n]=[]),t.status.results[n].push(a)}),r.on("assembly_error",function(n){Rt(t,so)[so](n),Rt(t,lo)[lo]({diff:!1})}),this.socket=r}i(Ftt,"_connectSocket2");function Ltt(t){this.emit("error",Object.assign(new Error(t.message),t)),this.close()}i(Ltt,"_onError2");function jtt(){var t=this;this.pollInterval=setInterval(function(){(!t.socket||!t.socket.connected)&&Rt(t,lo)[lo]()},2e3)}i(jtt,"_beginPolling2");function Ntt(t){return pq.apply(this,arguments)}i(Ntt,"_fetchStatus2");function pq(){return pq=_tt(uq().mark(i(function t(e){var r,n,a,o,u;return uq().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=e===void 0?{}:e,n=r.diff,a=n===void 0?!0:n,!(this.closed||Rt(this,Du)[Du].isPaused||Rt(this,Nu)[Nu])){c.next=3;break}return c.abrupt("return");case 3:return c.prev=3,Rt(this,Nu)[Nu]=!0,c.next=7,Rt(this,Eh)[Eh](this.status.assembly_ssl_url);case 7:if(o=c.sent,Rt(this,Nu)[Nu]=!1,!this.closed){c.next=11;break}return c.abrupt("return");case 11:if(o.status!==429){c.next=14;break}return Rt(this,Du)[Du].rateLimit(2e3),c.abrupt("return");case 14:if(o.ok){c.next=17;break}return Rt(this,so)[so](new xn(o.statusText)),c.abrupt("return");case 17:return c.next=19,o.json();case 19:if(u=c.sent,!this.closed){c.next=22;break}return c.abrupt("return");case 22:this.emit("status",u),a?this.updateStatus(u):this.status=u,c.next=29;break;case 26:c.prev=26,c.t0=c.catch(3),Rt(this,so)[so](c.t0);case 29:case"end":return c.stop()}},"_callee$"),t,this,[[3,26]])},"_callee"))),pq.apply(this,arguments)}i(pq,"_fetchStatus3");function Dtt(t,e){var r=this,n=t.ok,a=e.ok;if(e.error&&!t.error)return Rt(this,so)[so](e);var o=Vb(a,lq)&&!Vb(n,lq);o&&this.emit("executing"),Object.keys(e.uploads).filter(function(u){return!Dr(t.uploads,u)}).forEach(function(u){r.emit("upload",e.uploads[u])}),o&&this.emit("metadata"),Object.keys(e.results).forEach(function(u){var s=e.results[u],c=t.results[u];s.filter(function(p){return!c||!c.some(function(h){return h.id===p.id})}).forEach(function(p){r.emit("result",u,p)})}),Vb(a,cq)&&!Vb(n,cq)&&this.emit("finished")}i(Dtt,"_diffStatus2");var hq=xtt;function Utt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Utt,"_classCallCheck");function jJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(jJ,"_defineProperties");function Mtt(t,e,r){return e&&jJ(t.prototype,e),r&&jJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Mtt,"_createClass");function pt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pt,"_classPrivateFieldLooseBase");var Btt=0;function Yb(t){return"__private_"+Btt+++"_"+t}i(Yb,"_classPrivateFieldLooseKey");var NJ="/assemblies",dr=Yb("headers"),Rh=Yb("fetchWithNetworkError"),Kt=Yb("fetchJSON"),Xr=Yb("reportError"),DJ=function(){function t(e){var r=this;Utt(this,t),e===void 0&&(e={}),Object.defineProperty(this,Kt,{value:$tt}),Object.defineProperty(this,dr,{writable:!0,value:{}}),Object.defineProperty(this,Rh,{writable:!0,value:void 0}),Object.defineProperty(this,Xr,{writable:!0,value:i(function(a,o){if(r.opts.errorReporting===!1)throw a;var u={type:o.type};throw o.assembly&&(u.assembly=o.assembly.assembly_id,u.instance=o.assembly.instance),o.url&&(u.endpoint=o.url),r.submitError(a,u).catch(function(){}),a},"value")}),this.opts=e,this.opts.client!=null&&(pt(this,dr)[dr]["Transloadit-Client"]=this.opts.client),pt(this,Rh)[Rh]=this.opts.rateLimitedQueue.wrapPromiseFunction($i)}return i(t,"Client"),Mtt(t,[{key:"createAssembly",value:i(function(r){var n=this,a=r.params,o=r.fields,u=r.signature,s=r.expectedFiles,c=new FormData;c.append("params",typeof a=="string"?a:JSON.stringify(a)),u&&c.append("signature",u),Object.keys(o).forEach(function(h){c.append(h,o[h])}),c.append("num_expected_upload_files",s);var p=new URL(NJ,"".concat(this.opts.service)).href;return pt(this,Kt)[Kt](p,{method:"post",headers:pt(this,dr)[dr],body:c}).catch(function(h){return pt(n,Xr)[Xr](h,{url:p,type:"API_ERROR"})})},"createAssembly")},{key:"reserveFile",value:i(function(r,n){var a=this,o=encodeURIComponent(n.size),u="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(o);return pt(this,Kt)[Kt](u,{method:"post",headers:pt(this,dr)[dr]}).catch(function(s){return pt(a,Xr)[Xr](s,{assembly:r,file:n,url:u,type:"API_ERROR"})})},"reserveFile")},{key:"addFile",value:i(function(r,n){var a=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var o=encodeURIComponent(n.size),u=encodeURIComponent(n.uploadURL),s=encodeURIComponent(n.name),c="file",p="size=".concat(o,"&filename=").concat(s,"&fieldname=").concat(c,"&s3Url=").concat(u),h="".concat(r.assembly_ssl_url,"/add_file?").concat(p);return pt(this,Kt)[Kt](h,{method:"post",headers:pt(this,dr)[dr]}).catch(function(y){return pt(a,Xr)[Xr](y,{assembly:r,file:n,url:h,type:"API_ERROR"})})},"addFile")},{key:"updateNumberOfFilesInAssembly",value:i(function(r,n){var a=this,o=new URL(r.assembly_ssl_url);o.pathname="/update_assemblies";var u=JSON.stringify({assembly_updates:[{assembly_id:r.assembly_id,num_expected_upload_files:n}]});return pt(this,Kt)[Kt](o,{method:"post",headers:pt(this,dr)[dr],body:u}).catch(function(s){return pt(a,Xr)[Xr](s,{url:o,type:"API_ERROR"})})},"updateNumberOfFilesInAssembly")},{key:"cancelAssembly",value:i(function(r){var n=this,a=r.assembly_ssl_url;return pt(this,Kt)[Kt](a,{method:"delete",headers:pt(this,dr)[dr]}).catch(function(o){return pt(n,Xr)[Xr](o,{url:a,type:"API_ERROR"})})},"cancelAssembly")},{key:"getAssemblyStatus",value:i(function(r){var n=this;return pt(this,Kt)[Kt](r,{headers:pt(this,dr)[dr]}).catch(function(a){return pt(n,Xr)[Xr](a,{url:r,type:"STATUS_ERROR"})})},"getAssemblyStatus")},{key:"submitError",value:i(function(r,n){var a=n===void 0?{}:n,o=a.endpoint,u=a.instance,s=a.assembly,c=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return pt(this,Kt)[Kt]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:o,instance:u,assembly_id:s,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:c})})},"submitError")}]),t}();function $tt(){for(var t,e=this,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=pt(this,Rh))[Rh].apply(t,n).then(function(o){if(o.status===429){var u;return e.opts.rateLimitedQueue.rateLimit(2e3),(u=pt(e,Kt))[Kt].apply(u,n)}if(!o.ok){var s=new Error(o.statusText);return s.statusCode=o.status,"".concat(n[0]).endsWith(NJ)?o.json().then(function(c){if(!c.error)throw s;var p=new Error(c.error);throw p.details=c.message,p.assembly=c,c.assembly_id&&(p.details+=" Assembly ID: ".concat(c.assembly_id)),p},function(c){throw c.cause=s,c}):Promise.reject(s)}return o.json()})}i($tt,"_fetchJSON2");function vq(t){return vq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vq(t)}i(vq,"_typeof");function Th(){"use strict";Th=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&vq(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(Th,"_regeneratorRuntime");function UJ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(UJ,"asyncGeneratorStep");function $J(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){UJ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){UJ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i($J,"_asyncToGenerator");function ztt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ztt,"_classCallCheck");function MJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(MJ,"_defineProperties");function Gtt(t,e,r){return e&&MJ(t.prototype,e),r&&MJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Gtt,"_createClass");function Htt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Vtt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Htt,"_createForOfIteratorHelper");function Vtt(t,e){if(!!t){if(typeof t=="string")return BJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BJ(t,e)}}i(Vtt,"_unsupportedIterableToArray");function BJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(BJ,"_arrayLikeToArray");function Wtt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Wtt,"_classPrivateFieldLooseBase");var Ktt=0;function Ytt(t){return"__private_"+Ktt+++"_"+t}i(Ytt,"_classPrivateFieldLooseKey");function Ah(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(e){throw new ni("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}i(Ah,"validateParams");function Xtt(t){var e=Object.create(null),r=Htt(t.filter(Boolean)),n;try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a.fileIDs,u=a.options,s=JSON.stringify(u);s in e?e[s].fileIDArrays.push(o):e[s]={options:u,fileIDArrays:[o]}}}catch(c){r.e(c)}finally{r.f()}return Object.values(e).map(function(c){var p=c.options,h=c.fileIDArrays;return{options:p,fileIDs:h.flat(1)}})}i(Xtt,"dedupe");var dq=Ytt("getAssemblyOptions"),Jtt=function(){function t(e,r){ztt(this,t),Object.defineProperty(this,dq,{value:Qtt}),this.files=e,this.opts=r}return i(t,"AssemblyOptions"),Gtt(t,[{key:"build",value:function(){var e=$J(Th().mark(i(function n(){var a=this,o,u;return Th().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=this.opts,!(this.files.length>0)){c.next=3;break}return c.abrupt("return",Promise.all(this.files.map(function(p){return Wtt(a,dq)[dq](p)})).then(Xtt));case 3:if(!o.alwaysRunAssembly){c.next=9;break}return c.next=6,o.getAssemblyOptions(null,o);case 6:return u=c.sent,Ah(u.params),c.abrupt("return",[{fileIDs:this.files.map(function(p){return p.id}),options:u}]);case 9:return c.abrupt("return",[]);case 10:case"end":return c.stop()}},"_callee$"),n,this)},"_callee")));function r(){return e.apply(this,arguments)}return i(r,"build"),r}()}]),t}();function Qtt(t){return yq.apply(this,arguments)}i(Qtt,"_getAssemblyOptions2");function yq(){return yq=$J(Th().mark(i(function t(e){var r,n;return Th().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:if(e!=null){o.next=2;break}return o.abrupt("return",void 0);case 2:return r=this.opts,o.next=5,r.getAssemblyOptions(e,r);case 5:if(n=o.sent,e!=null){o.next=8;break}return o.abrupt("return",void 0);case 8:return Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(u){return[u,e.meta[u]]})):n.fields==null&&(n.fields={}),Ah(n.params),o.abrupt("return",{fileIDs:[e.id],options:n});case 11:case"end":return o.stop()}},"_callee2$"),t,this)},"_callee2"))),yq.apply(this,arguments)}i(yq,"_getAssemblyOptions3");var zJ=Jtt;var HJ=Te(Fk(),1);function bq(t){return bq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bq(t)}i(bq,"_typeof");function GJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(GJ,"_defineProperties");function Ztt(t,e,r){return e&&GJ(t.prototype,e),r&&GJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ztt,"_createClass");function ert(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ert,"_classCallCheck");function trt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wq(t,e)}i(trt,"_inherits");function wq(t,e){return wq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),wq(t,e)}i(wq,"_setPrototypeOf");function rrt(t){var e=irt();return i(function(){var n=Xb(t),a;if(e){var o=Xb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return nrt(this,a)},"_createSuperInternal")}i(rrt,"_createSuper");function nrt(t,e){if(e&&(bq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}i(nrt,"_possibleConstructorReturn");function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($e,"_assertThisInitialized");function irt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(irt,"_isNativeReflectConstruct");function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Xb(t)}i(Xb,"_getPrototypeOf");function ke(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(ke,"_classPrivateFieldLooseBase");var ort=0;function Jr(t){return"__private_"+ort+++"_"+t}i(Jr,"_classPrivateFieldLooseKey");var Ih=Jr("assemblyIDs"),mq=Jr("reject"),Mu=Jr("remaining"),kh=Jr("resolve"),Ze=Jr("uppy"),fo=Jr("watching"),qh=Jr("onAssemblyComplete"),xh=Jr("onAssemblyCancel"),Bu=Jr("onAssemblyError"),Ch=Jr("onImportError"),Uu=Jr("checkAllComplete"),Oq=Jr("removeListeners"),gq=Jr("addListeners"),art=function(t){trt(r,t);var e=rrt(r);function r(n,a){var o;return ert(this,r),o=e.call(this),Object.defineProperty($e(o),gq,{value:crt}),Object.defineProperty($e(o),Oq,{value:lrt}),Object.defineProperty($e(o),Uu,{value:srt}),Object.defineProperty($e(o),fo,{value:urt}),Object.defineProperty($e(o),Ih,{writable:!0,value:void 0}),Object.defineProperty($e(o),mq,{writable:!0,value:void 0}),Object.defineProperty($e(o),Mu,{writable:!0,value:void 0}),Object.defineProperty($e(o),kh,{writable:!0,value:void 0}),Object.defineProperty($e(o),Ze,{writable:!0,value:void 0}),Object.defineProperty($e(o),qh,{writable:!0,value:i(function(s){!ke($e(o),fo)[fo](s.assembly_id)||(ke($e(o),Ze)[Ze].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(s.assembly_id)),o.emit("assembly-complete",s.assembly_id),ke($e(o),Uu)[Uu]())},"value")}),Object.defineProperty($e(o),xh,{writable:!0,value:i(function(s){!ke($e(o),fo)[fo](s.assembly_id)||ke($e(o),Uu)[Uu]()},"value")}),Object.defineProperty($e(o),Bu,{writable:!0,value:i(function(s,c){!ke($e(o),fo)[fo](s.assembly_id)||(ke($e(o),Ze)[Ze].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(s.assembly_id)),ke($e(o),Ze)[Ze].log(c),o.emit("assembly-error",s.assembly_id,c),ke($e(o),Uu)[Uu]())},"value")}),Object.defineProperty($e(o),Ch,{writable:!0,value:i(function(s,c,p){!ke($e(o),fo)[fo](s.assembly_id)||ke($e(o),Bu)[Bu](s,p)},"value")}),ke($e(o),Ze)[Ze]=n,ke($e(o),Ih)[Ih]=a,ke($e(o),Mu)[Mu]=a.length,o.promise=new Promise(function(u,s){ke($e(o),kh)[kh]=u,ke($e(o),mq)[mq]=s}),ke($e(o),gq)[gq](),o}return i(r,"TransloaditAssemblyWatcher"),Ztt(r)}(HJ.default);function urt(t){return ke(this,Ih)[Ih].indexOf(t)!==-1}i(urt,"_watching2");function srt(){ke(this,Mu)[Mu]-=1,ke(this,Mu)[Mu]===0&&(ke(this,Oq)[Oq](),ke(this,kh)[kh]())}i(srt,"_checkAllComplete2");function lrt(){ke(this,Ze)[Ze].off("transloadit:complete",ke(this,qh)[qh]),ke(this,Ze)[Ze].off("transloadit:assembly-cancel",ke(this,xh)[xh]),ke(this,Ze)[Ze].off("transloadit:assembly-error",ke(this,Bu)[Bu]),ke(this,Ze)[Ze].off("transloadit:import-error",ke(this,Ch)[Ch])}i(lrt,"_removeListeners2");function crt(){ke(this,Ze)[Ze].on("transloadit:complete",ke(this,qh)[qh]),ke(this,Ze)[Ze].on("transloadit:assembly-cancel",ke(this,xh)[xh]),ke(this,Ze)[Ze].on("transloadit:assembly-error",ke(this,Bu)[Bu]),ke(this,Ze)[Ze].on("transloadit:import-error",ke(this,Ch)[Ch])}i(crt,"_addListeners2");var VJ=art;var WJ={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function Jb(t){return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}i(Jb,"_typeof");function QJ(t){return hrt(t)||prt(t)||jq(t)||frt()}i(QJ,"_toConsumableArray");function frt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(frt,"_nonIterableSpread");function prt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(prt,"_iterableToArray");function hrt(t){if(Array.isArray(t))return kq(t)}i(hrt,"_arrayWithoutHoles");function KJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(KJ,"ownKeys");function Ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KJ(Object(r),!0).forEach(function(n){la(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Ke,"_objectSpread");function drt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=jq(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(drt,"_createForOfIteratorHelper");function vrt(t,e){return grt(t)||mrt(t,e)||jq(t,e)||yrt()}i(vrt,"_slicedToArray");function yrt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(yrt,"_nonIterableRest");function jq(t,e){if(!!t){if(typeof t=="string")return kq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kq(t,e)}}i(jq,"_unsupportedIterableToArray");function kq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(kq,"_arrayLikeToArray");function mrt(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(mrt,"_iterableToArrayLimit");function grt(t){if(Array.isArray(t))return t}i(grt,"_arrayWithHoles");function la(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(la,"_defineProperty");function po(){"use strict";po=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Jb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(po,"_regeneratorRuntime");function YJ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(YJ,"asyncGeneratorStep");function Qb(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){YJ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){YJ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(Qb,"_asyncToGenerator");function brt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(brt,"_classCallCheck");function XJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XJ,"_defineProperties");function wrt(t,e,r){return e&&XJ(t.prototype,e),r&&XJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(wrt,"_createClass");function Ort(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qq(t,e)}i(Ort,"_inherits");function qq(t,e){return qq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),qq(t,e)}i(qq,"_setPrototypeOf");function Srt(t){var e=Prt();return i(function(){var n=Zb(t),a;if(e){var o=Zb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _rt(this,a)},"_createSuperInternal")}i(Srt,"_createSuper");function _rt(t,e){if(e&&(Jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qe(t)}i(_rt,"_possibleConstructorReturn");function qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qe,"_assertThisInitialized");function Prt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Prt,"_isNativeReflectConstruct");function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Zb(t)}i(Zb,"_getPrototypeOf");function Ce(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Ce,"_classPrivateFieldLooseBase");var Ert=0;function dt(t){return"__private_"+Ert+++"_"+t}i(dt,"_classPrivateFieldLooseKey");var Rrt={version:"3.0.2"};function Trt(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}i(Trt,"defaultGetAssemblyOptions");var JJ=i(function(e){return function(r){var n=new ni("Failed to send error to the client",{cause:r});console.error(n,e)}},"sendErrorToConsole"),Nq="https://api2.transloadit.com/companion",Dq=/\.transloadit\.com$/,Art=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Dn=dt("rateLimitedQueue"),Sq=dt("getClientVersion"),xq=dt("attachAssemblyMetadata"),_q=dt("createAssembly"),Fh=dt("createAssemblyWatcher"),Pq=dt("shouldWaitAfterUpload"),Eq=dt("reserveFiles"),Lh=dt("onFileUploadURLAvailable"),Bh=dt("findFile"),Cq=dt("onFileUploadComplete"),Fq=dt("onResult"),Mh=dt("onAssemblyFinished"),$h=dt("cancelAssembly"),Rq=dt("onCancelAll"),Tq=dt("getPersistentData"),Aq=dt("onRestored"),jh=dt("connectAssembly"),Nh=dt("prepareUpload"),$u=dt("afterUpload"),Dh=dt("closeAssemblyIfExists"),Uh=dt("onError"),Iq=dt("onTusError"),ca=function(t){Ort(r,t);var e=Srt(r);function r(n,a){var o;brt(this,r);var u;o=e.call(this,n,a),u=qe(o),Object.defineProperty(qe(o),jh,{value:Mrt}),Object.defineProperty(qe(o),$h,{value:Urt}),Object.defineProperty(qe(o),Mh,{value:Drt}),Object.defineProperty(qe(o),Fq,{value:Nrt}),Object.defineProperty(qe(o),Cq,{value:jrt}),Object.defineProperty(qe(o),Bh,{value:Lrt}),Object.defineProperty(qe(o),Eq,{value:Frt}),Object.defineProperty(qe(o),Pq,{value:Crt}),Object.defineProperty(qe(o),Fh,{value:xrt}),Object.defineProperty(qe(o),_q,{value:qrt}),Object.defineProperty(qe(o),xq,{value:krt}),Object.defineProperty(qe(o),Sq,{value:Irt}),Object.defineProperty(qe(o),Dn,{writable:!0,value:void 0}),Object.defineProperty(qe(o),Lh,{writable:!0,value:i(function(h){var y,m=o.uppy.getFile(h.id);if(!!(m!=null&&(y=m.transloadit)!=null&&y.assembly)){var w=o.getPluginState(),_=w.assemblies,R=_[m.transloadit.assembly];o.client.addFile(R,m).catch(function(T){o.uppy.log(T),o.uppy.emit("transloadit:import-error",R,m.id,T)})}},"value")}),Object.defineProperty(qe(o),Rq,{writable:!0,value:function(){var p=Qb(po().mark(i(function y(m){var w,_,R,T,E,A;return po().wrap(i(function(U){for(;;)switch(U.prev=U.next){case 0:if(w=m===void 0?{}:m,_=w.reason,U.prev=1,_==="user"){U.next=4;break}return U.abrupt("return");case 4:return R=u.getPluginState(),T=R.uploadsAssemblies,E=Object.values(T).flat(1),A=E.map(function(G){return u.getAssembly(G)}),U.next=9,Promise.all(A.map(function(G){return Ce(u,$h)[$h](G)}));case 9:U.next=14;break;case 11:U.prev=11,U.t0=U.catch(1),u.uppy.log(U.t0);case 14:case"end":return U.stop()}},"_callee$"),y,null,[[1,11]])},"_callee")));function h(y){return p.apply(this,arguments)}return i(h,"value"),h}()}),Object.defineProperty(qe(o),Tq,{writable:!0,value:i(function(h){var y=o.getPluginState(),m=y.assemblies,w=y.uploadsAssemblies;h(la({},o.id,{assemblies:m,uploadsAssemblies:w}))},"value")}),Object.defineProperty(qe(o),Aq,{writable:!0,value:i(function(h){var y=h&&h[o.id]?h[o.id]:{},m=y.assemblies||{},w=y.uploadsAssemblies||{};if(Object.keys(w).length!==0){var _=i(function(A){for(var C={},U=[],G=i(function(){var Y=vrt(z[M],2),f=Y[0],l=Y[1];l.uploads.forEach(function(v){var g=Ce(qe(o),Bh)[Bh](v);C[v.id]={id:g.id,assembly:f,uploadedFile:v}});var d=o.getPluginState();Object.keys(l.results).forEach(function(v){var g=drt(l.results[v]),b;try{for(g.s();!(b=g.n()).done;){var P=b.value,q=d.files[P.original_id];P.localId=q?q.id:null,U.push({id:P.id,result:P,stepName:v,assembly:f})}}catch(L){g.e(L)}finally{g.f()}})},"_loop"),M=0,z=Object.entries(A);M<z.length;M++)G();o.setPluginState({assemblies:A,files:C,results:U,uploadsAssemblies:w})},"restoreState"),R=i(function(){var A=o.getPluginState(),C=A.assemblies,U=A.uploadsAssemblies;Object.keys(U).forEach(function(M){var z=U[M];Ce(qe(o),Fh)[Fh](z,M)});var G=Object.keys(C);G.forEach(function(M){var z=new hq(C[M],Ce(qe(o),Dn)[Dn]);Ce(qe(o),jh)[jh](z)})},"restoreAssemblies"),T=i(function(){var A=o.getPluginState(),C=A.assemblies;return Promise.all(Object.keys(C).map(function(U){return o.activeAssemblies[U].update()}))},"updateAssemblies");o.restored=Promise.resolve().then(function(){return _(m),R(),T()}),o.restored.then(function(){o.restored=null})}},"value")}),Object.defineProperty(qe(o),Nh,{writable:!0,value:i(function(h,y){var m=h.map(function(A){return o.uppy.getFile(A)}),w=m.filter(function(A){return A.error?!1:(o.uppy.emit("preprocess-progress",A,{mode:"indeterminate",message:o.i18n("creatingAssembly")}),!0)}),_=function(){var A=Qb(po().mark(i(function C(U){var G,M,z;return po().wrap(i(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return G=U.fileIDs,M=U.options,Y.prev=1,Y.next=4,Ce(qe(o),_q)[_q](G,y,M);case 4:if(z=Y.sent,!o.opts.importFromUploadURLs){Y.next=8;break}return Y.next=8,Ce(qe(o),Eq)[Eq](z,G);case 8:return G.forEach(function(f){var l=o.uppy.getFile(f);o.uppy.emit("preprocess-complete",l)}),Y.abrupt("return",z);case 12:throw Y.prev=12,Y.t0=Y.catch(1),G.forEach(function(f){var l=o.uppy.getFile(f);o.uppy.emit("preprocess-complete",l),o.uppy.emit("upload-error",l,Y.t0)}),Y.t0;case 16:case"end":return Y.stop()}},"_callee2$"),C,null,[[1,12]])},"_callee2")));return i(function(U){return A.apply(this,arguments)},"createAssembly")}(),R=o.getPluginState(),T=R.uploadsAssemblies;o.setPluginState({uploadsAssemblies:Ke(Ke({},T),{},la({},y,[]))});var E=new zJ(w,o.opts);return E.build().then(function(A){return Promise.all(A.map(_))}).then(function(A){var C=A.filter(Boolean),U=C.map(function(G){return G.status.assembly_id});return Ce(qe(o),Fh)[Fh](U,y),Promise.all(C.map(function(G){return Ce(qe(o),jh)[jh](G)}))}).catch(function(A){throw w.forEach(function(C){o.uppy.emit("preprocess-complete",C),o.uppy.emit("upload-error",C,A)}),A})},"value")}),Object.defineProperty(qe(o),$u,{writable:!0,value:i(function(h,y){var m=h.map(function(U){return o.uppy.getFile(U)}),w=m.filter(function(U){return!U.error}).map(function(U){return U.id}),_=o.getPluginState();if(o.restored)return o.restored.then(function(){return Ce(qe(o),$u)[$u](w,y)});var R=_.uploadsAssemblies[y],T=i(function(){R.forEach(function(G){var M=o.activeAssemblies[G];M.close(),delete o.activeAssemblies[G]})},"closeSocketConnections");if(!Ce(qe(o),Pq)[Pq]()){T();var E=R.map(function(U){return o.getAssembly(U)});return o.uppy.addResultData(y,{transloadit:E}),Promise.resolve()}if(R.length===0)return o.uppy.addResultData(y,{transloadit:[]}),Promise.resolve();var A=m.filter(function(U){return!Dr(o.completedFiles,U.id)});A.forEach(function(U){o.uppy.emit("postprocess-progress",U,{mode:"indeterminate",message:o.i18n("encoding")})});var C=o.assemblyWatchers[y];return C.promise.then(function(){T();var U=R.map(function(M){return o.getAssembly(M)}),G=Ke({},o.getPluginState().uploadsAssemblies);delete G[y],o.setPluginState({uploadsAssemblies:G}),o.uppy.addResultData(y,{transloadit:U})})},"value")}),Object.defineProperty(qe(o),Dh,{writable:!0,value:i(function(h){var y;(y=o.activeAssemblies[h])==null||y.close()},"value")}),Object.defineProperty(qe(o),Uh,{writable:!0,value:i(function(h,y){h===void 0&&(h=null);var m=u.getPluginState(),w=m.uploadsAssemblies[y];w==null||w.forEach(Ce(u,Dh)[Dh]),u.client.submitError(h).catch(JJ(h))},"value")}),Object.defineProperty(qe(o),Iq,{writable:!0,value:i(function(h,y){var m,w;if(Ce(qe(o),Dh)[Dh](h==null||(m=h.transloadit)==null?void 0:m.assembly),y!=null&&(w=y.message)!=null&&w.startsWith("tus: ")){var _,R,T=(_=y.originalRequest)==null||(R=_.getUnderlyingObject())==null?void 0:R.responseURL;o.client.submitError(y,{endpoint:T,type:"TUS_ERROR"}).catch(JJ(y))}},"value")}),o.type="uploader",o.id=o.opts.id||"Transloadit",o.title="Transloadit",o.defaultLocale=WJ;var s={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:Trt,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};o.opts=Ke(Ke({},s),a),Ce(qe(o),Dn)[Dn]=new hn(o.opts.limit),o.i18nInit();var c=o.opts.getAssemblyOptions!==s.getAssemblyOptions;return o.opts.params?Ah(o.opts.params):c||Ah(null),o.client=new DJ({service:o.opts.service,client:Ce(qe(o),Sq)[Sq](),errorReporting:o.opts.errorReporting,rateLimitedQueue:Ce(qe(o),Dn)[Dn]}),o.activeAssemblies={},o.assemblyWatchers={},o.completedFiles=Object.create(null),o}return i(r,"Transloadit"),wrt(r,[{key:"install",value:i(function(){this.uppy.addPreProcessor(Ce(this,Nh)[Nh]),this.uppy.addPostProcessor(Ce(this,$u)[$u]),this.uppy.on("error",Ce(this,Uh)[Uh]),this.uppy.on("cancel-all",Ce(this,Rq)[Rq]),this.uppy.on("upload-error",Ce(this,Iq)[Iq]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",Ce(this,Lh)[Lh]):this.uppy.use(Cl,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:Ce(this,Dn)[Dn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",Ce(this,Tq)[Tq]),this.uppy.on("restored",Ce(this,Aq)[Aq]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:Ke(Ke({},o),{},{individualCancellation:!1})})},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(Ce(this,Nh)[Nh]),this.uppy.removePostProcessor(Ce(this,$u)[$u]),this.uppy.off("error",Ce(this,Uh)[Uh]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",Ce(this,Lh)[Lh]);var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:Ke(Ke({},o),{},{individualCancellation:!0})})},"uninstall")},{key:"getAssembly",value:i(function(a){var o=this.getPluginState(),u=o.assemblies;return u[a]},"getAssembly")},{key:"getAssemblyFiles",value:i(function(a){return this.uppy.getFiles().filter(function(o){var u;return(o==null||(u=o.transloadit)==null?void 0:u.assembly)===a})},"getAssemblyFiles")}]),r}(lt);function Irt(){var t=this,e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(Cl.VERSION)],r=i(function(a,o){var u=t.uppy.getPlugin(a);u&&e.push("".concat(o,":").concat(u.constructor.VERSION))},"addPluginVersion");return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),e.join(",")}i(Irt,"_getClientVersion2");function krt(t,e){var r=Ke(Ke({},t.meta),{},{assembly_url:e.assembly_url,filename:t.name,fieldname:"file"}),n=Ke(Ke({},t.tus),{},{endpoint:e.tus_url,addRequestId:!0}),a=t.remote;if(t.remote&&Art.test(t.remote.companionUrl)){var o=e.companion_url.replace(/\/$/,""),u=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");a=Ke(Ke({},t.remote),{},{companionUrl:o,url:"".concat(o,"/").concat(u)})}var s=Ke(Ke({},t),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(s,{meta:r,tus:n,remote:a}),s}i(krt,"_attachAssemblyMetadata2");function qrt(t,e,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:t.length,signature:r.signature}).then(function(){var a=Qb(po().mark(i(function o(u){var s,c,p,h,y,m,w,_,R;return po().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:if(s=n.uppy.getFiles().filter(function(A){var C=A.id;return t.includes(C)}),s.length===t.length){E.next=8;break}if(s.length!==0){E.next=6;break}return E.next=5,n.client.cancelAssembly(u);case 5:return E.abrupt("return",null);case 6:return E.next=8,n.client.updateNumberOfFilesInAssembly(u,s.length);case 8:return c=new hq(u,Ce(n,Dn)[Dn]),p=c.status,h=p.assembly_id,y=n.getPluginState(),m=y.assemblies,w=y.uploadsAssemblies,n.setPluginState({assemblies:Ke(Ke({},m),{},la({},h,p)),uploadsAssemblies:Ke(Ke({},w),{},la({},e,[].concat(QJ(w[e]),[h])))}),_={},s.forEach(function(A){_[A.id]=Ce(n,xq)[xq](A,p)}),n.uppy.setState({files:Ke(Ke({},n.uppy.getState().files),_)}),R=i(function A(C,U){if(U==="cancel-all")c.close(),n.uppy.off(A);else if(C.id in _){delete _[C.id];var G=Object.keys(_).length;G===0?(c.close(),Ce(n,$h)[$h](u).catch(function(){}),n.uppy.off(A)):n.client.updateNumberOfFilesInAssembly(u,G).catch(function(){})}},"fileRemovedHandler"),n.uppy.on("file-removed",R),n.uppy.emit("transloadit:assembly-created",p,t),n.uppy.log("[Transloadit] Created Assembly ".concat(h)),E.abrupt("return",c);case 21:case"end":return E.stop()}},"_callee3$"),o)},"_callee3")));return function(o){return a.apply(this,arguments)}}()).catch(function(a){var o=new ni("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(a.message),{cause:a});throw"details"in a&&(o.details=a.details),"assembly"in a&&(o.assembly=a.assembly),o})}i(qrt,"_createAssembly2");function xrt(t,e){var r=this,n=new VJ(this.uppy,t);n.on("assembly-complete",function(a){var o=r.getAssemblyFiles(a);o.forEach(function(u){r.completedFiles[u.id]=!0,r.uppy.emit("postprocess-complete",u)})}),n.on("assembly-error",function(a,o){var u=r.getAssemblyFiles(a);u.forEach(function(s){r.uppy.emit("upload-error",s,o),r.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[e]=n}i(xrt,"_createAssemblyWatcher2");function Crt(){return this.opts.waitForEncoding||this.opts.waitForMetadata}i(Crt,"_shouldWaitAfterUpload2");function Frt(t,e){var r=this;return Promise.all(e.map(function(n){var a=r.uppy.getFile(n);return r.client.reserveFile(t.status,a)}))}i(Frt,"_reserveFiles2");function Lrt(t){for(var e=this.uppy.getFiles(),r=0;r<e.length;r++){var n=e[r];if(n.uploadURL===t.tus_upload_url||n.tus&&n.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&n.name===t.name&&n.size===t.size)return n}}i(Lrt,"_findFile2");function jrt(t,e){var r=this.getPluginState(),n=Ce(this,Bh)[Bh](e);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:Ke(Ke({},r.files),{},la({},e.id,{assembly:t,id:n.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}i(jrt,"_onFileUploadComplete2");function Nrt(t,e,r){var n=this.getPluginState(),a=n.files[r.original_id];r.localId=a?a.id:null;var o={result:r,stepName:e,id:r.id,assembly:t};this.setPluginState({results:[].concat(QJ(n.results),[o])}),this.uppy.emit("transloadit:result",e,r,this.getAssembly(t))}i(Nrt,"_onResult2");function Drt(t){var e=this,r=t.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var a=n.assembly_id,o=e.getPluginState();e.setPluginState({assemblies:Ke(Ke({},o.assemblies),{},la({},a,n))}),e.uppy.emit("transloadit:complete",n)})}i(Drt,"_onAssemblyFinished2");function Urt(t){return Lq.apply(this,arguments)}i(Urt,"_cancelAssembly2");function Lq(){return Lq=Qb(po().mark(i(function t(e){return po().wrap(i(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(e);case 2:this.uppy.emit("transloadit:assembly-cancelled",e);case 3:case"end":return n.stop()}},"_callee4$"),t,this)},"_callee4"))),Lq.apply(this,arguments)}i(Lq,"_cancelAssembly3");function Mrt(t){var e=this,r=t.status,n=r.assembly_id;return this.activeAssemblies[n]=t,t.on("status",function(a){var o=e.getPluginState(),u=o.assemblies;e.setPluginState({assemblies:Ke(Ke({},u),{},la({},n,a))})}),t.on("upload",function(a){Ce(e,Cq)[Cq](n,a)}),t.on("error",function(a){a.assembly=t.status,e.uppy.emit("transloadit:assembly-error",t.status,a)}),t.on("executing",function(){e.uppy.emit("transloadit:assembly-executing",t.status)}),this.opts.waitForEncoding&&t.on("result",function(a,o){Ce(e,Fq)[Fq](n,a,o)}),this.opts.waitForEncoding?t.on("finished",function(){Ce(e,Mh)[Mh](t.status)}):this.opts.waitForMetadata&&t.on("metadata",function(){Ce(e,Mh)[Mh](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}i(Mrt,"_connectAssembly2");ca.VERSION=Rrt.version;ca.COMPANION=Nq;ca.COMPANION_PATTERN=Dq;var ZJ={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function ew(t){return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}i(ew,"_typeof");function Gh(){"use strict";Gh=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&ew(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(Gh,"_regeneratorRuntime");function eQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(eQ,"ownKeys");function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eQ(Object(r),!0).forEach(function(n){Brt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(kr,"_objectSpread");function Brt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Brt,"_defineProperty");function tQ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(tQ,"asyncGeneratorStep");function rQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){tQ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){tQ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(rQ,"_asyncToGenerator");function $rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($rt,"_classCallCheck");function nQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(nQ,"_defineProperties");function zrt(t,e,r){return e&&nQ(t.prototype,e),r&&nQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(zrt,"_createClass");function Grt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bq(t,e)}i(Grt,"_inherits");function Bq(t,e){return Bq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Bq(t,e)}i(Bq,"_setPrototypeOf");function Hrt(t){var e=Wrt();return i(function(){var n=tw(t),a;if(e){var o=tw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Vrt(this,a)},"_createSuperInternal")}i(Hrt,"_createSuper");function Vrt(t,e){if(e&&(ew(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dl(t)}i(Vrt,"_possibleConstructorReturn");function Dl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Dl,"_assertThisInitialized");function Wrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Wrt,"_isNativeReflectConstruct");function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),tw(t)}i(tw,"_getPrototypeOf");function Uq(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Uq,"_classPrivateFieldLooseBase");var Krt=0;function aQ(t){return"__private_"+Krt+++"_"+t}i(aQ,"_classPrivateFieldLooseKey");var Yrt={version:"3.0.2"};function iQ(t,e){var r=e;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),Tu(t)?(r=new xn(r,t),r):(r.request=t,r)}i(iQ,"buildResponseError");function oQ(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}i(oQ,"setTypeInBlob");var zh=aQ("queueRequestSocketToken"),Mq=aQ("requestSocketToken"),$q=function(t){Grt(r,t);var e=Hrt(r);function r(n,a){var o;$rt(this,r),o=e.call(this,n,a),Object.defineProperty(Dl(o),zh,{writable:!0,value:void 0}),Object.defineProperty(Dl(o),Mq,{writable:!0,value:function(){var s=rQ(Gh().mark(i(function p(h){var y,m,w,_,R;return Gh().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return y=o.getOptions(h),m=h.remote.providerOptions.provider?Me:ht,w=new m(o.uppy,h.remote.providerOptions),_=Array.isArray(y.allowedMetaFields)?y.allowedMetaFields:Object.keys(h.meta),E.next=6,w.post(h.remote.url,kr(kr({},h.remote.body),{},{protocol:"multipart",endpoint:y.endpoint,size:h.data.size,fieldname:y.fieldName,metadata:Object.fromEntries(_.map(function(A){return[A,h.meta[A]]})),httpMethod:y.method,useFormData:y.formData,headers:y.headers}));case 6:return R=E.sent,E.abrupt("return",R.token);case 8:case"end":return E.stop()}},"_callee$"),p)},"_callee")));function c(p){return s.apply(this,arguments)}return i(c,"value"),c}()}),o.type="uploader",o.id=o.opts.id||"XHRUpload",o.title="XHRUpload",o.defaultLocale=ZJ;var u={formData:!0,fieldName:a.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:i(function(c){var p={};try{p=JSON.parse(c)}catch(h){n.log(h)}return p},"getResponseData"),getResponseError:i(function(c,p){var h=new Error("Upload error");return Tu(p)&&(h=new xn(h,p)),h},"getResponseError"),validateStatus:i(function(c){return c>=200&&c<300},"validateStatus")};if(o.opts=kr(kr({},u),a),o.i18nInit(),o.handleUpload=o.handleUpload.bind(Dl(o)),oa in o.opts?o.requests=o.opts[oa]:o.requests=new hn(o.opts.limit),o.opts.bundle&&!o.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((a==null?void 0:a.allowedMetaFields)===void 0&&"metaFields"in o.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");return o.uploaderEvents=Object.create(null),Uq(Dl(o),zh)[zh]=o.requests.wrapPromiseFunction(Uq(Dl(o),Mq)[Mq]),o}return i(r,"XHRUpload"),zrt(r,[{key:"getOptions",value:i(function(a){var o=this.uppy.getState().xhrUpload,u=this.opts.headers,s=kr(kr(kr(kr({},this.opts),o||{}),a.xhrUpload||{}),{},{headers:{}});return typeof u=="function"?s.headers=u(a):Object.assign(s.headers,this.opts.headers),o&&Object.assign(s.headers,o.headers),a.xhrUpload&&Object.assign(s.headers,a.xhrUpload.headers),s},"getOptions")},{key:"addMetadata",value:i(function(a,o,u){var s=Array.isArray(u.allowedMetaFields)?u.allowedMetaFields:Object.keys(o);s.forEach(function(c){a.append(c,o[c])})},"addMetadata")},{key:"createFormDataUpload",value:i(function(a,o){var u=new FormData;this.addMetadata(u,a.meta,o);var s=oQ(a);return a.name?u.append(o.fieldName,s,a.meta.name):u.append(o.fieldName,s),u},"createFormDataUpload")},{key:"createBundledUpload",value:i(function(a,o){var u=this,s=new FormData,c=this.uppy.getState(),p=c.meta;return this.addMetadata(s,p,o),a.forEach(function(h){var y=u.getOptions(h),m=oQ(h);h.name?s.append(y.fieldName,m,h.name):s.append(y.fieldName,m)}),s},"createBundledUpload")},{key:"upload",value:i(function(a,o,u){var s=this,c=this.getOptions(a);return this.uppy.log("uploading ".concat(o," of ").concat(u)),new Promise(function(p,h){s.uppy.emit("upload-started",a);var y=c.formData?s.createFormDataUpload(a,c):a.data,m=new XMLHttpRequest;s.uploaderEvents[a.id]=new dn(s.uppy);var w,_=new Bp(c.timeout,function(){m.abort(),w.done();var T=new Error(s.i18n("timedOut",{seconds:Math.ceil(c.timeout/1e3)}));s.uppy.emit("upload-error",a,T),h(T)}),R=sn();m.upload.addEventListener("loadstart",function(){s.uppy.log("[XHRUpload] ".concat(R," started"))}),m.upload.addEventListener("progress",function(T){s.uppy.log("[XHRUpload] ".concat(R," progress: ").concat(T.loaded," / ").concat(T.total)),_.progress(),T.lengthComputable&&s.uppy.emit("upload-progress",a,{uploader:s,bytesUploaded:T.loaded,bytesTotal:T.total})}),m.addEventListener("load",function(){if(s.uppy.log("[XHRUpload] ".concat(R," finished")),_.done(),w.done(),s.uploaderEvents[a.id]&&(s.uploaderEvents[a.id].remove(),s.uploaderEvents[a.id]=null),c.validateStatus(m.status,m.responseText,m)){var T=c.getResponseData(m.responseText,m),E=T[c.responseUrlFieldName],A={status:m.status,body:T,uploadURL:E};return s.uppy.emit("upload-success",a,A),E&&s.uppy.log("Download ".concat(a.name," from ").concat(E)),p(a)}var C=c.getResponseData(m.responseText,m),U=iQ(m,c.getResponseError(m.responseText,m)),G={status:m.status,body:C};return s.uppy.emit("upload-error",a,U,G),h(U)}),m.addEventListener("error",function(){s.uppy.log("[XHRUpload] ".concat(R," errored")),_.done(),w.done(),s.uploaderEvents[a.id]&&(s.uploaderEvents[a.id].remove(),s.uploaderEvents[a.id]=null);var T=iQ(m,c.getResponseError(m.responseText,m));return s.uppy.emit("upload-error",a,T),h(T)}),m.open(c.method.toUpperCase(),c.endpoint,!0),m.withCredentials=c.withCredentials,c.responseType!==""&&(m.responseType=c.responseType),w=s.requests.run(function(){s.uppy.emit("upload-started",a);var T=s.getOptions(a);return Object.keys(T.headers).forEach(function(E){m.setRequestHeader(E,T.headers[E])}),m.send(y),function(){_.done(),m.abort()}}),s.onFileRemove(a.id,function(){w.abort(),h(new Error("File removed"))}),s.onCancelAll(a.id,function(T){var E=T.reason;E==="user"&&w.abort(),h(new Error("Upload cancelled"))})})},"upload")},{key:"uploadRemote",value:function(){var n=rQ(Gh().mark(i(function o(u){var s;return Gh().wrap(i(function(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,this.uppy.emit("upload-started",u),!u.serverToken){p.next=4;break}return p.abrupt("return",this.connectToServerSocket(u));case 4:return p.next=6,Uq(this,zh)[zh](u);case 6:return s=p.sent,this.uppy.setFileState(u.id,{serverToken:s}),p.abrupt("return",this.connectToServerSocket(this.uppy.getFile(u.id)));case 11:throw p.prev=11,p.t0=p.catch(0),this.uppy.emit("upload-error",u,p.t0),p.t0;case 15:case"end":return p.stop()}},"_callee2$"),o,this,[[0,11]])},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"uploadRemote"),a}()},{key:"connectToServerSocket",value:i(function(a){var o=this;return new Promise(function(u,s){var c=o.getOptions(a),p=a.serverToken,h=ro(a.remote.companionUrl),y=new ii({target:"".concat(h,"/api/").concat(p)});o.uploaderEvents[a.id]=new dn(o.uppy);var m;o.onFileRemove(a.id,function(){y.send("cancel",{}),m.abort(),u("upload ".concat(a.id," was removed"))}),o.onCancelAll(a.id,function(w){var _=w===void 0?{}:w,R=_.reason;R==="user"&&(y.send("cancel",{}),m.abort()),u("upload ".concat(a.id," was canceled"))}),o.onRetry(a.id,function(){y.send("pause",{}),y.send("resume",{})}),o.onRetryAll(a.id,function(){y.send("pause",{}),y.send("resume",{})}),y.on("progress",function(w){return aa(o,w,a)}),y.on("success",function(w){var _=c.getResponseData(w.response.responseText,w.response),R=_[c.responseUrlFieldName],T={status:w.response.status,body:_,uploadURL:R};return o.uppy.emit("upload-success",a,T),m.done(),o.uploaderEvents[a.id]&&(o.uploaderEvents[a.id].remove(),o.uploaderEvents[a.id]=null),u()}),y.on("error",function(w){var _=w.response,R=_?c.getResponseError(_.responseText,_):Object.assign(new Error(w.error.message),{cause:w.error});o.uppy.emit("upload-error",a,R),m.done(),o.uploaderEvents[a.id]&&(o.uploaderEvents[a.id].remove(),o.uploaderEvents[a.id]=null),s(R)}),m=o.requests.run(function(){return a.isPaused&&y.send("pause",{}),function(){return y.close()}})}).catch(function(u){o.uppy.emit("upload-error",a,u)})},"connectToServerSocket")},{key:"uploadBundle",value:i(function(a){var o=this;return new Promise(function(u,s){var c=o.opts.endpoint,p=o.opts.method,h=o.uppy.getState().xhrUpload,y=o.createBundledUpload(a,kr(kr({},o.opts),h||{})),m=new XMLHttpRequest,w=i(function(T){a.forEach(function(E){o.uppy.emit("upload-error",E,T)})},"emitError"),_=new Bp(o.opts.timeout,function(){m.abort();var R=new Error(o.i18n("timedOut",{seconds:Math.ceil(o.opts.timeout/1e3)}));w(R),s(R)});m.upload.addEventListener("loadstart",function(){o.uppy.log("[XHRUpload] started uploading bundle"),_.progress()}),m.upload.addEventListener("progress",function(R){_.progress(),R.lengthComputable&&a.forEach(function(T){o.uppy.emit("upload-progress",T,{uploader:o,bytesUploaded:R.loaded/R.total*T.size,bytesTotal:T.size})})}),m.addEventListener("load",function(R){if(_.done(),o.opts.validateStatus(R.target.status,m.responseText,m)){var T=o.opts.getResponseData(m.responseText,m),E={status:R.target.status,body:T};return a.forEach(function(C){o.uppy.emit("upload-success",C,E)}),u()}var A=o.opts.getResponseError(m.responseText,m)||new Error("Upload error");return A.request=m,w(A),s(A)}),m.addEventListener("error",function(){_.done();var R=o.opts.getResponseError(m.responseText,m)||new Error("Upload error");return w(R),s(R)}),o.uppy.on("cancel-all",function(R){var T=R===void 0?{}:R,E=T.reason;E==="user"&&(_.done(),m.abort())}),m.open(p.toUpperCase(),c,!0),m.withCredentials=o.opts.withCredentials,o.opts.responseType!==""&&(m.responseType=o.opts.responseType),Object.keys(o.opts.headers).forEach(function(R){m.setRequestHeader(R,o.opts.headers[R])}),m.send(y),a.forEach(function(R){o.uppy.emit("upload-started",R)})})},"uploadBundle")},{key:"uploadFiles",value:i(function(a){var o=this,u=a.map(function(s,c){var p=parseInt(c,10)+1,h=a.length;return s.error?Promise.reject(new Error(s.error)):s.isRemote?o.uploadRemote(s,p,h):o.upload(s,p,h)});return sh(u)},"uploadFiles")},{key:"onFileRemove",value:i(function(a,o){this.uploaderEvents[a].on("file-removed",function(u){a===u.id&&o(u.id)})},"onFileRemove")},{key:"onRetry",value:i(function(a,o){this.uploaderEvents[a].on("upload-retry",function(u){a===u&&o()})},"onRetry")},{key:"onRetryAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("retry-all",function(){!u.uppy.getFile(a)||o()})},"onRetryAll")},{key:"onCancelAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("cancel-all",function(){!u.uppy.getFile(a)||o.apply(void 0,arguments)})},"onCancelAll")},{key:"handleUpload",value:i(function(a){var o=this;if(a.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[oa]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var u=a.map(function(c){return o.uppy.getFile(c)});if(this.opts.bundle){var s=u.some(function(c){return c.isRemote});if(s)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(u)}return this.uploadFiles(u).then(function(){return null})},"handleUpload")},{key:"install",value:i(function(){if(this.opts.bundle){var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:kr(kr({},o),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)},"install")},{key:"uninstall",value:i(function(){if(this.opts.bundle){var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:kr(kr({},o),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)},"uninstall")}]),r}(lt);$q.VERSION=Yrt.version;var Hq=Te(rm(),1),_Q=Te(vQ(),1);var yQ={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function ow(t){return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}i(ow,"_typeof");function ynt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=mnt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(p){throw p},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var p=r.next();return o=p.done,p},"n"),e:i(function(p){u=!0,s=p},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(ynt,"_createForOfIteratorHelper");function mnt(t,e){if(!!t){if(typeof t=="string")return mQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mQ(t,e)}}i(mnt,"_unsupportedIterableToArray");function mQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(mQ,"_arrayLikeToArray");function Wh(){"use strict";Wh=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(f,l,d){return Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}),f[l]}i(s,"define");try{s({},"")}catch(f){s=i(function(d,v,g){return d[v]=g},"define")}function c(f,l,d,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===h)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=p(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(f,d,P),b}i(c,"wrap");function p(f,l,d){try{return{type:"normal",arg:f.call(l,d)}}catch(v){return{type:"throw",arg:v}}}i(p,"tryCatch"),t.wrap=c;var h={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(f){["next","throw","return"].forEach(function(l){s(f,l,function(d){return this._invoke(l,d)})})}i(A,"defineIteratorMethods");function C(f,l){function d(g,b,P,q){var L=p(f[g],f,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&ow(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){d("next",j,P,q)},function(j){d("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return d("throw",j,P,q)})}q(L.arg)}i(d,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){d(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(C,"AsyncIterator");function U(f,l){var d=f.iterator[l.method];if(d===void 0){if(l.delegate=null,l.method==="throw"){if(f.iterator.return&&(l.method="return",l.arg=void 0,U(f,l),l.method==="throw"))return h;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var v=p(d,f.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,h;var g=v.arg;return g?g.done?(l[f.resultName]=g.value,l.next=f.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,h):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,h)}i(U,"maybeInvokeDelegate");function G(f){var l={tryLoc:f[0]};1 in f&&(l.catchLoc=f[1]),2 in f&&(l.finallyLoc=f[2],l.afterLoc=f[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(f){var l=f.completion||{};l.type="normal",delete l.arg,f.completion=l}i(M,"resetTryEntry");function z(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(G,this),this.reset(!0)}i(z,"Context");function W(f){if(f){var l=f[a];if(l)return l.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var d=-1,v=i(function g(){for(;++d<f.length;)if(r.call(f,d))return g.value=f[d],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var l=typeof f=="function"&&f.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,w):(f.__proto__=w,s(f,u,"GeneratorFunction")),f.prototype=Object.create(E),f},t.awrap=function(f){return{__await:f}},A(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(f,l,d,v,g){g===void 0&&(g=Promise);var b=new C(c(f,l,d,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(f){var l=[];for(var d in f)l.push(d);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in f)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var d in this)d.charAt(0)==="t"&&r.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var d=this;function v(O,I){return P.type="throw",P.arg=l,d.next=O,I&&(d.method="next",d.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,d){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=d&&d<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=d,b?(this.method="next",this.next=b.finallyLoc,h):this.complete(P)},"abrupt"),complete:i(function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),h},"complete"),finish:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),h}},"finish"),catch:i(function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,d,v){return this.delegate={iterator:W(l),resultName:d,nextLoc:v},this.method==="next"&&(this.arg=void 0),h},"delegateYield")},t}i(Wh,"_regeneratorRuntime");function gQ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(p){r(p);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(gQ,"asyncGeneratorStep");function bQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){gQ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){gQ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(bQ,"_asyncToGenerator");function wQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(wQ,"ownKeys");function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(r),!0).forEach(function(n){gnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ho,"_objectSpread");function gnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(gnt,"_defineProperty");function bnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(bnt,"_classCallCheck");function OQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(OQ,"_defineProperties");function wnt(t,e,r){return e&&OQ(t.prototype,e),r&&OQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(wnt,"_createClass");function Ont(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gq(t,e)}i(Ont,"_inherits");function Gq(t,e){return Gq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Gq(t,e)}i(Gq,"_setPrototypeOf");function Snt(t){var e=Pnt();return i(function(){var n=aw(t),a;if(e){var o=aw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _nt(this,a)},"_createSuperInternal")}i(Snt,"_createSuper");function _nt(t,e){if(e&&(ow(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kh(t)}i(_nt,"_possibleConstructorReturn");function Kh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Kh,"_assertThisInitialized");function Pnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Pnt,"_isNativeReflectConstruct");function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),aw(t)}i(aw,"_getPrototypeOf");function SQ(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(SQ,"_classPrivateFieldLooseBase");var Ent=0;function Rnt(t){return"__private_"+Ent+++"_"+t}i(Rnt,"_classPrivateFieldLooseKey");var Vh=Rnt("RateLimitedQueue"),PQ=function(t){Ont(r,t);var e=Snt(r);function r(n,a){var o;bnt(this,r),o=e.call(this,n,a),Object.defineProperty(Kh(o),Vh,{writable:!0,value:void 0}),o.id=o.opts.id||"Compressor",o.type="modifier",o.defaultLocale=yQ;var u={quality:.6,limit:10};return o.opts=ho(ho({},u),a),SQ(Kh(o),Vh)[Vh]=new hn(o.opts.limit),o.i18nInit(),o.prepareUpload=o.prepareUpload.bind(Kh(o)),o.compress=o.compress.bind(Kh(o)),o}return i(r,"Compressor"),wnt(r,[{key:"compress",value:i(function(a){var o=this;return new Promise(function(u,s){new _Q.default(a,ho(ho({},o.opts),{},{success:u,error:s}))})},"compress")},{key:"prepareUpload",value:function(){var n=bQ(Wh().mark(i(function o(u){var s=this,c,p,h,y,m,w,_,R;return Wh().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return c=0,p=[],h=SQ(this,Vh)[Vh].wrapPromiseFunction(function(){var A=bQ(Wh().mark(i(function C(U){var G,M,z,W,Y,f;return Wh().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,s.compress(U.data);case 3:G=d.sent,M=U.data.size-G.size,s.uppy.log("[Image Compressor] Image ".concat(U.id," compressed by ").concat((0,Hq.default)(M))),c+=M,z=G.name,W=G.type,Y=G.size,f=z&&ji(z).extension,s.uppy.setFileState(U.id,ho(ho(ho(ho(ho({},z&&{name:z}),f&&{extension:f}),W&&{type:W}),Y&&{size:Y}),{},{data:G})),s.uppy.setFileMeta(U.id,{type:W}),p.push(U),d.next=18;break;case 14:d.prev=14,d.t0=d.catch(0),s.uppy.log("[Image Compressor] Failed to compress ".concat(U.id,":"),"warning"),s.uppy.log(d.t0,"warning");case 18:case"end":return d.stop()}},"_callee$"),C,null,[[0,14]])},"_callee")));return function(C){return A.apply(this,arguments)}}()),y=u.map(function(A){var C=s.uppy.getFile(A);return s.uppy.emit("preprocess-progress",C,{mode:"indeterminate",message:s.i18n("compressingImages")}),C.isRemote||(C.data.type||(C.data=C.data.slice(0,C.data.size,C.type)),!C.type.startsWith("image/"))?Promise.resolve():h(C)}),E.next=6,Promise.all(y);case 6:this.uppy.emit("compressor:complete",p),c>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,Hq.default)(c)}),"info"),m=ynt(u);try{for(m.s();!(w=m.n()).done;)_=w.value,R=this.uppy.getFile(_),this.uppy.emit("preprocess-complete",R)}catch(A){m.e(A)}finally{m.f()}case 10:case"end":return E.stop()}},"_callee2$"),o,this)},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"prepareUpload"),a}()},{key:"install",value:i(function(){this.uppy.addPreProcessor(this.prepareUpload)},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(this.prepareUpload)},"uninstall")}]),r}(lt);function uw(){return uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(this,arguments)}i(uw,"_extends");var Tnt={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Ant={button:!0,fieldset:!0,reset:!0,submit:!0},Int={checkbox:!0,radio:!0},knt=/^\s+|\s+$/g,qnt=Array.prototype.slice,EQ=Object.prototype.toString;function sw(t,e){if(!t)throw new Error("A form is required by getFormData, was given form="+t);e=uw({includeDisabled:!1,trim:!1},e);for(var r={},n,a=[],o={},u=0,s=t.elements.length;u<s;u++){var c=t.elements[u];Ant[c.type]||c.disabled&&!e.includeDisabled||(n=c.name||c.id,n&&!o[n]&&(a.push(n),o[n]=!0))}for(var p=0,h=a.length;p<h;p++){n=a[p];var y=TQ(t,n,e);y!=null&&(r[n]=y)}return r}i(sw,"getFormData");function TQ(t,e,r){if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&EQ.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);r=uw({includeDisabled:!1,trim:!1},r);var n=t.elements[e];if(!n||n.disabled&&!r.includeDisabled)return null;if(!Tnt[EQ.call(n)])return RQ(n,r.trim);for(var a=[],o=!0,u=0,s=n.length;u<s;u++)if(!(n[u].disabled&&!r.includeDisabled)){o&&n[u].type!=="radio"&&(o=!1);var c=RQ(n[u],r.trim);c!=null&&(a=a.concat(c))}return o&&a.length===1?a[0]:a.length>0?a:null}i(TQ,"getFieldData");function RQ(t,e){var r=null,n=t.type;if(n==="select-one")return t.options.length&&(r=t.options[t.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var a=0,o=t.options.length;a<o;a++)t.options[a].selected&&r.push(t.options[a].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in t?(t.multiple?(r=qnt.call(t.files),r.length===0&&(r=null)):r=t.files[0],r):(Int[n]?t.checked&&(n==="checkbox"&&!t.hasAttribute("value")?r=!0:r=t.value):r=e?t.value.replace(knt,""):t.value,r)}i(RQ,"getFormElementValue");sw.getFieldData=TQ;function Vq(t){return Vq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vq(t)}i(Vq,"_typeof");function AQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(AQ,"ownKeys");function IQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AQ(Object(r),!0).forEach(function(n){xnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(IQ,"_objectSpread");function xnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(xnt,"_defineProperty");function Cnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Cnt,"_classCallCheck");function kQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(kQ,"_defineProperties");function Fnt(t,e,r){return e&&kQ(t.prototype,e),r&&kQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Fnt,"_createClass");function Lnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wq(t,e)}i(Lnt,"_inherits");function Wq(t,e){return Wq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Wq(t,e)}i(Wq,"_setPrototypeOf");function jnt(t){var e=Dnt();return i(function(){var n=lw(t),a;if(e){var o=lw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Nnt(this,a)},"_createSuperInternal")}i(jnt,"_createSuper");function Nnt(t,e){if(e&&(Vq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ul(t)}i(Nnt,"_possibleConstructorReturn");function Ul(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ul,"_assertThisInitialized");function Dnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Dnt,"_isNativeReflectConstruct");function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),lw(t)}i(lw,"_getPrototypeOf");var Unt={version:"3.0.1"},Kq=function(t){Lnt(r,t);var e=jnt(r);function r(n,a){var o;Cnt(this,r),o=e.call(this,n,a),o.type="acquirer",o.id=o.opts.id||"Form",o.title="Form";var u={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return o.opts=IQ(IQ({},u),a),o.handleFormSubmit=o.handleFormSubmit.bind(Ul(o)),o.handleUploadStart=o.handleUploadStart.bind(Ul(o)),o.handleSuccess=o.handleSuccess.bind(Ul(o)),o.addResultToForm=o.addResultToForm.bind(Ul(o)),o.getMetaFromForm=o.getMetaFromForm.bind(Ul(o)),o}return i(r,"Form"),Fnt(r,[{key:"handleUploadStart",value:i(function(){this.opts.getMetaFromForm&&this.getMetaFromForm()},"handleUploadStart")},{key:"handleSuccess",value:i(function(a){this.opts.addResultToForm&&this.addResultToForm(a),this.opts.submitOnSuccess&&this.form.submit()},"handleSuccess")},{key:"handleFormSubmit",value:i(function(a){var o=this;if(this.opts.triggerUploadOnSubmit){a.preventDefault();var u=Et(a.target.elements),s=[];u.forEach(function(c){var p=c.tagName==="BUTTON"||c.tagName==="INPUT"&&c.type==="submit";p&&!c.disabled&&(c.disabled=!0,s.push(c))}),this.uppy.upload().then(function(){s.forEach(function(c){c.disabled=!1})},function(c){return s.forEach(function(p){p.disabled=!1}),Promise.reject(c)}).catch(function(c){o.uppy.log(c.stack||c.message||c)})}},"handleFormSubmit")},{key:"addResultToForm",value:i(function(a){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(a);var o=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(o){var u;try{u=JSON.parse(o.value)}catch(s){}Array.isArray(u)||(u=[]),u.push(a),o.value=JSON.stringify(u);return}o=document.createElement("input"),o.name=this.opts.resultName,o.type="hidden",o.value=JSON.stringify([a]),this.form.appendChild(o)},"addResultToForm")},{key:"getMetaFromForm",value:i(function(){var a=sw(this.form);delete a[this.opts.resultName],this.uppy.setMeta(a)},"getMetaFromForm")},{key:"install",value:i(function(){if(this.form=Yf(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)},"install")},{key:"uninstall",value:i(function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)},"uninstall")}]),r}(lt);Kq.VERSION=Unt.version;var XQ=Te(Cf(),1);function Mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Mnt,"_classCallCheck");function qQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(qQ,"_defineProperties");function Bnt(t,e,r){return e&&qQ(t.prototype,e),r&&qQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Bnt,"_createClass");var xQ=typeof navigator!="undefined"&&"serviceWorker"in navigator;function $nt(){return new Promise(function(t,e){xQ?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))})}i($nt,"waitForServiceWorker");var CQ=function(){function t(e){Mnt(this,t),this.ready=$nt(),this.name=e.storeName}return i(t,"ServiceWorkerStore"),Bnt(t,[{key:"list",value:i(function(){var r=this,n={},a=new Promise(function(u,s){n.resolve=u,n.reject=s}),o=i(function u(s){if(s.data.store===r.name)switch(s.data.type){case"uppy/ALL_FILES":n.resolve(s.data.files),navigator.serviceWorker.removeEventListener("message",u);break;default:n.reject()}},"onMessage");return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",o),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),a},"list")},{key:"put",value:i(function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})},"put")},{key:"delete",value:i(function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})},"_delete")}]),t}();CQ.isSupported=xQ;var FQ=CQ;function LQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(LQ,"ownKeys");function znt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LQ(Object(r),!0).forEach(function(n){Gnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(znt,"_objectSpread");function Gnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Gnt,"_defineProperty");function Hnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Hnt,"_classCallCheck");function jQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(jQ,"_defineProperties");function Vnt(t,e,r){return e&&jQ(t.prototype,e),r&&jQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Vnt,"_createClass");var MQ=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),Wnt=!!MQ,NQ="uppy-blobs",qr="files",BQ=24*60*60*1e3,Knt=3;function Ynt(t){var e=t.openCursor();e.onsuccess=function(r){var n=r.target.result;if(!!n){var a=n.value;a.expires=Date.now()+BQ,n.update(a)}}}i(Ynt,"migrateExpiration");function DQ(t){var e=MQ.open(t,Knt);return new Promise(function(r,n){e.onupgradeneeded=function(a){var o=a.target.result,u=a.currentTarget.transaction;if(a.oldVersion<2){var s=o.createObjectStore(qr,{keyPath:"id"});s.createIndex("store","store",{unique:!1})}if(a.oldVersion<3){var c=u.objectStore(qr);c.createIndex("expires","expires",{unique:!1}),Ynt(c)}u.oncomplete=function(){r(o)}},e.onsuccess=function(a){r(a.target.result)},e.onerror=n})}i(DQ,"connect");function cw(t){return new Promise(function(e,r){t.onsuccess=function(n){e(n.target.result)},t.onerror=r})}i(cw,"waitForRequest");var UQ=!1,$Q=function(){function t(e){var r=this;Hnt(this,t),this.opts=znt({dbName:NQ,storeName:"default",expires:BQ,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var n=i(function(){return DQ(r.opts.dbName)},"createConnection");UQ?this.ready=n():(UQ=!0,this.ready=t.cleanup().then(n,n))}return i(t,"IndexedDBStore"),Vnt(t,[{key:"key",value:i(function(r){return"".concat(this.name,"!").concat(r)},"key")},{key:"list",value:i(function(){var r=this;return this.ready.then(function(n){var a=n.transaction([qr],"readonly"),o=a.objectStore(qr),u=o.index("store").getAll(IDBKeyRange.only(r.name));return cw(u)}).then(function(n){var a={};return n.forEach(function(o){a[o.fileID]=o.data}),a})},"list")},{key:"get",value:i(function(r){var n=this;return this.ready.then(function(a){var o=a.transaction([qr],"readonly"),u=o.objectStore(qr).get(n.key(r));return cw(u)}).then(function(a){return{id:a.data.fileID,data:a.data.data}})},"get")},{key:"getSize",value:i(function(){var r=this;return this.ready.then(function(n){var a=n.transaction([qr],"readonly"),o=a.objectStore(qr),u=o.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(s,c){var p=0;u.onsuccess=function(h){var y=h.target.result;y?(p+=y.value.data.size,y.continue()):s(p)},u.onerror=function(){c(new Error("Could not retrieve stored blobs size"))}})})},"getSize")},{key:"put",value:i(function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(a){return a>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(a){var o=a.transaction([qr],"readwrite"),u=o.objectStore(qr).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return cw(u)})},"put")},{key:"delete",value:i(function(r){var n=this;return this.ready.then(function(a){var o=a.transaction([qr],"readwrite"),u=o.objectStore(qr).delete(n.key(r));return cw(u)})},"_delete")}],[{key:"cleanup",value:i(function(){return DQ(NQ).then(function(r){var n=r.transaction([qr],"readwrite"),a=n.objectStore(qr),o=a.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(u,s){o.onsuccess=function(c){var p=c.target.result;p?(p.delete(),p.continue()):u(r)},o.onerror=s})}).then(function(r){r.close()})},"cleanup")}]),t}();$Q.isSupported=Wnt;var zQ=$Q;function GQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(GQ,"ownKeys");function Xnt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GQ(Object(r),!0).forEach(function(n){Jnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Xnt,"_objectSpread");function Jnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Jnt,"_defineProperty");function Qnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Qnt,"_classCallCheck");function HQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(HQ,"_defineProperties");function Znt(t,e,r){return e&&HQ(t.prototype,e),r&&HQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Znt,"_createClass");function eit(){for(var t=[],e=0;e<localStorage.length;e++){var r=localStorage.key(e);/^uppyState:/.test(r)&&t.push(r.slice(10))}return t}i(eit,"findUppyInstances");function VQ(t){try{return JSON.parse(t)}catch(e){return null}}i(VQ,"maybeParse");var WQ=!1,Yh=function(){function t(e){Qnt(this,t),this.opts=Xnt({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),WQ||(WQ=!0,t.cleanup())}return i(t,"MetaDataStore"),Znt(t,[{key:"load",value:i(function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=VQ(r);return n?n.metadata?n.metadata:(this.save(n),n):null},"load")},{key:"save",value:i(function(r){var n=Date.now()+this.opts.expires,a=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,a)},"save")}],[{key:"cleanup",value:i(function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=eit(),a=Date.now();n.forEach(function(o){var u=localStorage.getItem("uppyState:".concat(o));if(!!u){var s=VQ(u);!s||s.expires&&s.expires<a&&localStorage.removeItem("uppyState:".concat(o))}})},"cleanup")}]),t}();function Yq(t){return Yq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yq(t)}i(Yq,"_typeof");function KQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(KQ,"ownKeys");function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KQ(Object(r),!0).forEach(function(n){tit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Yt,"_objectSpread");function tit(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(tit,"_defineProperty");function rit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(rit,"_classCallCheck");function YQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YQ,"_defineProperties");function nit(t,e,r){return e&&YQ(t.prototype,e),r&&YQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(nit,"_createClass");function iit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xq(t,e)}i(iit,"_inherits");function Xq(t,e){return Xq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Xq(t,e)}i(Xq,"_setPrototypeOf");function oit(t){var e=uit();return i(function(){var n=fw(t),a;if(e){var o=fw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return ait(this,a)},"_createSuperInternal")}i(oit,"_createSuper");function ait(t,e){if(e&&(Yq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ml(t)}i(ait,"_possibleConstructorReturn");function Ml(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ml,"_assertThisInitialized");function uit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(uit,"_isNativeReflectConstruct");function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),fw(t)}i(fw,"_getPrototypeOf");var sit={version:"3.0.1"},Jq=function(t){iit(r,t);var e=oit(r);function r(n,a){var o;rit(this,r),o=e.call(this,n,a),o.addBlobToStores=function(s){s.isRemote||(o.ServiceWorkerStore&&o.ServiceWorkerStore.put(s).catch(function(c){o.uppy.log("[GoldenRetriever] Could not store file","warning"),o.uppy.log(c)}),o.IndexedDBStore.put(s).catch(function(c){o.uppy.log("[GoldenRetriever] Could not store file","warning"),o.uppy.log(c)}))},o.removeBlobFromStores=function(s){o.ServiceWorkerStore&&o.ServiceWorkerStore.delete(s.id).catch(function(c){o.uppy.log("[GoldenRetriever] Failed to remove file","warning"),o.uppy.log(c)}),o.IndexedDBStore.delete(s.id).catch(function(c){o.uppy.log("[GoldenRetriever] Failed to remove file","warning"),o.uppy.log(c)})},o.replaceBlobInStores=function(s){o.removeBlobFromStores(s),o.addBlobToStores(s)},o.handleRestoreConfirmed=function(){o.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var s=o.uppy.getState(),c=s.currentUploads;c&&(Object.keys(c).forEach(function(p){o.uppy.restore(p,c[p])}),o.uppy.resumeAll()),o.uppy.upload(),o.uppy.setState({recoveredState:null})},o.abortRestore=function(){o.uppy.log("[GoldenRetriever] Aborting restore...");var s=Object.keys(o.uppy.getState().files);o.deleteBlobs(s).then(function(){o.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files"))}).catch(function(c){o.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files"),"warning"),o.uppy.log(c)}),o.uppy.cancelAll(),o.uppy.setState({recoveredState:null}),Yh.cleanup(o.uppy.opts.id)},o.handleComplete=function(s){var c=s.successful,p=c.map(function(h){return h.id});o.deleteBlobs(p).then(function(){o.uppy.log("[GoldenRetriever] Removed ".concat(c.length," files that finished uploading"))}).catch(function(h){o.uppy.log("[GoldenRetriever] Could not remove ".concat(c.length," files that finished uploading"),"warning"),o.uppy.log(h)}),o.uppy.setState({recoveredState:null}),Yh.cleanup(o.uppy.opts.id)},o.restoreBlobs=function(){o.uppy.getFiles().length>0?Promise.all([o.loadFileBlobsFromServiceWorker(),o.loadFileBlobsFromIndexedDB()]).then(function(s){var c=Yt(Yt({},s[0]),s[1]);o.onBlobsLoaded(c)}):o.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...")},o.type="debugger",o.id=o.opts.id||"GoldenRetriever",o.title="Golden Retriever";var u={expires:24*60*60*1e3,serviceWorker:!1};return o.opts=Yt(Yt({},u),a),o.MetaDataStore=new Yh({expires:o.opts.expires,storeName:n.getID()}),o.ServiceWorkerStore=null,o.opts.serviceWorker&&(o.ServiceWorkerStore=new FQ({storeName:n.getID()})),o.IndexedDBStore=new zQ(Yt(Yt({expires:o.opts.expires},o.opts.indexedDB||{}),{},{storeName:n.getID()})),o.saveFilesStateToLocalStorage=(0,XQ.default)(o.saveFilesStateToLocalStorage.bind(Ml(o)),500,{leading:!0,trailing:!0}),o.restoreState=o.restoreState.bind(Ml(o)),o.loadFileBlobsFromServiceWorker=o.loadFileBlobsFromServiceWorker.bind(Ml(o)),o.loadFileBlobsFromIndexedDB=o.loadFileBlobsFromIndexedDB.bind(Ml(o)),o.onBlobsLoaded=o.onBlobsLoaded.bind(Ml(o)),o}return i(r,"GoldenRetriever"),nit(r,[{key:"restoreState",value:i(function(){var a=this.MetaDataStore.load();a&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:a.currentUploads||{},files:a.files||{},recoveredState:a}),this.savedPluginData=a.pluginData)},"restoreState")},{key:"getWaitingFiles",value:i(function(){var a={};return this.uppy.getFiles().forEach(function(o){(!o.progress||!o.progress.uploadStarted)&&(a[o.id]=o)}),a},"getWaitingFiles")},{key:"getUploadingFiles",value:i(function(){var a=this,o={},u=this.uppy.getState(),s=u.currentUploads;if(s){var c=Object.keys(s);c.forEach(function(p){var h=s[p].fileIDs;h.forEach(function(y){o[y]=a.uppy.getFile(y)})})}return o},"getUploadingFiles")},{key:"saveFilesStateToLocalStorage",value:i(function(){var a=Yt(Yt({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(a).length===0){this.uppy.getState().recoveredState!==null&&this.uppy.setState({recoveredState:null}),Yh.cleanup(this.uppy.opts.id);return}var o={};Object.keys(a).forEach(function(p){a[p].isRemote?o[p]=Yt(Yt({},a[p]),{},{isRestored:!0}):o[p]=Yt(Yt({},a[p]),{},{isRestored:!0,data:null,preview:null})});var u={};this.uppy.emit("restore:get-data",function(p){Object.assign(u,p)});var s=this.uppy.getState(),c=s.currentUploads;this.MetaDataStore.save({currentUploads:c,files:o,pluginData:u})},"saveFilesStateToLocalStorage")},{key:"loadFileBlobsFromServiceWorker",value:i(function(){var a=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(o){var u=Object.keys(o).length;return u>0?(a.uppy.log("[GoldenRetriever] Successfully recovered ".concat(u," blobs from Service Worker!")),o):(a.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(o){return a.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),a.uppy.log(o),{}}):Promise.resolve({})},"loadFileBlobsFromServiceWorker")},{key:"loadFileBlobsFromIndexedDB",value:i(function(){var a=this;return this.IndexedDBStore.list().then(function(o){var u=Object.keys(o).length;return u>0?(a.uppy.log("[GoldenRetriever] Successfully recovered ".concat(u," blobs from IndexedDB!")),o):(a.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(o){return a.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),a.uppy.log(o),{}})},"loadFileBlobsFromIndexedDB")},{key:"onBlobsLoaded",value:i(function(a){var o=this,u=[],s=Yt({},this.uppy.getState().files);Object.keys(a).forEach(function(c){var p=o.uppy.getFile(c);if(!p){u.push(c);return}var h=a[c],y={data:h,isRestored:!0,isGhost:!1};s[c]=Yt(Yt({},p),y)}),Object.keys(s).forEach(function(c){s[c].data===null&&(s[c]=Yt(Yt({},s[c]),{},{isGhost:!0}))}),this.uppy.setState({files:s}),this.uppy.emit("restored",this.savedPluginData),u.length&&this.deleteBlobs(u).then(function(){o.uppy.log("[GoldenRetriever] Cleaned up ".concat(u.length," old files"))}).catch(function(c){o.uppy.log("[GoldenRetriever] Could not clean up ".concat(u.length," old files"),"warning"),o.uppy.log(c)})},"onBlobsLoaded")},{key:"deleteBlobs",value:i(function(a){var o=this,u=[];return a.forEach(function(s){o.ServiceWorkerStore&&u.push(o.ServiceWorkerStore.delete(s)),o.IndexedDBStore&&u.push(o.IndexedDBStore.delete(s))}),Promise.all(u)},"deleteBlobs")},{key:"install",value:i(function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)},"install")},{key:"uninstall",value:i(function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)},"uninstall")}]),r}(lt);Jq.VERSION=sit.version;function Qq(t){return Qq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qq(t)}i(Qq,"_typeof");function JQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(JQ,"ownKeys");function Bl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(r),!0).forEach(function(n){lit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Bl,"_objectSpread");function lit(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(lit,"_defineProperty");function cit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(cit,"_classCallCheck");function QQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(QQ,"_defineProperties");function fit(t,e,r){return e&&QQ(t.prototype,e),r&&QQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(fit,"_createClass");function pit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zq(t,e)}i(pit,"_inherits");function Zq(t,e){return Zq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Zq(t,e)}i(Zq,"_setPrototypeOf");function hit(t){var e=vit();return i(function(){var n=pw(t),a;if(e){var o=pw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return dit(this,a)},"_createSuperInternal")}i(hit,"_createSuper");function dit(t,e){if(e&&(Qq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e2(t)}i(dit,"_possibleConstructorReturn");function e2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(e2,"_assertThisInitialized");function vit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(vit,"_isNativeReflectConstruct");function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),pw(t)}i(pw,"_getPrototypeOf");var yit={version:"3.0.1"},t2=function(t){pit(r,t);var e=hit(r);function r(n,a){var o;cit(this,r),o=e.call(this,n,a),o.type="debugger",o.id=o.opts.id||"ReduxDevTools",o.title="Redux DevTools";var u={};return o.opts=Bl(Bl({},u),a),o.handleStateChange=o.handleStateChange.bind(e2(o)),o.initDevTools=o.initDevTools.bind(e2(o)),o}return i(r,"ReduxDevTools"),fit(r,[{key:"handleStateChange",value:i(function(a,o){this.devTools.send("UPPY_STATE_UPDATE",o)},"handleStateChange")},{key:"initDevTools",value:i(function(){var a=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(o){if(o.type==="DISPATCH")switch(o.payload.type){case"RESET":a.uppy.cancelAll();return;case"IMPORT_STATE":{var u=o.payload.nextLiftedState.computedStates;a.uppy.store.state=Bl(Bl({},a.uppy.getState()),u[u.length-1].state),a.uppy.updateAll(a.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":a.uppy.store.state=Bl(Bl({},a.uppy.getState()),JSON.parse(o.state)),a.uppy.updateAll(a.uppy.getState());break;default:}})},"initDevTools")},{key:"install",value:i(function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))},"install")},{key:"uninstall",value:i(function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))},"uninstall")}]),r}(Se);t2.VERSION=yit.version;function mit(){throw new Error("Core has been renamed to Uppy")}i(mit,"Core");var git={ProviderView:vR};ca.COMPANION_URL=Nq;ca.COMPANION_ALLOWED_HOSTS=Dq;var bit={};globalThis.Uppy=r2;typeof window.ResizeObserver!="function"&&(window.ResizeObserver=_$);})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
