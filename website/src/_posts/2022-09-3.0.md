---
title: "Uppy 3.0: Future proofed, fresh, loyally familiar" 
date: 2022-09-01
author: 
  - aduh95
  - arturi
  - mifi
  - murderlon
image: ""
published: true
---

<!--more-->

## ESM

Following the footsteps of many packages, we now only ship Uppy core and its plugins as ECMAScript Modules (ESM). On Uppy 2.x, we were shipping CommonJS.

If are already using ESM yourself, or are using the CDN builds, nothing changes for you! If you are using CommonJS, you might need to add some tooling for everything to work, or you might want to refactor your codebase to ESM – refer to the [Pure ESM package gist](https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c) for added information and help on how to do that.

<img class="border" alt="Uppy Compressor plugin showing compressed images notification" src="/images/blog/2.4-2.7/compressor.jpg">

## Remote Sources

We’ve introduced a new Uppy plugin/preset that combines Instagram, Facebook, Google Drive, Box, Unsplash, Dropbox, One Drive, Zoom and any future remote cloud sources that Uppy will support. It only works with Dashboard and let’s you enable all the above sources in only line:

```js
uppy.use(RemoteSoruces, { companionUrl: 'https://companion.uppy.io' }) // Remote Soruces need Companion server instance to work, you can get one hosted from Transloadit.com or self-host it
```

## Robodog is Deprecated

Uppy is flexible and extensible through plugins. But the integration code could sometimes be daunting. This is what brought [Robodog](/docs/robodog/) to life. An alternative with the same features, but with a more ergonomic and minimal API.

But, it didn’t come without its own set of new problems:

* It tries to do the exact same, but it looks like a different product.
* It’s confusing for users whether they want to use Robodog or Uppy directly.
* Robodog is more ergonomic because it’s limited. When you hit such a limit, you
  need to refactor everything to Uppy with plugins.

This has now led us to deprecating Robodog and embrace Uppy for its strong suits: modularity and flexibility. At the same time, we also introduced something to take away some repetitive integration code: [`@uppy/remote-sources`](/docs/remote-sources).

To mimic the Robodog implementation with all its features, you can use the code snippet below. But chances are Robodog did more than you need so feel free to remove things or go through the [list of plugins](/docs/plugins/) and install and use the ones you need.

You can also checkout how we migrated the Robodog example ourselves in this [commit](https://github.com/transloadit/uppy/commit/089aaed615c77bafaf905e291b6b4e82aaeb2f6f).

```js
// Import just the plugins you need
import Uppy from '@uppy/core'
import Dashboard from '@uppy/dashboard'
import RemoteSources from '@uppy/remote-sources'
import Webcam from '@uppy/webcam'
import ScreenCapture from '@uppy/screen-capture'
import ImageEditor from '@uppy/image-editor'
import Audio from '@uppy/audio'
import Transloadit, { COMPANION_URL, COMPANION_ALLOWED_HOSTS } from '@uppy/transloadit'

// Import their styles
import '@uppy/core/dist/style.css'
import '@uppy/dashboard/dist/style.css'
import '@uppy/webcam/dist/style.css'
import '@uppy/audio/dist/style.css'
import '@uppy/screen-capture/dist/style.css'
import '@uppy/image-editor/dist/style.css'

// Initialize Uppy
const uppy = new Uppy()
  .use(Dashboard, { inline: true, target: '#app' })
  .use(RemoteSources, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  .use(Webcam, { target: Dashboard })
  .use(Audio, { target: Dashboard })
  .use(ScreenCapture, { target: Dashboard })
  .use(ImageEditor, { target: Dashboard })
  .use(Transloadit, {
    async getAssemblyOptions (file) {
      // This is where you configure your auth key, auth secret, and template ID
      // https://uppy.io/docs/transloadit/#getAssemblyOptions-file
      //
      // It is important to set the secret in production:
      // https://transloadit.com/docs/topics/signature-authentication/
      const response = await fetch('/some-endpoint')
      return response.json()
    },
  })
```

## Companion 4.0

* Streaming upload can now be enabled in Companion with Tus. This gives greatly improved upload speeds when using Providers and allows uploading potentially hundreds of gigabytes without needing a large server storage. https://github.com/transloadit/uppy/pull/3851
* Companion now has a server-side event emitter that can be used to detect when uploads start, finish and fail, without having to depend on the client (works after user has closed their browser) https://github.com/transloadit/uppy/issues/3435
* Rewrite to more async/await and grossly simplified our Provider code in https://github.com/transloadit/uppy/pull/3953.

See the full [changelog](https://github.com/transloadit/uppy/blob/master/CHANGELOG.md#1300) for more details.
